/* 
 *  Copyright IBM Corp. 2025
 *  
 *  This source code is licensed under the Apache-2.0 license found in the
 *  LICENSE file in the root directory of this source tree.
 */

@use "@carbon/layout";
@use "@carbon/styles/scss/theme";
@use "../../../styles/chatTheme";

.WACHeader {
  /* Needed by the home screen so the opacity layer from the gradient backgrounds does not overlay the header in full
  screen mode. */
  position: relative;
  display: flex;
  justify-content: center;
  block-size: 41px;
  border-block-end: 1px solid theme.$border-subtle-00;
  font-size: var(--cds-chat-BASE-font-size-med);
  inline-size: 100%;
  line-height: var(--cds-chat-BASE-line-height-med);
}

.WACHeader--content {
  position: relative;
  display: flex;
  inline-size: 100%;
}

.WACWidget--maxWidth .WACHeader--content {
  max-inline-size: chatTheme.$CONTAINER-max-width;
}

.WACHeader__Buttons {
  display: flex;
  align-items: center;
}

.WACHeader__Buttons .cds--btn:active,
.WACHeader__Buttons .cds--btn:hover {
  color: var(--cds-chat-PRIMARY-color-text);
}

.WACHeader__Buttons .WACHeader__Slug {
  margin: layout.$spacing-03;
}

.WACHeader .cds--overflow-menu-options--open {
  /* Carbon dynamically calculates these values and adds them inline so we need !important to override them. This top
  will set the top of the open menu to the height of the header (plus 1px) so that it appears below the header. */
  /* stylelint-disable-next-line declaration-no-important */
  inset-block-start: 41px !important;
  /* stylelint-disable-next-line declaration-no-important */
  inset-inline: 0 unset !important;
}

.WACHeader .cds--overflow-menu-options::after {
  content: unset;
}

.WACWidget.WACWidget--rounded .WACHeader--content,
.WACWidget.WACWidget--rounded:not(.WAC--wideWidth)
  .WACHeader__LeftButtons
  .cds--popover-container:first-child
  .cds--btn,
.WACWidget.WACWidget--rounded:not(.WAC--wideWidth)
  .WACHeader__LeftButtons
  .cds--overflow-menu__wrapper:first-child
  .cds--btn {
  border-start-start-radius: var(--cds-chat-CONTAINER-border-radius);
}

.WACWidget.WACWidget--rounded .WACHeader--content,
.WACWidget.WACWidget--rounded:not(.WAC--wideWidth)
  .WACHeader__RightButtons
  .cds--popover-container:last-child
  .cds--btn {
  border-start-end-radius: var(--cds-chat-CONTAINER-border-radius);
}

.WACHeader__CenterContainer:first-child {
  margin: 0 layout.$spacing-05;
}

.WACHeader__CenterContainer {
  display: flex;
  overflow: hidden;
  flex: 1;
  align-items: center;
  margin: 0 layout.$spacing-02;
}

.WACHeader__Name {
  font-family: var(--cds-chat-BASE-header-font-family);
  font-size: var(--cds-heading-compact-01-font-size);
  font-weight: var(--cds-heading-compact-01-font-weight);
  letter-spacing: var(--cds-heading-compact-01-letter-spacing);
  line-height: var(--cds-heading-compact-01-line-height);
  text-align: center;
  word-break: break-word;
}

.WACHeader__Slug-title {
  padding-block-end: layout.$spacing-04;
}

.WACHeader__OverflowMenu {
  max-block-size: 488px;
}

.WACHeader__OverflowMenu svg,
.WACHeader__BackButton svg,
.WACHeader__RestartButton svg,
.WACHeader__CloseButton svg,
.WACHeader__CloseAndRestartButton svg {
  block-size: 16px;
  inline-size: 16px;
}

.WACContainer--render[dir="rtl"]
  .WACHomeScreenHeader
  button.WACHeader__BackButton {
  // The back button on the home screen is just text so reversing it would be wrong.
  transform: none;
}

.WAC--wideWidth.WACWidget--maxWidth .WACHeader__CenterContainer:first-child {
  margin: 0 layout.$spacing-05 0 0;
}

.WACHeader__Separator {
  block-size: 60%;
  border-inline-start: 1px solid theme.$border-subtle-01;
  inline-size: 1px;
  margin-inline-start: layout.$spacing-05;
}

.WACHeader__HeaderObjects {
  display: flex;
  flex: 1;
  justify-content: space-between;
}

.WACHeader__LeftItems,
.WACHeader__RightItems {
  display: flex;
  align-items: center;
  justify-self: end;
}

.WACHeader__CenterGap {
  flex: 1;
}

.WACChatHeaderOverflowMenu__HostElement,
.WACChatHeaderMenuButton_HostElement {
  position: absolute;
  z-index: 1;
  inset-block-end: -1px;
}

.WACHeader__TitleContainer {
  max-inline-size: 100%;
}

cds-aichat-chat-header-avatar {
  align-self: center;
  margin-inline: layout.$spacing-03;
}

cds-aichat-chat-header-avatar + .WACHeader__Separator {
  margin-inline-start: layout.$spacing-03;
}

.WACHeader--withAvatar .WACHeader__CenterContainer {
  margin-inline-start: 0;
}

.WACHeader--withAvatar
  .WACHeader__CenterContainer:first-child
  > cds-aichat-chat-header-avatar {
  margin-inline-start: layout.$spacing-04;
}
