/*
 *  Copyright IBM Corp. 2025
 *
 *  This source code is licensed under the Apache-2.0 license found in the
 *  LICENSE file in the root directory of this source tree.
 */

@use "@carbon/layout";
@use "@carbon/styles/scss/theme";
@use "@carbon/styles/scss/motion";
@use "@carbon/styles/scss/type";
@use "@carbon/styles/scss/components/button" as button;
@use "../../styles/chat-theme";

// LauncherComplex styles
.cds-aichat--launcher-complex__container {
  border-radius: layout.$spacing-04;
  animation: none;
  background-color: chat-theme.$launcher-color-background;
  box-shadow: none;

  inset-block-end: calc(
    #{layout.$spacing-05} + chat-theme.$launcher-default-size +
      chat-theme.$launcher-position-bottom - var(
        --cds-chat-LAUNCHER-desktop-expanded-height
      )
  );

  inset-inline-end: layout.$spacing-10;
  max-inline-size: 270px;
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container {
  inset-inline: layout.$spacing-10 unset;
}

.cds-aichat--launcher-complex__container
  .cds-aichat--launcher-complex__content-button {
  padding: 0;
  border: button.$button-border-width solid transparent;
  border-radius: layout.$spacing-04;
  background-color: chat-theme.$launcher-color-background;
  box-shadow: none;
  min-inline-size: layout.$spacing-13;

  &:enabled:focus {
    border-width: button.$button-border-width;
    border-color: chat-theme.$launcher-expanded-message-color-background;
    box-shadow: inset 0 0 0 button.$button-border-width
      chat-theme.$launcher-expanded-message-color-focus-border;
    outline: none;
  }

  &:enabled:hover {
    border-color: chat-theme.$launcher-expanded-message-color-background-hover;
    background-color: chat-theme.$launcher-expanded-message-color-background-hover;
    cursor: pointer;
  }

  &:enabled:active {
    border-width: button.$button-border-width;
    border-color: chat-theme.$launcher-expanded-message-color-background-active;
    background-color: chat-theme.$launcher-expanded-message-color-background-active;
    box-shadow: inset 0 0 0 button.$button-border-width
      chat-theme.$launcher-expanded-message-color-focus-border;
  }
}

.cds-aichat--launcher-complex__container .cds-aichat--launcher-complex__text {
  display: -webkit-box;
  margin: layout.$spacing-05;
  -webkit-box-orient: vertical;
  color: chat-theme.$launcher-expanded-message-color-text;
  font-size: 20px;
  letter-spacing: 0;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  line-height: 1.4;
  opacity: 0;
  overflow-wrap: break-word;
  text-align: start;
  visibility: visible;
  white-space: normal;
  word-break: break-word;
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container
  .cds-aichat--launcher-complex__text {
  text-align: end;
}

.cds-aichat--launcher-complex__container .cds-aichat--launcher__close-button {
  position: absolute;
  padding: 3px 7px 3px 3px;
  border: button.$button-outline-width solid transparent;
  margin: 0;
  box-shadow: 1px 0 2px rgb(23 23 23 / 30%);
  cursor: pointer;
  @include type.type-style("caption-01");

  inset-block-start: calc((#{layout.$spacing-06} + #{layout.$spacing-03}) * -1);
  inset-inline-end: 0;
  opacity: 0;
}

.cds-aichat--launcher-complex__container
  .cds-aichat--launcher__close-button:focus {
  border-color: theme.$focus;
  outline: none;
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container
  .cds-aichat--launcher__close-button {
  padding: 3px 3px 3px 7px;
  inset-inline: 0 unset;
}

.cds-aichat--launcher-complex__container
  .cds-aichat--launcher__close-button
  .cds-aichat--launcher__close-button-icon {
  margin-inline-end: layout.$spacing-02;
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container
  .cds-aichat--launcher__close-button
  .cds-aichat--launcher__close-button-icon {
  margin-inline: layout.$spacing-02 unset;
}

.cds-aichat--launcher-complex__container--intro-animation {
  animation: motion.$duration-slow-02 cds-aichat-launcher-fade-in-slide-up
    forwards;

  .cds-aichat--launcher__avatar {
    animation: motion.$duration-slow-02 cds-aichat-launcher-avatar-resize
      forwards;
  }

  .cds-aichat--launcher-complex__text {
    animation: motion.$duration-slow-02 cds-aichat-launcher-fade-in-text
      forwards;
  }

  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    animation: motion.$duration-slow-02 cds-aichat-launcher-resize-reposition
      forwards;
  }

  .cds-aichat--launcher__close-button {
    animation: motion.$duration-slow-02 cds-aichat-launcher-fade-in-close-button
      forwards;
  }
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container--intro-animation {
  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    animation: motion.$duration-slow-02
      cds-aichat-launcher-resize-reposition-rtl forwards;
  }
}

.cds-aichat--launcher-complex__container--simple-animation {
  animation: motion.$duration-moderate-01 cds-aichat-launcher-fade-in-slide-up
    forwards;

  .cds-aichat--launcher__avatar {
    animation: motion.$duration-moderate-01 cds-aichat-launcher-avatar-resize
      forwards;
  }

  .cds-aichat--launcher-complex__text {
    animation: motion.$duration-moderate-01 cds-aichat-launcher-fade-in-text
      forwards;
  }

  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    padding: 0 60px 60px 0;
    border-radius: layout.$spacing-11;
    animation: motion.$duration-moderate-01
      cds-aichat-launcher-fade-in-slide-up-small-expanded forwards;
    block-size: layout.$spacing-13;
    inline-size: layout.$spacing-13;
    inset-inline-end: calc(-1 * #{layout.$spacing-11});
  }

  .cds-aichat--launcher__close-button {
    animation: motion.$duration-moderate-01
      cds-aichat-launcher-fade-in-close-button forwards;
  }
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container--simple-animation {
  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    padding: 0 0 60px 60px;
    inset-inline: calc(-1 * #{layout.$spacing-11}) unset;
  }
}

.cds-aichat--launcher-complex__container--tooling-preview {
  background-color: chat-theme.$launcher-expanded-message-color-background;
  box-shadow: chat-theme.$box-shadow;
  inset-block-end: layout.$spacing-10;

  .cds-aichat--launcher-complex__text {
    opacity: 1;
  }

  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    padding: 0 60px 60px 0;
    border-radius: layout.$spacing-11;
    animation: unset;
    block-size: layout.$spacing-13;
    inline-size: layout.$spacing-13;
    inset-block-end: calc(-1 * #{layout.$spacing-11});
    inset-inline-end: calc(-1 * #{layout.$spacing-11});
  }

  .cds-aichat--launcher__close-button {
    opacity: 1;
  }
}

.cds-aichat--launcher-complex__container--close-animation {
  animation: motion.$duration-slow-01 cds-aichat-launcher-fade-out-slide-down
    forwards;

  .cds-aichat--launcher__avatar {
    animation: motion.$duration-slow-01 cds-aichat-launcher-avatar-resize
      backwards;
  }

  .cds-aichat--launcher-complex__text,
  .cds-aichat--launcher__close-button {
    animation: motion.$duration-slow-01 cds-aichat-launcher-fade-out forwards;
  }

  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    animation: motion.$duration-slow-01
      cds-aichat-launcher-default-size-position forwards;
  }
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--launcher-complex__container--close-animation {
  .cds-aichat--launcher-complex__small-launcher-container,
  .cds-aichat--launcher__button-container.cds-aichat--launcher-complex__small-launcher-container
    .cds-aichat--launcher__button {
    animation: motion.$duration-slow-02
      cds-aichat-launcher-default-size-position-rtl forwards;
  }
}
