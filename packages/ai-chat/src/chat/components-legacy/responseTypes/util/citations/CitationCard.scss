/* 
 *  Copyright IBM Corp. 2025
 *  
 *  This source code is licensed under the Apache-2.0 license found in the
 *  LICENSE file in the root directory of this source tree.
 */

@use "@carbon/layout";
@use "@carbon/styles/scss/theme";
@use "@carbon/styles/scss/type";

.cds-aichat--citation-card {
  display: block;
  inline-size: 100%;
}

.cds-aichat--message {
  a.cds-aichat--citation-card--clickable,
  button.cds-aichat--citation-card--clickable {
    padding: 0;
    border: none;
    border-radius: layout.$spacing-03;
    cursor: pointer;
    inline-size: 100%;
    padding-inline-end: 0;

    cds-tile {
      border: none;
      box-shadow: 0 0 0 1px inset theme.$chat-bubble-border;
      transition: 150ms cubic-bezier(0.2, 0, 0.38, 0.9);
    }

    @media screen and (prefers-reduced-motion: reduce) {
      cds-tile {
        border: none;
        box-shadow: 0 0 0 1px inset theme.$chat-bubble-border;
        transition: none;
      }
    }

    &:focus {
      text-decoration: none;

      cds-tile {
        box-shadow: 0 0 0 2px inset theme.$focus;
        text-decoration: none;
      }
    }

    &:hover {
      text-decoration: none;

      cds-tile {
        background: theme.$layer-hover-01;
        text-decoration: none;
      }
    }

    &:active {
      text-decoration: none;

      cds-tile {
        box-shadow: 0 0 0 2px inset theme.$focus;
        text-decoration: none;
      }
    }
  }
}

.cds-aichat--citation-card-header {
  block-size: 128px;
}

.cds-aichat--citation-card-title {
  color: theme.$text-secondary;
  @include type.type-style("body-02");

  padding-block-end: layout.$spacing-03;
}

.cds-aichat--citation-card-text {
  display: -webkit-box;
  overflow: hidden;
  -webkit-box-orient: vertical;
  color: theme.$text-secondary;
  @include type.type-style("body-01");

  -webkit-line-clamp: 5;
  line-clamp: 5;
  text-align: start;
  white-space: normal;
}

.cds-aichat--citation-card-footer {
  display: flex;
  justify-content: space-between;
  color: theme.$link-primary;
  padding-block-start: layout.$spacing-03;
}

.cds-aichat--citation-card-label,
.cds-aichat--citation-card-icon {
  @include type.type-style("caption-01");
}

.cds-aichat--citation-card-icon {
  display: flex;
  align-items: center;
}

// Need some specificity here to handle that cds-aichat--message adds underlines.
.cds-aichat--message a:hover.cds-aichat--citation-card--clickable {
  cursor: pointer;
  text-decoration: none;
}
