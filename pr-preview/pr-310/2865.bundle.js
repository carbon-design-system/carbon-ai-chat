/*! For license information please see 2865.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[2865],{171:function(e,t,n){n.d(t,{U:function(){return r},u:function(){return o}});var r,a=n(5745);function o(e){return(0,a.A)()}!function(e){e[e.MISCELLANEOUS=1]="MISCELLANEOUS",e[e.LOCAL_MESSAGE=2]="LOCAL_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.COMPONENT=4]="COMPONENT",e[e.USER=6]="USER",e[e.DEVICE_ID=8]="DEVICE_ID",e[e.FILE=9]="FILE"}(r||(r={}))},481:function(e,t,n){n.d(t,{I:function(){return u},a:function(){return E},b:function(){return d},c:function(){return c},d:function(){return m},e:function(){return _},g:function(){return p}});var r=n(4880),a=n(711);const o="undefined"!=typeof window&&"undefined"!=typeof navigator,i=o?(0,r.o0)():void 0;let s=0,l=0;o&&(s=window.screen.width,l=window.screen.height);const c="iOS"===i?.os,u=c||"Android OS"===i?.os,d=u&&(s<500||l<500),m=d&&s<500,E=(0,a.A)(function(){if(!o||!window.sessionStorage)return!1;try{return window.sessionStorage.setItem("web-chat-test-item","true"),window.sessionStorage.getItem("web-chat-test-item"),window.sessionStorage.removeItem("web-chat-test-item"),!0}catch{return!1}});function p(e){try{return new URL(e).hostname}catch{return e}}function _(e,t){return t?setTimeout(e,t):(e(),null)}},1517:function(e,t,n){n.d(t,{$:function(){return w},A:function(){return re},B:function(){return M},C:function(){return Q},D:function(){return R},E:function(){return F},F:function(){return ne},G:function(){return G},H:function(){return v},I:function(){return b},J:function(){return N},K:function(){return O},L:function(){return g},M:function(){return y},N:function(){return L},O:function(){return Y},P:function(){return I},Q:function(){return l},R:function(){return ue},S:function(){return fe},T:function(){return j},U:function(){return Ce},V:function(){return s},W:function(){return i},X:function(){return o},Y:function(){return h},Z:function(){return T},_:function(){return A},a:function(){return Ae},a0:function(){return W},a1:function(){return p},a2:function(){return C},a3:function(){return f},a4:function(){return _},a5:function(){return S},a6:function(){return P},a7:function(){return x},a8:function(){return E},a9:function(){return m},aa:function(){return d},ab:function(){return u},ac:function(){return H},ad:function(){return c},ae:function(){return a},b:function(){return _e},c:function(){return pe},d:function(){return Ee},e:function(){return me},f:function(){return ie},g:function(){return le},h:function(){return se},i:function(){return oe},j:function(){return ae},k:function(){return de},l:function(){return ce},m:function(){return te},n:function(){return ee},o:function(){return J},p:function(){return q},q:function(){return X},r:function(){return B},s:function(){return k},t:function(){return U},u:function(){return K},v:function(){return Z},w:function(){return z},x:function(){return $},y:function(){return V},z:function(){return D}});var r=n(171);const a="CHANGE_STATE",o="UPDATE_BOT_NAME",i="UPDATE_BOT_AVATAR_URL",s="UPDATE_LAUNCHER_AVATAR_URL",l="UPDATE_MAIN_HEADER_TITLE",c="HYDRATE_CHAT",u="HYDRATE_MESSAGE_HISTORY",d="ADD_LOCAL_MESSAGE_ITEM",m="REMOVE_MESSAGES",E="UPDATE_LOCAL_MESSAGE_ITEM",p="SET_APP_STATE_VALUE",_="ADD_IS_TYPING_COUNTER",f="ADD_IS_LOADING_COUNTER",C="ADD_IS_HYDRATING_COUNTER",A="SET_VIEW_STATE",T="SET_VIEW_CHANGING",h="SET_INITIAL_VIEW_CHANGE_COMPLETE",I="UPDATE_CSS_VARIABLES",S="MESSAGE_SET_OPTION_SELECTED",g="SET_MESSAGE_UI_PROPERTY",N="SET_MESSAGE_UI_STATE_INTERNAL_PROPERTY",O="SET_MESSAGE_HISTORY_PROPERTY",y="MERGE_HISTORY",R="SET_LAUNCHER_PROPERTY",M="SET_LAUNCHER_CONFIG_PROPERTY",b="ANNOUNCE_MESSAGE",D="SET_CHAT_MESSAGES_PROPERTY",H="RESTART_CONVERSATION",v="ACCEPTED_DISCLAIMER",P="ADD_MESSAGE",L="UPDATE_HOME_SCREEN_CONFIG",w="UPDATE_HAS_SENT_NON_WELCOME_MESSAGE",W="UPDATE_PERSISTED_CHAT_STATE",U="SET_TOUR_DATA",k="CLEAR_TOUR_DATA",B="CHANGE_STEP_IN_TOUR",G="SET_HOME_SCREEN_IS_OPEN",F="UPDATE_LAUNCHER_CONFIG",x="UPDATE_MESSAGE",V="SET_LAUNCHER_MINIMIZED",$="CLOSE_IFRAME_PANEL",Y="OPEN_IFRAME_CONTENT",z="SET_CONVERSATIONAL_SEARCH_CITATION_PANEL_IS_OPEN",K="SET_CUSTOM_PANEL_OPTIONS",Z="SET_CUSTOM_PANEL_OPEN",j="GO_BACK_TO_HOME",X="UPDATE_INPUT_STATE",q="SET_IS_PAGE_VISIBLE",J="ADD_INPUT_FILE",Q="CLEAR_INPUT_FILES",ee="REMOVE_INPUT_FILE",te="REMOVE_LOCAL_MESSAGE_ITEM",ne="FILE_UPLOAD_INPUT_ERROR",re="ADD_NESTED_MESSAGES",ae="SET_RESPONSE_PANEL_IS_OPEN",oe="SET_PANEL_RESPONSE_CONTENT",ie="STREAMING_ADD_CHUNK",se="STREAMING_START",le="STREAMING_MERGE_HISTORY",ce="ADD_NOTIFICATION",ue="REMOVE_ALL_NOTIFICATIONS",de="REMOVE_NOTIFICATIONS",me="UPDATE_CHAT_HEADER_CONFIG",Ee="UPDATE_MAX_VISIBLE_HEADER_OBJECTS",pe="SET_STOP_STREAMING_BUTTON_VISIBLE",_e="SET_STOP_STREAMING_BUTTON_DISABLED",fe="SET_STREAM_ID",Ce="UPDATE_MAIN_HEADER_AVATAR",Ae={changeState(e){return{type:a,partialState:e}},chatWasHydrated(){return{type:c}},hydrateMessageHistory(e){return{type:u,messageHistory:e}},removeMessages(e){return{type:m,messageIDs:e}},restartConversation(){return{type:H}},addLocalMessageItem(e,t,n,r){return{type:d,messageItem:e,message:t,addMessage:n,addAfterID:r}},addMessage(e){return{type:P,message:e}},updateLocalMessageItem(e){return{type:E,messageItem:e}},updateMessage(e){return{type:x,message:e}},messageSetOptionSelected(e,t){return{type:S,messageID:e,sentMessage:t}},updatePersistedChatState(e){return{type:W,chatState:e}},setTourData(e){return{type:U,newActiveTourMessageID:e}},clearTourData(){return{type:k}},changeStepInTour(e){return{type:B,newStepNumber:e}},updateHasSentNonWelcomeMessage(e){return{type:w,hasSentNonWelcomeMessage:e}},setAppStateValue(e,t){return{type:p,key:e,value:t}},addIsTypingCounter(e){return{type:_,addToIsTyping:e}},addIsLoadingCounter(e){return{type:f,addToIsLoading:e}},addIsHydratingCounter(e){return{type:C,addToIsHydrating:e}},updateBotName(e){return{type:o,name:e}},updateMainHeaderTitle(e){return{type:l,title:e}},updateBotAvatarURL(e){return{type:i,url:e}},updateCSSVariables(e,t,n){return{type:I,variables:e,publicVars:t,whiteLabelVariables:n}},updateHomeScreenConfig(e){return{type:L,homeScreenConfig:e}},setViewState(e){return{type:A,viewState:e}},setViewChanging(e){return{type:T,viewChanging:e}},setInitialViewChangeComplete(e){return{type:h,changeComplete:e}},setMessageUIProperty(e,t,n){return{type:g,localMessageID:e,propertyName:t,propertyValue:n}},setLauncherProperty(e,t){return{type:R,propertyName:e,propertyValue:t}},setLauncherConfigProperty(e,t,n){return{type:M,propertyName:e,propertyValue:t,launcherType:n}},setMessageHistoryProperty(e,t,n){return{type:O,messageID:e,propertyName:t,propertyValue:n}},setMessageUIStateInternalProperty(e,t,n){return{type:N,messageID:e,propertyName:t,propertyValue:n}},mergeMessageHistory(e,t){return{type:y,messageID:e,history:t}},setMessageErrorState(e,t){return Ae.setMessageHistoryProperty(e,"error_state",t)},setMessageWasAnnounced(e){return Ae.setMessageUIProperty(e,"needsAnnouncement",!1)},announceMessage(e){return{type:b,message:e}},setChatMessagesStateProperty(e,t){return{type:D,propertyName:e,propertyValue:t}},addNotification(e){const t=(0,r.u)();return{type:ce,notificationID:t,notification:e}},removeNotifications({groupID:e,notificationID:t}){return{type:de,groupID:e,notificationID:t}},removeAllNotifications(){return{type:ue}},acceptDisclaimer(){return{type:v}},setHomeScreenIsOpen(e){return{type:G,isOpen:e}},updateLauncherConfig(e){return{type:F,launcherConfig:e}},setLauncherMinimized(){return{type:V}},closeIFramePanel(){return{type:$}},setIFrameContent(e){return{type:Y,messageItem:e}},setViewSourcePanelIsOpen(e,t,n){return{type:z,isOpen:e,citationItem:t,relatedSearchResult:n}},setCustomPanelConfigOptions(e){return{type:K,options:e}},setCustomPanelOpen(e){return{type:Z,isOpen:e}},toggleHomeScreen(){return{type:j}},updateInputState(e,t){return{type:X,newState:e,isInputToHumanAgent:t}},setIsBrowserPageVisible(e){return{type:q,isVisible:e}},addInputFile(e,t){return{type:J,file:e,isInputToHumanAgent:t}},removeFileUpload(e,t){return{type:ee,fileID:e,isInputToHumanAgent:t}},removeLocalMessageItem(e){return{type:te,localMessageItemID:e}},fileUploadInputError(e,t,n){return{type:ne,fileID:e,errorMessage:t,isInputToHumanAgent:n}},clearInputFiles(e){return{type:Q,isInputToHumanAgent:e}},addNestedMessages(e){return{type:re,localMessageItems:e}},setResponsePanelIsOpen(e){return{type:ae,isOpen:e}},setResponsePanelContent(e,t=!1){return{type:oe,localMessageItem:e,isMessageForInput:t}},streamingStart(e){return{type:se,messageID:e}},streamingMergeHistory(e,t){return{type:le,messageID:e,history:t}},streamingAddChunk(e,t,n,r){return{type:ie,fullMessageID:e,chunkItem:t,isCompleteItem:n,disableFadeAnimation:r}},updateChatHeaderConfig(e){return{type:me,chatHeaderConfig:e}},setMaxVisibleHeaderObjects(e){return{type:Ee,maxTotal:e}},setStopStreamingButtonVisible(e){return{type:pe,isVisible:e}},setStopStreamingButtonDisabled(e){return{type:_e,isDisabled:e}},setStreamID(e){return{type:fe,currentStreamID:e}},updateMainHeaderAvatar(e){return{type:Ce,config:e}}}},2865:function(e,t,n){n.d(t,{A:function(){return B},C:function(){return $},H:function(){return le},M:function(){return x},W:function(){return U},a:function(){return F},b:function(){return W},u:function(){return Y}}),n(712);var r=n(2794),a=n(8799),o=n(2642),i=n(7395),s=n(2629),l=n(4573),c=n(2213),u=n(9599),d=n(9417),m=n(445),E=n(4452),p=n(3696),_=n(5022),f=n(8241),C=n(3210),A=n(4629),T=n(3539),h=(n(6677),n(3192)),I=n(1536),S=n(9890),g=n(619),N=(n(236),n(1162),n(4720)),O=n(7073),y=n(112),R=n(3407),M=n(171),b=n(8213),D=n(9708),H=n(3744),v=n(1517),P=n(4544),L=n(8325),w=(n(4776),n(3716));const W="cds--aichat",U="cds-aichat";function k(e){const t=(0,p.useContext)(H.A);return(0,p.useEffect)(()=>{t(e.message)},[t,e.message]),p.createElement("div",null)}const B=p.memo(k);function G({slotName:e,id:t,className:n}){return p.createElement("div",{className:n,id:t,"data-floating-menu-container":!0},p.createElement("slot",{name:e}))}var F=p.memo(G);const x=p.createContext(null);class V extends p.Component{constructor(){super(...arguments),this.state={attachedToHost:null},this.modalElement=document.createElement("div")}componentDidMount(){this.attachIfNeeded()}componentDidUpdate(){this.attachIfNeeded()}componentWillUnmount(){this.state.attachedToHost&&this.state.attachedToHost.removeChild(this.modalElement)}attachIfNeeded(){const e=this.context;e&&!this.state.attachedToHost&&(this.setState({attachedToHost:e}),e.appendChild(this.modalElement))}render(){return this.state.attachedToHost?L.createPortal(this.props.children,this.modalElement):null}}V.contextType=x;class $ extends p.Component{constructor(){super(...arguments),this.onYesClick=()=>{this.props.onConfirm()},this.onNoClick=()=>{this.props.onCancel()},this.onKeyDown=e=>{"Escape"===e.key&&this.props.onCancel()}}render(){const{title:e,message:t,cancelButtonLabel:n,confirmButtonLabel:r,modalAnnounceMessage:a,serviceManager:o}=this.props;return p.createElement(V,null,p.createElement(P,null,p.createElement("div",{className:"WACConfirmModal",role:"dialog","aria-labelledby":`WACConfirmModal__title${o.namespace.suffix}`,"aria-describedby":`WACConfirmModal__message${o.namespace.suffix}`},p.createElement("div",{className:"WACConfirmModal__container"},p.createElement(B,{message:a}),p.createElement("div",{className:"WACConfirmModal__title",id:`WACConfirmModal__title${o.namespace.suffix}`},e),p.createElement("div",{className:"WACConfirmModal__message",id:`WACConfirmModal__message${o.namespace.suffix}`},t),p.createElement("div",{className:"WACConfirmModal__buttonContainer"},p.createElement(u.$nd,{className:"WACConfirmModal__NoButton",kind:"secondary",onClick:this.onNoClick,onKeyDown:this.onKeyDown,size:"md"},n),p.createElement(u.$nd,{className:"WACConfirmModal__YesButton",onClick:this.onYesClick,onKeyDown:this.onKeyDown,size:"md"},r))))))}}function Y(){const e=(0,p.useRef)();return void 0===e.current&&(e.current=(0,M.u)(M.U.COMPONENT)),e.current}class z extends h.WF{constructor(){super(...arguments),this.isLoaded=!1}_handleOnError(){this.onError?.()}}z.styles=h.AH`
    ${(0,h.iz)(".cds--aichat-chat-header-avatar{\n  display:block;\n  block-size:20px;\n  max-block-size:20px;\n}\n\n.cds--aichat-chat-header-avatar--round{\n  border-radius:10px;\n}")}
  `,(0,A.Cg)([(0,g.MZ)({type:String})],z.prototype,"url",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],z.prototype,"corners",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],z.prototype,"alt",void 0),(0,A.Cg)([(0,g.MZ)({type:Object})],z.prototype,"onError",void 0),(0,A.Cg)([(0,g.wk)()],z.prototype,"isLoaded",void 0),(0,A.Cg)([S.oI],z.prototype,"_handleOnError",null);const K="cds-aichat-chat-header-avatar";let Z=class extends z{render(){return function(e){const{url:t,corners:n,alt:r,onError:a}=e;return h.qy`
    <img
      class="${E(`${W}-chat-header-avatar`,{[`${W}-chat-header-avatar--round`]:n===I.a.ROUND})}"
      src="${t}"
      alt="${r}"
      @error="${a}"
    />
  `}(this)}};Z=(0,A.Cg)([(0,T.c)(K)],Z);const j=(0,C.a)({tagName:K,elementClass:Z,react:p});let X=class extends h.WF{constructor(){super(...arguments),this.isNewTab=!0}render(){return function(e){const{label:t,url:n,isNewTab:r}=e;return h.qy`<cds-custom-button
    class="WACChatHeaderLink"
    href="${n}"
    target="${r?"_blank":"_self"}"
    kind="${N.a.GHOST}"
    size="md"
    >${t}</cds-custom-button
  >`}(this)}};(0,A.Cg)([(0,g.MZ)({type:String})],X.prototype,"url",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],X.prototype,"label",void 0),(0,A.Cg)([(0,g.MZ)({type:Boolean})],X.prototype,"isNewTab",void 0),X=(0,A.Cg)([(0,T.c)(`${U}-chat-header-link`)],X);const q=(0,C.a)({tagName:`${U}-chat-header-link`,elementClass:X,react:p});function J({id:e,className:t,label:n,isOpen:r,target:a,children:o,menuAlignment:i,containerRef:s}){return p.createElement(u.W1t,{id:e,className:t,open:r,target:a,label:n,size:"md",menuAlignment:i,mode:"full",legacyAutoalign:!1,containerRef:s},o)}function Q(e){const[t,n]=(0,p.useState)(!1),{refs:r,context:a}=(0,R.we)({open:t,onOpenChange:n}),{getReferenceProps:o,getFloatingProps:i}=(0,R.bv)([(0,R.kp)(a),(0,R.s9)(a)]),s=Y();return p.createElement("div",{ref:r.setReference,"aria-owns":s,...o()},p.createElement(u.$nd,{size:N.B.MEDIUM,kind:N.a.GHOST,onClick:()=>n(!t),renderIcon:t?y.A:O.A,onMouseDown:e=>e.preventDefault(),"aria-label":e.ariaLabel,"aria-haspopup":!0,"aria-expanded":t,"aria-controls":s},e.label),p.createElement(J,{id:s,isOpen:t,target:r.floating.current,label:e.label,containerRef:e.containerRef,menuAlignment:e.menuAlignment},e.children),p.createElement("div",{ref:r.setFloating,className:"WAChatHeaderMenuButton_HostElement",...i()}))}function ee({label:e,url:t,isNewTab:n=!0,onClick:r,children:a}){return p.createElement(u.Drp,{label:e,onClick:()=>{r?.(),t&&window.open(t,n?"_blank":"_self")}},a)}function te(e){const{label:t,items:n,defaultSelectedItem:r,selectedItem:a,onChange:o}=e;return p.createElement(u.nU_,{label:t,items:n,defaultSelectedItem:r,selectedItem:a,onChange:e=>{e.preventDefault||o(e)},itemToString:e=>"string"==typeof e?e:e.label||e.value})}function ne(e){const[t,n]=(0,p.useState)(!1),{refs:r,context:a}=(0,R.we)({open:t,onOpenChange:t=>{n(t),t?e.onOpen?.():e.onClose?.()}}),{getReferenceProps:o,getFloatingProps:i}=(0,R.bv)([(0,R.kp)(a),(0,R.s9)(a)]),s=Y();return p.createElement("div",{ref:r.setReference,"aria-owns":s,...o()},p.createElement(u.$nd,{className:E("WACChatHeaderOverflowMenu__Button",e.className),size:N.B.MEDIUM,kind:N.a.GHOST,onClick:()=>n(!t),tooltipPosition:e.tooltipPosition,renderIcon:e.renderIcon,onMouseDown:e=>e.preventDefault(),iconDescription:e.iconDescription,hasIconOnly:!0,"aria-label":e.ariaLabel,"aria-haspopup":!0,"aria-expanded":t,"aria-controls":s}),p.createElement(J,{id:s,label:e.ariaLabel,isOpen:t,target:r.floating.current,containerRef:e.containerRef,menuAlignment:e.menuAlignment},e.children),p.createElement("div",{ref:r.setFloating,className:"WACChatHeaderOverflowMenu__HostElement",...i()}))}let re=class extends h.WF{render(){return function(e){const{title:t,name:n}=e;return h.qy`<div class="WACChatHeaderTitle">
    <span className="WACChatHeaderTitle__Title" ?hidden="${!t}"
      >${t}</span
    >
    <span class="WACChatHeaderTitle__Name">${n}</span>
  </div>`}(this)}};re.styles=h.AH`
    ${(0,h.iz)("cds-chat-header-title{\n  text-align:center;\n}\n\n.WACChatHeaderTitle{\n  overflow:hidden;\n  font-size:var(--cds-chat-BASE-font-size-med);\n  font-weight:400;\n  line-height:var(--cds-chat-BASE-line-height-med);\n  overflow-wrap:break-word;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  word-wrap:break-word;\n}\n\n.WACChatHeaderTitle .WACChatHeaderTitle__Title:only-child{\n  padding-inline-end:0.25rem;\n}\n\n.WACChatHeaderTitle__Name{\n  font-weight:var(--cds-chat-BASE-weight-semibold);\n}")}
  `,(0,A.Cg)([(0,g.MZ)({type:String})],re.prototype,"title",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],re.prototype,"name",void 0),re=(0,A.Cg)([(0,T.c)(`${U}-chat-header-title`)],re);const ae=(0,C.a)({tagName:`${U}-chat-header-title`,elementClass:re,react:p}),oe=(0,C.a)({tagName:"cds-custom-ai-label",elementClass:w.A,react:p});function ie(e,t){const{displayName:n,backContent:C,showRestartButton:A,showBackButton:T,useAITheme:h,labelBackButton:S,onClickClose:g,onClickRestart:O,onCloseAndRestart:y,onClickBack:R,overflowItems:M,overflowClicked:P,backButtonType:L,showCenter:w,hideCloseButton:W,hideCloseAndRestartButton:U,brandColor:k="primary",enableChatHeaderConfig:B,headerAvatarConfig:G,testIdPrefix:x}=e,V=(0,p.useRef)(),Y=(0,p.useRef)(),z=(0,p.useRef)(),K=(0,p.useRef)(),Z=(0,p.useRef)(),X=(0,p.useRef)(),J=(0,p.useRef)(),re=(0,H.u)(),ie=(0,D.u)(),le=(0,_.d4)(e=>e.config.public),ce=(0,_.d4)(e=>e.chatHeaderState.config),ue=(0,_.d4)(e=>e.chatWidthBreakpoint),de=(0,_.d4)(e=>e.chatHeaderState.maxVisibleHeaderObjects),[me,Ee]=(0,p.useState)(!1),[pe,_e]=(0,p.useState)(!1),[fe,Ce]=(0,p.useState)({}),[Ae,Te]=(0,p.useState)(!1),he=Boolean(G)&&!Ae,Ie=(0,p.useContext)(b.a),Se=(0,H.b)(G?.url),{headerConfig:ge}=le,Ne=ue===D.C.WIDE,Oe=B?ce?.headerTitle?.title:void 0,ye=(B?ce?.headerTitle?.name:void 0)||n,Re=(0,p.useCallback)(()=>{_e(!1)},[]),Me=ge?.showCloseAndRestartButton&&!U&&y,be=ge?.hideMinimizeButton||W;let De,He=!1,ve=!0;const Pe=ge?.minimizeButtonIconType;switch(Pe){case I.M.CLOSE:De=p.createElement(a.A,{className:"WACIcon__Close",size:16});break;case I.M.MINIMIZE:De=p.createElement(c.A,{className:"WACIcon__Subtract",size:16});break;case I.M.SIDE_PANEL_LEFT:ve=!1,De=p.createElement(l.A,{className:"WACIcon__SidePanelClose"});break;case I.M.SIDE_PANEL_RIGHT:ve=!1,He=!0,De=p.createElement(l.A,{className:"WACIcon__SidePanelClose"});break;default:De=p.createElement(c.A,{className:"WACIcon__Subtract",size:16})}if(Me&&A)throw new Error("You cannot enable both the restart button and the close-and-restart buttons.");const Le=(0,p.useCallback)(()=>{_e(!1),y()},[y]);function we(e,t,n){switch(e.type){case f.C.LINK:return p.createElement(ee,{key:t,label:e.label,url:e.url,isNewTab:e.isNewTab,onClick:()=>{(0,H.d)(J)}});case f.C.BUTTON:return p.createElement(ee,{key:t,label:e.label,onClick:()=>{e.onClick?.(),(0,H.d)(J)}});case f.C.RADIO_GROUP:{const r=n[t+1];return p.createElement(p.Fragment,{key:t},0!==t&&p.createElement(u.OHP,null),p.createElement(te,{label:e.label,items:e.items,defaultSelectedItem:e.defaultSelectedItem,selectedItem:fe[e.label],onChange:t=>{Ce(n=>({...n,[e.label]:t})),e.onChange?.(t)}}),Boolean(r)&&r.type!==f.C.RADIO_GROUP&&p.createElement(u.OHP,null))}case f.C.MENU:return p.createElement(ee,{key:t,label:e.label},e.items.filter(e=>e.type!==f.C.MENU).map(we));default:return null}}function We(e,t){switch(e.type){case f.C.LINK:return p.createElement(q,{key:t,label:e.label,url:e.url,isNewTab:e.isNewTab});case f.C.MENU:return p.createElement(Q,{key:t,label:e.label,menuAlignment:"bottom-start"},e.items.map(we));case f.C.BUTTON:return p.createElement(u.$nd,{key:t,kind:N.a.GHOST,size:N.B.MEDIUM,onClick:e.onClick},e.label);default:return null}}(0,p.useImperativeHandle)(t,()=>({requestFocus:()=>K.current?((0,H.d)(K,!1,!0),!0):V.current?((0,H.d)(V,!1,!0),!0):!!Y.current&&((0,H.d)(Y,!1,!0),!0)}));let Ue=0,ke=0;B&&(Ue=ce?.left?.length??0,ke=ce?.right?.length??0);const Be=Ue>de,Ge=ke>de,Fe=(Ue||ke)&&(!Ne||Be||Ge),xe=Boolean(M?.length)||Fe,Ve="rtl"===document.dir;let $e,Ye=null,ze=null,Ke=null,Ze=null;return B&&(Ye=ce?.left?.slice(0,Be?de:void 0).map(We),ze=ce?.right?.slice(0,Ge?de:void 0).map(We),Ke=Be&&ce?.left?.slice(de).map(we),Ze=Ge&&ce?.right?.slice(de).map(we)),xe?$e=p.createElement(ne,{className:"WACHeader__OverflowMenu",renderIcon:me?r.A:i.A,iconDescription:ie.header_overflowMenu_options,ariaLabel:ie.components_overflow_ariaLabel,containerRef:J,tooltipPosition:Ve?"left":"right",menuAlignment:"bottom-start",onOpen:()=>{setTimeout(()=>{Ee(!0)})},onClose:()=>{Ee(!1)}},M?.map((e,t)=>p.createElement(u.Drp,{key:e,label:e,onClick:()=>{(0,H.d)(J),P(t)}})),Ke,Ze):T&&($e=p.createElement(se,{className:"WACHeader__BackButton",label:S,onClick:R,buttonRef:V,buttonKind:L,tooltipPosition:Ve?"left":"right"},C||p.createElement(o.A,null))),(0,p.useEffect)(()=>{if(!Ne)return void re.store.dispatch(v.a.setMaxVisibleHeaderObjects(0));if(!B)return;const e=new ResizeObserver(()=>{const e=X.current;if(e&&(e.offsetWidth>100||0===e.offsetWidth)){let e=Math.floor((Z.current.offsetWidth-100)/200);e<0&&(e=0),setTimeout(()=>{re.store.dispatch(v.a.setMaxVisibleHeaderObjects(e))})}});return e.observe(Z.current),()=>{e.disconnect()}},[Ne,B,re]),(0,p.useEffect)(()=>{Ae&&Se!==G?.url&&Te(!1)},[Se,G?.url,Ae]),p.createElement("div",{className:E("WACHeader",`WAC--${k}Color`,{"WACHeader--withAvatar":he})},p.createElement("div",{className:E("WACHeader--content",`WAC--${k}Color`),"data-floating-menu-container":!0},$e&&p.createElement("div",{className:"WACHeader__Buttons WACHeader__LeftButtons"},$e),w&&p.createElement("div",{className:"WACHeader__CenterContainer"},he&&p.createElement(j,{url:G.url,corners:G.corners,alt:ie.header_ariaBotAvatar,onError:()=>Te(!0)}),(Oe||ye)&&p.createElement("div",{className:"WACHeader__TitleContainer"},p.createElement(ae,{title:Oe,name:ye})),Ne&&Boolean(Ue)&&p.createElement("div",{className:"WACHeader__Separator"}),p.createElement("div",{ref:Z,className:"WACHeader__HeaderObjects"},Ne&&Boolean(Ue)&&p.createElement("div",{className:"WACHeader__LeftItems"},Ye),p.createElement("div",{ref:X,className:"WACHeader__CenterGap"}),Ne&&Boolean(ke)&&p.createElement("div",{className:"WACHeader__RightItems"},ze))),p.createElement("div",{className:"WACHeader__Buttons WACHeader__RightButtons"},h&&p.createElement(oe,{className:"WACHeader__Slug",size:d.G.EXTRA_SMALL,alignment:Ve?m.U.BOTTOM_LEFT:m.U.BOTTOM_RIGHT},p.createElement("div",{slot:"body-text"},p.createElement("h4",{className:"WACHeader__Slug-title"},ie.ai_slug_title),p.createElement("div",{className:"WACHeader__Slug-description"},p.createElement("div",null,ie.ai_slug_description),!Ie&&p.createElement(F,{slotName:I.W.AI_TOOLTIP_AFTER_DESCRIPTION_ELEMENT,id:`aiTooltipAfterDescription${re.namespace.suffix}`})))),A&&p.createElement(se,{className:"WACHeader__RestartButton",label:ie.buttons_restart,onClick:O,buttonRef:Y,tooltipPosition:Ve?"right":"left"},p.createElement(s.A,null)),!be&&p.createElement(se,{className:E("WACHeader__CloseButton",{WACReverseIcon:He}),isReversible:ve,label:ie.launcher_isOpen,onClick:async()=>{g()},buttonRef:K,tooltipPosition:Ve?"right":"left",testId:(0,f.m)(f.P.CLOSE_CHAT,x)},De),Me&&p.createElement(se,{className:"WACHeader__CloseAndRestartButton",label:ie.header_ariaCloseRestart,onClick:()=>_e(!0),buttonRef:z,tooltipPosition:Ve?"right":"left"},p.createElement(a.A,{className:"WACIcon__Close"}))),pe&&p.createElement($,{title:ie.closeAndRestartModal_title,message:ie.closeAndRestartModal_message,onConfirm:Le,onCancel:Re,cancelButtonLabel:ie.closeAndRestartModal_cancel,confirmButtonLabel:ie.closeAndRestartModal_confirm,modalAnnounceMessage:ie.closeAndRestartModal_message,serviceManager:re})))}function se({onClick:e,buttonRef:t,label:n,className:r,children:a,buttonKind:o,isReversible:i=!0,tooltipPosition:s,testId:l}){return p.createElement(u.$nd,{ref:t,className:E(r,{WACDirectionHasReversibleSVG:i}),onClick:e,hasIconOnly:!0,iconDescription:n,size:N.B.MEDIUM,kind:o||N.a.GHOST,tooltipPosition:s,"data-testid":l},a)}const le=p.memo((0,p.forwardRef)(ie))},3744:function(e,t,n){n.d(t,{A:function(){return g},S:function(){return s},a:function(){return d},b:function(){return N},c:function(){return c},d:function(){return E},e:function(){return p},f:function(){return T},g:function(){return S},h:function(){return f},i:function(){return I},j:function(){return A},k:function(){return C},l:function(){return _},m:function(){return u},u:function(){return l}});var r=n(3696),a=n(2271),o=n(711),i=n(3066);const s=r.createContext(null);function l(){return(0,r.useContext)(s)}const c=(0,o.A)(function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n});function u(e,t=!1,n){e&&(0,a.O)(e,{boundary:n,scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:e,top:n,left:r})=>{d(e,Math.round(n),Math.round(r),t)})}function d(e,t,n,r=!1){setTimeout(()=>{e&&(r&&e.scroll?e.scroll({top:t,left:n,behavior:"smooth"}):(e.scrollTop=t,e.scrollLeft=n))})}function m(e,t=!1){e&&document.activeElement!==e&&(0,i.tabbable)(e,{getShadowRoot:!0})&&e.focus({preventScroll:t})}function E(e,t=!1,n=!1){e&&(t?setTimeout(()=>{E(e)}):e.current&&m(e.current,n))}function p(e){return 1===e?.nodeType}function _(e){return 3===e?.nodeType}function f(e){return"INPUT"===e?.tagName}function C(e){return"IMG"===e?.tagName}function A(e){return"TEXTAREA"===e?.tagName}function T(e){for(let t=0;t<e.length;t++)if(h(e[t]))return!0;return!1}function h(e){const t=(0,i.tabbable)(e,{getShadowRoot:!0});return!!t?.length&&(m(t[0]),!0)}function I(e){return"Enter"===e.key&&!function(e){return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey}(e)&&!(e.isComposing||229===e.keyCode)}function S(e){return e?e.scrollHeight-e.offsetHeight-e.scrollTop:0}const g=r.createContext(null);function N(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},4720:function(e,t,n){var r,a,o;n.d(t,{B:function(){return o},C:function(){return r},a:function(){return a}}),function(e){e.WHITE="cds--white",e.G10="cds--g10",e.G90="cds--g90",e.G100="cds--g100"}(r||(r={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.DANGER="danger",e.GHOST="ghost",e.DANGER_PRIMARY="danger--primary",e.DANGER_GHOST="danger--ghost",e.DANGER_TERTIARY="danger--tertiary",e.TERTIARY="tertiary"}(a||(a={})),function(e){e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg",e.XLARGE="xl",e.XXLARGE="2xl"}(o||(o={}))},8213:function(e,t,n){n.d(t,{H:function(){return i},a:function(){return o}});var r=n(4452),a=n(3696);const o=a.createContext(!1);function i(e){const{hidden:t,children:n,className:i,...s}=e;return a.createElement(o.Provider,{value:t},a.createElement("div",{className:r(i,{WAC__hidden:t}),...s},n))}},8241:function(e,t,n){n.d(t,{A:function(){return a},C:function(){return i},O:function(){return o},P:function(){return s},a:function(){return m},b:function(){return r},m:function(){return E}});var r,a,o,i,s,l=n(4452),c=n(3696),u=n(481),d=n(8213);!function(e){e.NONE="none",e.FADE_IN="fadeIn",e.SLIDE_IN_FROM_LEFT="slideInFromLeft",e.SLIDE_IN_FROM_RIGHT="slideInFromRight",e.SLIDE_IN_FROM_BOTTOM="slideInFromBottom",e.BRANDING_SLIDE_IN_FROM_BOTTOM="brandingSlideInFromBottom"}(r||(r={})),function(e){e.NONE="none",e.FADE_OUT="fadeOut",e.SLIDE_OUT_TO_LEFT="slideOutToLeft",e.SLIDE_OUT_TO_RIGHT="slideOutToRight",e.SLIDE_OUT_TO_TOP="slideOutToTop",e.SLIDE_OUT_TO_BOTTOM="slideOutToBottom"}(a||(a={})),function(e){e.MAIN="main",e.DISCLAIMER="disclaimer",e.HOME_SCREEN="home_screen",e.HYDRATING="hydrating",e.CATASTROPHIC="catastrophic",e.IFRAME="iframe",e.CONVERSATIONAL_SEARCH_CITATION="conversational_search_citation",e.CUSTOM="custom",e.SHOW_PANEL="show_panel",e.PANEL_RESPONSE="panel_response"}(o||(o={}));class m extends c.PureComponent{constructor(){super(...arguments),this.state={isClosing:!1,isOpening:!1},this.openPanelTimeout=null,this.closePanelTimeout=null,this.openPanel=()=>{const{onOpenEnd:e,onOpenStart:t,animationOnOpen:n,animationDurationOpen:a}=this.props;t?.(),this.setState({isClosing:!1,isOpening:!0});const o=n===r.NONE?0:a||240;this.openPanelTimeout=(0,u.e)(()=>{this.setState({isClosing:!1,isOpening:!1}),e?.()},o)},this.closePanel=()=>{const{onCloseEnd:e,onCloseStart:t,animationOnClose:n,animationDurationClose:r}=this.props;t?.(),this.setState({isClosing:!0,isOpening:!1});const o=n===a.NONE?0:r||240;this.closePanelTimeout=(0,u.e)(()=>{this.setState({isClosing:!1,isOpening:!1}),e?.()},o)}}componentDidMount(){const{shouldOpen:e}=this.props;e&&this.openPanel()}componentDidUpdate(e){const{shouldOpen:t}=this.props;t!==e.shouldOpen&&(t?this.openPanel():this.closePanel())}componentWillUnmount(){this.openPanelTimeout&&clearTimeout(this.openPanelTimeout),this.closePanelTimeout&&clearTimeout(this.closePanelTimeout),this.props.shouldOpen&&(this.props.onCloseStart&&this.props.onCloseStart(),this.props.onCloseEnd&&this.props.onCloseEnd())}render(){const{children:e,className:t,shouldOpen:n,animationOnClose:r,animationOnOpen:a,overlayPanelName:o}=this.props,{isClosing:i,isOpening:s}=this.state;return c.createElement(d.H,{hidden:!i&&!n,className:l("WAC__overlay-panelContainer",`WAC__overlay--${o}`,t,{"WAC__overlay-panelContainer--animating":s||i})},c.createElement("div",{className:l("WAC__overlay-panel",`WAC__overlay-panel--${o}`,{[`WAC__overlay-panel--closing--${r}`]:i,"WAC__overlay-panel--closed":!i&&!n,[`WAC__overlay-panel--opening--${a}`]:s,"WAC__overlay-panel--open":!s&&n})},e))}}function E(e,t){return t?`${t}-${e}`:e}!function(e){e.LINK="link",e.MENU="menu",e.BUTTON="button",e.RADIO_GROUP="radio-group"}(i||(i={})),function(e){e.CLOSE_CHAT="close_chat",e.LAUNCHER="launcher_open_chat",e.INPUT="input_field",e.INPUT_SEND="input_send"}(s||(s={}))},9708:function(e,t,n){n.d(t,{C:function(){return i},L:function(){return a},u:function(){return o}});var r=n(3696);const a=r.createContext(null);function o(){return(0,r.useContext)(a)}var i;!function(e){e.NARROW="narrow",e.STANDARD="standard",e.WIDE="wide"}(i||(i={}))}}]);
//# sourceMappingURL=2865.bundle.js.map