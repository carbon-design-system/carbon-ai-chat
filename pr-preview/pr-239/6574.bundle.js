/*! For license information please see 6574.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[6574],{6574:function(e,t,n){n.d(t,{p:function(){return U}});var a,r=n(2417),o=n(6854),i=n(3696),s=n(1709);const l=i.forwardRef(function({children:e,size:t=16,...n},r){return i.createElement(s.A,{width:t,height:t,ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},a||(a=i.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L6.69,15H18v2H6.69L4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Z"})),e)});var c=n(4013),u=n(4452),d=n(3210),p=n(4629),m=n(3981),C=(n(1200),n(1523)),h=n(3192),f=n(4574),g=n(404),b=n(6543);const A=(0,C.dI)({elem:"svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},content:[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M11,10c0,0.6-0.4,1-1,1H6c-0.6,0-1-0.4-1-1V6c0-0.6,0.4-1,1-1h4\tc0.6,0,1,0.4,1,1V10z"}}],name:"stop--filled",size:16});var _=n(9890),v=n(619);class I extends h.WF{_handleOnClick(){this.onClick()}}I.styles=h.AH`
    ${(0,h.iz)(".cds--aichat-stop-icon svg{\n  fill:var(--cds-icon-disabled, rgba(22, 22, 22, 0.25));\n}")}
  `,(0,p.Cg)([(0,v.MZ)({type:String,attribute:"label"})],I.prototype,"label",void 0),(0,p.Cg)([(0,v.MZ)({type:String,attribute:"tooltip-alignment"})],I.prototype,"tooltipAlignment",void 0),(0,p.Cg)([(0,v.MZ)({type:Boolean,attribute:"disabled"})],I.prototype,"disabled",void 0),(0,p.Cg)([(0,v.MZ)({type:Object})],I.prototype,"onClick",void 0),(0,p.Cg)([_.oI],I.prototype,"_handleOnClick",null);let S=class extends I{render(){return function({label:e,disabled:t,tooltipAlignment:n,onClick:a}){return h.qy`
    <cds-custom-icon-button
      class="${g.o}-stop-streaming-button"
      align="${n}"
      kind="${b.wQ.GHOST}"
      size="${b.Ni.SMALL}"
      ?disabled=${t}
      @click="${a}"
    >
      <span
        class="${t?`${g.o}-stop-icon`:""}"
        slot="icon"
        >${(0,f.T)(A)}</span
      >
      <span slot="tooltip-content">${e}</span>
    </cds-custom-icon-button>
  `}(this)}};S=(0,p.Cg)([(0,m.Q)("cds-aichat-stop-streaming-button")],S);const x=(0,d.a)({tagName:"cds-aichat-stop-streaming-button",elementClass:S,react:i});var y=n(7113),E=n(1748),L=n(9049),w=n(5230),T=n(7338),B=n(6753);class k{constructor(){this.listeners=[]}addListener(e){this.listeners=[...this.listeners,e]}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}fireListeners(...e){this.listeners.length&&this.listeners.forEach(t=>t(...e))}}var W=n(2870);class F extends i.PureComponent{constructor(){super(...arguments),this.textAreaRef=i.createRef()}getHTMLElement(){return this.textAreaRef.current}takeFocus(){(0,T.Ht)(this.textAreaRef,!1,!0)}doBlur(){this.textAreaRef.current.blur()}render(){const{isRequired:e,name:t,id:n,onFocus:a,onBlur:r,onClick:o,onChange:s,onKeyDown:l,rows:c,value:d,autoSize:p,maxLength:m,disabled:C,placeholder:h,ariaLabel:f,testId:g,onSelect:b}=this.props;return i.createElement("div",{className:u("WAC__TextArea",{"WAC__TextArea--autoSize":p,"WAC__TextArea--disabled":C})},i.createElement("textarea",{ref:this.textAreaRef,"aria-label":f,"aria-required":e,className:"WAC__TextArea-textarea",disabled:C,id:n,maxLength:m,name:t,onFocus:a,onBlur:r,onClick:o,onChange:s,onKeyDown:l,onSelect:b,placeholder:h,rows:c,value:d||"","data-enable-grammarly":!1,"data-test-id":g}),p&&i.createElement("div",{className:"WAC__TextArea-sizer"},d||h||" "))}}F.defaultProps={isRequired:!1,maxLength:1e4};var R=n(5505),$=n(6895),M=n(577);function N(e,t){const{inputType:n,isInputVisible:a,placeholder:s,disableInput:d,disableSend:p,disableUploadButton:m,pendingUploads:C,allowedFileUploadTypes:h,allowMultipleFileUploads:f,showUploadButton:g,onFilesSelectedForUpload:A,onSendInput:_,blurOnSend:v,serviceManager:I,onUserTyping:S,languagePack:N,isStopStreamingButtonVisible:U,isStopStreamingButtonDisabled:z}=e,D=`${I.namespace.suffix}-${(0,y.I)()}`,[H,O]=(0,i.useState)(!1),[P,K]=(0,i.useState)(""),V=(0,i.useRef)(!0),Z=(0,i.useRef)(null),q=(0,i.useRef)(),G=(0,i.useRef)(),Q=(0,i.useRef)(new k),j=(0,i.useRef)(""),J=(0,i.useRef)({getHTMLElement:()=>q?.current?.getHTMLElement(),setValue:e=>K(e),setEnableEnterKey:e=>{V.current=e},addChangeListener:e=>Q.current.addListener(e),removeChangeListener:e=>Q.current.removeListener(e)});function X(){Z.current&&(clearTimeout(Z.current),Z.current=null,S?.(!1))}function Y(e){if(ne()){e.preventDefault(),X();const t=P.trim();_(t),K(""),v?q.current.doBlur():q.current.takeFocus()}}function ee(){!w.yS&&a&&q.current.takeFocus()}function te(e,t){return`${e}${n?`--${n}`:""}${t?"":I.namespace.suffix}`}function ne(){const e=Boolean(C?.length);return(!e||!C.find(e=>!(0,W.tk)(e)))&&(Boolean(P.trim())||e)}H&&d&&O(!1),(0,i.useImperativeHandle)(t,()=>({takeFocus:ee,getMessageInput:()=>J.current}));const{input_buttonLabel:ae,input_placeholder:re,input_ariaLabel:oe,input_uploadButtonLabel:ie,input_stopResponse:se}=N,le=d?"":P,ce=ne(),ue=!ce||d||p,de=m||d,pe=`WACInputContainer__UploadInput-${D}`,me="rtl"===document.dir,Ce=s||(d?void 0:re);return j.current!==P&&(j.current=P,Q.current.fireListeners(P)),a&&i.createElement("div",{className:"WACInputAndCompletions"},i.createElement("div",{className:u("WACInputContainer",{"WACInputContainer--hasFocus":H,"WACInputContainer--showUploadButton":g})},i.createElement("div",{className:"WACInputContainer__LeftContainer"},i.createElement("div",{className:"WACInputContainer__TextAndUpload"},g&&i.createElement("div",{className:"WACInputContainer__UploadButtonContainer"},i.createElement("input",{ref:G,accept:h,id:pe,className:"WACVisuallyHidden WACInputContainer__UploadInput",type:"file","aria-label":ie,onChange:function(e){const t=(0,L.PK)(I.store.getState()),{dispatch:n}=I.store,{files:a}=e.target,r=[];for(let e=0;e<a.length;e++){const o={id:(0,B.u)(M.y.FILE),status:$.aT.EDIT,file:a[e]};r.push(o),n(E.Ay.addInputFile(o,t))}A?.(r),G.current.value=null},multiple:f,disabled:de}),i.createElement("label",{className:u("WACInputContainer__UploadButton",{"WACInputContainer__UploadButton--disabled":de}),htmlFor:pe},i.createElement(r.A,null))),i.createElement(F,{autoSize:!0,ariaLabel:oe,disabled:d,maxLength:2048,onChange:function(e){const t=e.target.value;S&&(Z.current?clearTimeout(Z.current):S(!0),Z.current=setTimeout(X,5e3)),K(t)},onKeyDown:function(e){(0,T.Ci)(e)&&(p||!V.current?e.preventDefault():Y(e))},placeholder:Ce,value:le,ref:q,onFocus:function(){O(!0)},onBlur:function(){O(!1)},id:te("WACInputContainer-TextArea"),testId:te("WACInputContainer-TextArea",!0)})),Boolean(C?.length)&&i.createElement("div",{className:"WACInputContainer__FilesContainer"},C.map((e,t)=>i.createElement(c.ssm,{key:t,iconDescription:N.fileSharing_removeButtonTitle,name:e.file.name,status:$.aT.EDIT,errorSubject:e.errorMessage,invalid:e.isError,size:b.Ni.SMALL,onDelete:()=>function(e){const t=(0,L.PK)(I.store.getState());I.store.dispatch(E.Ay.removeFileUpload(e,t)),q.current.takeFocus()}(e.id)})))),i.createElement("div",{className:"WACInputContainer__SendButtonContainer"},U&&i.createElement(x,{label:se,disabled:z,tooltipAlignment:"top",onClick:()=>{const{store:e}=I;e.dispatch(E.Ay.setStopStreamingButtonDisabled(!0)),I.fire({type:R.xp.STOP_STREAMING})}}),i.createElement(c.$nd,{className:"WACInputContainer__SendButton",kind:b.wQ.GHOST,size:b.Ni.SMALL,id:te("WACInputContainer__SendButton"),type:"button",onClick:Y,"aria-label":ae,disabled:ue,renderIcon:ce?l:o.A,iconDescription:ae,tooltipAlignment:me?"start":"end",tooltipPosition:"top",hasIconOnly:!0}))))}const U=i.memo((0,i.forwardRef)(N))}}]);
//# sourceMappingURL=6574.bundle.js.map