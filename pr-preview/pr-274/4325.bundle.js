/*! For license information please see 4325.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[4325],{34:function(e,t,n){n.d(t,{r:function(){return i}});var r=n(3696),o=n(6753),a=n(577);function i(){const e=(0,r.useRef)();return void 0===e.current&&(e.current=(0,o.u)(a.y.COMPONENT)),e.current}},395:function(e,t,n){n.d(t,{s:function(){return r}});const r=n(3696).createContext(null)},404:function(e,t,n){n.d(t,{S:function(){return o},o:function(){return r}});const r="cds--aichat",o="cds-aichat"},577:function(e,t,n){var r;n.d(t,{y:function(){return r}}),function(e){e[e.MISCELLANEOUS=1]="MISCELLANEOUS",e[e.LOCAL_MESSAGE=2]="LOCAL_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.COMPONENT=4]="COMPONENT",e[e.USER=6]="USER",e[e.DEVICE_ID=8]="DEVICE_ID",e[e.FILE=9]="FILE"}(r||(r={}))},1748:function(e,t,n){n.d(t,{$z:function(){return V},A$:function(){return re},AM:function(){return ue},Ay:function(){return Ae},By:function(){return s},CA:function(){return de},Cw:function(){return G},Ew:function(){return k},FG:function(){return f},GZ:function(){return d},HD:function(){return ae},IE:function(){return ce},JX:function(){return I},Ky:function(){return pe},Mp:function(){return oe},Mu:function(){return b},NO:function(){return l},P9:function(){return q},Pq:function(){return u},Qz:function(){return fe},RT:function(){return w},Rj:function(){return o},T0:function(){return _},TD:function(){return A},TP:function(){return J},TV:function(){return me},Tp:function(){return h},UC:function(){return Q},Uy:function(){return P},VG:function(){return T},XU:function(){return x},Xi:function(){return C},YO:function(){return p},ZB:function(){return te},_J:function(){return E},_P:function(){return S},_V:function(){return le},bH:function(){return ee},c:function(){return m},c7:function(){return y},dD:function(){return ne},ds:function(){return W},ex:function(){return z},fO:function(){return se},gA:function(){return Z},hU:function(){return v},hp:function(){return Ee},iA:function(){return g},iS:function(){return ie},ko:function(){return N},m:function(){return a},nS:function(){return Y},qO:function(){return $},qe:function(){return H},qu:function(){return F},qx:function(){return X},rJ:function(){return _e},rq:function(){return B},sK:function(){return U},uc:function(){return O},vI:function(){return c},vf:function(){return j},vp:function(){return M},wq:function(){return D},ww:function(){return R},xi:function(){return L},yM:function(){return i},zM:function(){return K}});var r=n(6753);const o="CHANGE_STATE",a="UPDATE_BOT_NAME",i="UPDATE_BOT_AVATAR_URL",s="UPDATE_LAUNCHER_AVATAR_URL",l="UPDATE_MAIN_HEADER_TITLE",c="HYDRATE_CHAT",u="HYDRATE_MESSAGE_HISTORY",d="ADD_LOCAL_MESSAGE_ITEM",E="REMOVE_MESSAGES",m="UPDATE_LOCAL_MESSAGE_ITEM",_="SET_APP_STATE_VALUE",p="ADD_IS_TYPING_COUNTER",f="ADD_IS_LOADING_COUNTER",A="ADD_IS_HYDRATING_COUNTER",C="SET_VIEW_STATE",T="SET_VIEW_CHANGING",h="SET_INITIAL_VIEW_CHANGE_COMPLETE",S="UPDATE_CSS_VARIABLES",I="MESSAGE_SET_OPTION_SELECTED",N="SET_MESSAGE_UI_PROPERTY",g="SET_MESSAGE_HISTORY_PROPERTY",O="MERGE_HISTORY",y="SET_LAUNCHER_PROPERTY",M="SET_LAUNCHER_CONFIG_PROPERTY",R="ANNOUNCE_MESSAGE",v="SET_CHAT_MESSAGES_PROPERTY",D="RESTART_CONVERSATION",b="ACCEPTED_DISCLAIMER",H="ADD_MESSAGE",P="UPDATE_HOME_SCREEN_CONFIG",L="UPDATE_HAS_SENT_NON_WELCOME_MESSAGE",w="UPDATE_PERSISTED_CHAT_STATE",B="SET_TOUR_DATA",U="CLEAR_TOUR_DATA",W="CHANGE_STEP_IN_TOUR",k="SET_HOME_SCREEN_IS_OPEN",G="UPDATE_LAUNCHER_CONFIG",F="UPDATE_MESSAGE",x="SET_LAUNCHER_MINIMIZED",V="CLOSE_IFRAME_PANEL",$="OPEN_IFRAME_CONTENT",z="SET_CONVERSATIONAL_SEARCH_CITATION_PANEL_IS_OPEN",Y="SET_CUSTOM_PANEL_OPTIONS",K="SET_CUSTOM_PANEL_OPEN",Z="GO_BACK_TO_HOME",q="UPDATE_INPUT_STATE",Q="SET_IS_PAGE_VISIBLE",X="ADD_INPUT_FILE",j="CLEAR_INPUT_FILES",J="REMOVE_INPUT_FILE",ee="REMOVE_LOCAL_MESSAGE_ITEM",te="FILE_UPLOAD_INPUT_ERROR",ne="ADD_NESTED_MESSAGES",re="SET_RESPONSE_PANEL_IS_OPEN",oe="SET_PANEL_RESPONSE_CONTENT",ae="STREAMING_ADD_CHUNK",ie="STREAMING_START",se="STREAMING_MERGE_HISTORY",le="ADD_NOTIFICATION",ce="REMOVE_ALL_NOTIFICATIONS",ue="REMOVE_NOTIFICATIONS",de="UPDATE_CHAT_HEADER_CONFIG",Ee="UPDATE_MAX_VISIBLE_HEADER_OBJECTS",me="SET_STOP_STREAMING_BUTTON_VISIBLE",_e="SET_STOP_STREAMING_BUTTON_DISABLED",pe="SET_STREAM_ID",fe="UPDATE_MAIN_HEADER_AVATAR",Ae={changeState(e){return{type:o,partialState:e}},chatWasHydrated(){return{type:c}},hydrateMessageHistory(e){return{type:u,messageHistory:e}},removeMessages(e){return{type:E,messageIDs:e}},restartConversation(){return{type:D}},addLocalMessageItem(e,t,n,r){return{type:d,messageItem:e,message:t,addMessage:n,addAfterID:r}},addMessage(e){return{type:H,message:e}},updateLocalMessageItem(e){return{type:m,messageItem:e}},updateMessage(e){return{type:F,message:e}},messageSetOptionSelected(e,t){return{type:I,messageID:e,sentMessage:t}},updatePersistedChatState(e){return{type:w,chatState:e}},setTourData(e){return{type:B,newActiveTourMessageID:e}},clearTourData(){return{type:U}},changeStepInTour(e){return{type:W,newStepNumber:e}},updateHasSentNonWelcomeMessage(e){return{type:L,hasSentNonWelcomeMessage:e}},setAppStateValue(e,t){return{type:_,key:e,value:t}},addIsTypingCounter(e){return{type:p,addToIsTyping:e}},addIsLoadingCounter(e){return{type:f,addToIsLoading:e}},addIsHydratingCounter(e){return{type:A,addToIsHydrating:e}},updateBotName(e){return{type:a,name:e}},updateMainHeaderTitle(e){return{type:l,title:e}},updateBotAvatarURL(e){return{type:i,url:e}},updateCSSVariables(e,t,n){return{type:S,variables:e,publicVars:t,whiteLabelVariables:n}},updateHomeScreenConfig(e){return{type:P,homeScreenConfig:e}},setViewState(e){return{type:C,viewState:e}},setViewChanging(e){return{type:T,viewChanging:e}},setInitialViewChangeComplete(e){return{type:h,changeComplete:e}},setMessageUIProperty(e,t,n){return{type:N,localMessageID:e,propertyName:t,propertyValue:n}},setLauncherProperty(e,t){return{type:y,propertyName:e,propertyValue:t}},setLauncherConfigProperty(e,t,n){return{type:M,propertyName:e,propertyValue:t,launcherType:n}},setMessageHistoryProperty(e,t,n){return{type:g,messageID:e,propertyName:t,propertyValue:n}},mergeMessageHistory(e,t){return{type:O,messageID:e,history:t}},setMessageErrorState(e,t){return Ae.setMessageHistoryProperty(e,"error_state",t)},setMessageWasAnnounced(e){return Ae.setMessageUIProperty(e,"needsAnnouncement",!1)},announceMessage(e){return{type:R,message:e}},setChatMessagesStateProperty(e,t){return{type:v,propertyName:e,propertyValue:t}},addNotification(e){const t=(0,r.u)();return{type:le,notificationID:t,notification:e}},removeNotifications({groupID:e,notificationID:t}){return{type:ue,groupID:e,notificationID:t}},removeAllNotifications(){return{type:ce}},acceptDisclaimer(){return{type:b}},setHomeScreenIsOpen(e){return{type:k,isOpen:e}},updateLauncherConfig(e){return{type:G,launcherConfig:e}},setLauncherMinimized(){return{type:x}},closeIFramePanel(){return{type:V}},setIFrameContent(e){return{type:$,messageItem:e}},setViewSourcePanelIsOpen(e,t,n){return{type:z,isOpen:e,citationItem:t,relatedSearchResult:n}},setCustomPanelConfigOptions(e){return{type:Y,options:e}},setCustomPanelOpen(e){return{type:K,isOpen:e}},toggleHomeScreen(){return{type:Z}},updateInputState(e,t){return{type:q,newState:e,isInputToAgent:t}},setIsBrowserPageVisible(e){return{type:Q,isVisible:e}},addInputFile(e,t){return{type:X,file:e,isInputToAgent:t}},removeFileUpload(e,t){return{type:J,fileID:e,isInputToAgent:t}},removeLocalMessageItem(e){return{type:ee,localMessageItemID:e}},fileUploadInputError(e,t,n){return{type:te,fileID:e,errorMessage:t,isInputToAgent:n}},clearInputFiles(e){return{type:j,isInputToAgent:e}},addNestedMessages(e){return{type:ne,localMessageItems:e}},setResponsePanelIsOpen(e){return{type:re,isOpen:e}},setResponsePanelContent(e,t=!1){return{type:oe,localMessageItem:e,isMessageForInput:t}},streamingStart(e){return{type:ie,messageID:e}},streamingMergeHistory(e,t){return{type:se,messageID:e,history:t}},streamingAddChunk(e,t,n,r){return{type:ae,fullMessageID:e,chunkItem:t,isCompleteItem:n,disableFadeAnimation:r}},updateChatHeaderConfig(e){return{type:de,chatHeaderConfig:e}},setMaxVisibleHeaderObjects(e){return{type:Ee,maxTotal:e}},setStopStreamingButtonVisible(e){return{type:me,isVisible:e}},setStopStreamingButtonDisabled(e){return{type:_e,isDisabled:e}},setStreamID(e){return{type:pe,currentStreamID:e}},updateMainHeaderAvatar(e){return{type:fe,config:e}}}},2566:function(e,t,n){var r;function o(e,t){return t?`${t}-${e}`:e}n.d(t,{W:function(){return o},g:function(){return r}}),function(e){e.CLOSE_CHAT="close_chat",e.LAUNCHER="launcher_open_chat",e.INPUT="input_field",e.INPUT_SEND="input_send"}(r||(r={}))},4271:function(e,t,n){var r,o;n.d(t,{K:function(){return r},v:function(){return o}}),function(e){e.NONE="none",e.FADE_IN="fadeIn",e.SLIDE_IN_FROM_LEFT="slideInFromLeft",e.SLIDE_IN_FROM_RIGHT="slideInFromRight",e.SLIDE_IN_FROM_BOTTOM="slideInFromBottom",e.BRANDING_SLIDE_IN_FROM_BOTTOM="brandingSlideInFromBottom"}(r||(r={})),function(e){e.NONE="none",e.FADE_OUT="fadeOut",e.SLIDE_OUT_TO_LEFT="slideOutToLeft",e.SLIDE_OUT_TO_RIGHT="slideOutToRight",e.SLIDE_OUT_TO_TOP="slideOutToTop",e.SLIDE_OUT_TO_BOTTOM="slideOutToBottom"}(o||(o={}))},4458:function(e,t,n){n.d(t,{G:function(){return r},j:function(){return c}});var r,o=n(4452),a=n(3696),i=n(4271),s=n(5230),l=n(6516);!function(e){e.MAIN="main",e.DISCLAIMER="disclaimer",e.HOME_SCREEN="home_screen",e.HYDRATING="hydrating",e.CATASTROPHIC="catastrophic",e.IFRAME="iframe",e.CONVERSATIONAL_SEARCH_CITATION="conversational_search_citation",e.CUSTOM="custom",e.SHOW_PANEL="show_panel",e.PANEL_RESPONSE="panel_response"}(r||(r={}));class c extends a.PureComponent{constructor(){super(...arguments),this.state={isClosing:!1,isOpening:!1},this.openPanelTimeout=null,this.closePanelTimeout=null,this.openPanel=()=>{const{onOpenEnd:e,onOpenStart:t,animationOnOpen:n,animationDurationOpen:r}=this.props;t?.(),this.setState({isClosing:!1,isOpening:!0});const o=n===i.K.NONE?0:r||240;this.openPanelTimeout=(0,s.Ah)(()=>{this.setState({isClosing:!1,isOpening:!1}),e?.()},o)},this.closePanel=()=>{const{onCloseEnd:e,onCloseStart:t,animationOnClose:n,animationDurationClose:r}=this.props;t?.(),this.setState({isClosing:!0,isOpening:!1});const o=n===i.v.NONE?0:r||240;this.closePanelTimeout=(0,s.Ah)(()=>{this.setState({isClosing:!1,isOpening:!1}),e?.()},o)}}componentDidMount(){const{shouldOpen:e}=this.props;e&&this.openPanel()}componentDidUpdate(e){const{shouldOpen:t}=this.props;t!==e.shouldOpen&&(t?this.openPanel():this.closePanel())}componentWillUnmount(){this.openPanelTimeout&&clearTimeout(this.openPanelTimeout),this.closePanelTimeout&&clearTimeout(this.closePanelTimeout),this.props.shouldOpen&&(this.props.onCloseStart&&this.props.onCloseStart(),this.props.onCloseEnd&&this.props.onCloseEnd())}render(){const{children:e,className:t,shouldOpen:n,animationOnClose:r,animationOnOpen:i,overlayPanelName:s}=this.props,{isClosing:c,isOpening:u}=this.state;return a.createElement(l.G,{hidden:!c&&!n,className:o("WAC__overlay-panelContainer",`WAC__overlay--${s}`,t,{"WAC__overlay-panelContainer--animating":u||c})},a.createElement("div",{className:o("WAC__overlay-panel",`WAC__overlay-panel--${s}`,{[`WAC__overlay-panel--closing--${r}`]:c,"WAC__overlay-panel--closed":!c&&!n,[`WAC__overlay-panel--opening--${i}`]:u,"WAC__overlay-panel--open":!u&&n})},e))}}},4630:function(e,t,n){n.d(t,{l:function(){return r}});const r=n(3696).createContext(!1)},5230:function(e,t,n){n.d(t,{Ah:function(){return p},PB:function(){return _},a3:function(){return d},cT:function(){return E},pz:function(){return c},w9:function(){return m},yS:function(){return u}});var r=n(4880),o=n(711);const a="undefined"!=typeof window&&"undefined"!=typeof navigator,i=a?(0,r.o0)():void 0;let s=0,l=0;a&&(s=window.screen.width,l=window.screen.height);const c="iOS"===i?.os,u=c||"Android OS"===i?.os,d=u&&(s<500||l<500),E=d&&s<500,m=(0,o.A)(function(){if(!a||!window.sessionStorage)return!1;try{return window.sessionStorage.setItem("web-chat-test-item","true"),window.sessionStorage.getItem("web-chat-test-item"),window.sessionStorage.removeItem("web-chat-test-item"),!0}catch{return!1}});function _(e){try{return new URL(e).hostname}catch{return e}}function p(e,t){return t?setTimeout(e,t):(e(),null)}},5608:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(3696);function o(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},5688:function(e,t,n){n.d(t,{Y:function(){return ae}}),n(712);var r,o=n(2794),a=n(8799),i=n(2642),s=n(7395),l=n(2629),c=n(4573),u=n(2213),d=n(393),E=n(9417),m=n(445),_=n(4452),p=n(3696),f=n(5022);!function(e){e.LINK="link",e.MENU="menu",e.BUTTON="button",e.RADIO_GROUP="radio-group"}(r||(r={}));var A=n(3210),C=n(4629),T=n(3981),h=(n(6677),n(3192)),S=n(404),I=n(7019),N=n(9890),g=n(619);class O extends h.WF{constructor(){super(...arguments),this.isLoaded=!1}_handleOnError(){this.onError?.()}}O.styles=h.AH`
    ${(0,h.iz)(".cds--aichat-chat-header-avatar{\n  display:block;\n  block-size:20px;\n  max-block-size:20px;\n}\n\n.cds--aichat-chat-header-avatar--round{\n  border-radius:10px;\n}")}
  `,(0,C.Cg)([(0,g.MZ)({type:String})],O.prototype,"url",void 0),(0,C.Cg)([(0,g.MZ)({type:String})],O.prototype,"corners",void 0),(0,C.Cg)([(0,g.MZ)({type:String})],O.prototype,"alt",void 0),(0,C.Cg)([(0,g.MZ)({type:Object})],O.prototype,"onError",void 0),(0,C.Cg)([(0,g.wk)()],O.prototype,"isLoaded",void 0),(0,C.Cg)([N.oI],O.prototype,"_handleOnError",null);const y="cds-aichat-chat-header-avatar";let M=class extends O{render(){return function(e){const{url:t,corners:n,alt:r,onError:o}=e;return h.qy`
    <img
      class="${_(`${S.o}-chat-header-avatar`,{[`${S.o}-chat-header-avatar--round`]:n===I.L.ROUND})}"
      src="${t}"
      alt="${r}"
      @error="${o}"
    />
  `}(this)}};M=(0,C.Cg)([(0,T.Q)(y)],M);const R=(0,A.a)({tagName:y,elementClass:M,react:p});n(236),n(1162);var v=n(6543);let D=class extends h.WF{constructor(){super(...arguments),this.isNewTab=!0}render(){return function(e){const{label:t,url:n,isNewTab:r}=e;return h.qy`<cds-custom-button
    class="WACChatHeaderLink"
    href="${n}"
    target="${r?"_blank":"_self"}"
    kind="${v.wQ.GHOST}"
    size="md"
    >${t}</cds-custom-button
  >`}(this)}};(0,C.Cg)([(0,g.MZ)({type:String})],D.prototype,"url",void 0),(0,C.Cg)([(0,g.MZ)({type:String})],D.prototype,"label",void 0),(0,C.Cg)([(0,g.MZ)({type:Boolean})],D.prototype,"isNewTab",void 0),D=(0,C.Cg)([(0,T.Q)(`${S.S}-chat-header-link`)],D);const b=(0,A.a)({tagName:`${S.S}-chat-header-link`,elementClass:D,react:p});var H=n(7073),P=n(112),L=n(3407),w=n(34);function B({id:e,className:t,label:n,isOpen:r,target:o,children:a,menuAlignment:i,containerRef:s}){return p.createElement(d.W1t,{id:e,className:t,open:r,target:o,label:n,size:"md",menuAlignment:i,mode:"full",legacyAutoalign:!1,containerRef:s},a)}function U(e){const[t,n]=(0,p.useState)(!1),{refs:r,context:o}=(0,L.we)({open:t,onOpenChange:n}),{getReferenceProps:a,getFloatingProps:i}=(0,L.bv)([(0,L.kp)(o),(0,L.s9)(o)]),s=(0,w.r)();return p.createElement("div",{ref:r.setReference,"aria-owns":s,...a()},p.createElement(d.$nd,{size:v.Ni.MEDIUM,kind:v.wQ.GHOST,onClick:()=>n(!t),renderIcon:t?P.A:H.A,onMouseDown:e=>e.preventDefault(),"aria-label":e.ariaLabel,"aria-haspopup":!0,"aria-expanded":t,"aria-controls":s},e.label),p.createElement(B,{id:s,isOpen:t,target:r.floating.current,label:e.label,containerRef:e.containerRef,menuAlignment:e.menuAlignment},e.children),p.createElement("div",{ref:r.setFloating,className:"WAChatHeaderMenuButton_HostElement",...i()}))}function W({label:e,url:t,isNewTab:n=!0,onClick:r,children:o}){return p.createElement(d.Drp,{label:e,onClick:()=>{r?.(),t&&window.open(t,n?"_blank":"_self")}},o)}function k(e){const{label:t,items:n,defaultSelectedItem:r,selectedItem:o,onChange:a}=e;return p.createElement(d.nU_,{label:t,items:n,defaultSelectedItem:r,selectedItem:o,onChange:e=>{e.preventDefault||a(e)},itemToString:e=>"string"==typeof e?e:e.label||e.value})}function G(e){const[t,n]=(0,p.useState)(!1),{refs:r,context:o}=(0,L.we)({open:t,onOpenChange:t=>{n(t),t?e.onOpen?.():e.onClose?.()}}),{getReferenceProps:a,getFloatingProps:i}=(0,L.bv)([(0,L.kp)(o),(0,L.s9)(o)]),s=(0,w.r)();return p.createElement("div",{ref:r.setReference,"aria-owns":s,...a()},p.createElement(d.$nd,{className:_("WACChatHeaderOverflowMenu__Button",e.className),size:v.Ni.MEDIUM,kind:v.wQ.GHOST,onClick:()=>n(!t),tooltipPosition:e.tooltipPosition,renderIcon:e.renderIcon,onMouseDown:e=>e.preventDefault(),iconDescription:e.iconDescription,hasIconOnly:!0,"aria-label":e.ariaLabel,"aria-haspopup":!0,"aria-expanded":t,"aria-controls":s}),p.createElement(B,{id:s,label:e.ariaLabel,isOpen:t,target:r.floating.current,containerRef:e.containerRef,menuAlignment:e.menuAlignment},e.children),p.createElement("div",{ref:r.setFloating,className:"WACChatHeaderOverflowMenu__HostElement",...i()}))}let F=class extends h.WF{render(){return function(e){const{title:t,name:n}=e;return h.qy`<div class="WACChatHeaderTitle">
    <span className="WACChatHeaderTitle__Title" ?hidden="${!t}"
      >${t}</span
    >
    <span class="WACChatHeaderTitle__Name">${n}</span>
  </div>`}(this)}};F.styles=h.AH`
    ${(0,h.iz)("cds-chat-header-title{\n  text-align:center;\n}\n\n.WACChatHeaderTitle{\n  overflow:hidden;\n  font-size:var(--cds-chat-BASE-font-size-med);\n  font-weight:400;\n  line-height:var(--cds-chat-BASE-line-height-med);\n  overflow-wrap:break-word;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  word-wrap:break-word;\n}\n\n.WACChatHeaderTitle .WACChatHeaderTitle__Title:only-child{\n  padding-inline-end:0.25rem;\n}\n\n.WACChatHeaderTitle__Name{\n  font-weight:var(--cds-chat-BASE-weight-semibold);\n}")}
  `,(0,C.Cg)([(0,g.MZ)({type:String})],F.prototype,"title",void 0),(0,C.Cg)([(0,g.MZ)({type:String})],F.prototype,"name",void 0),F=(0,C.Cg)([(0,T.Q)(`${S.S}-chat-header-title`)],F);const x=(0,A.a)({tagName:`${S.S}-chat-header-title`,elementClass:F,react:p});var V=n(4630),$=n(6254),z=n(5608),Y=n(6683),K=n(1748),Z=n(8018),q=n(7338),Q=n(8676),X=n(8205),j=(n(4776),n(3716));const J=(0,A.a)({tagName:"cds-custom-ai-label",elementClass:j.A,react:p});var ee=n(3158),te=n(2566),ne=n(8795);function re(e,t){const{displayName:n,backContent:A,showRestartButton:C,showBackButton:T,useAITheme:h,labelBackButton:S,onClickClose:I,onClickRestart:N,onCloseAndRestart:g,onClickBack:O,overflowItems:y,overflowClicked:M,backButtonType:D,showCenter:H,hideCloseButton:P,hideCloseAndRestartButton:L,brandColor:w="primary",enableChatHeaderConfig:B,headerAvatarConfig:F,testIdPrefix:j}=e,re=(0,p.useRef)(),ae=(0,p.useRef)(),ie=(0,p.useRef)(),se=(0,p.useRef)(),le=(0,p.useRef)(),ce=(0,p.useRef)(),ue=(0,p.useRef)(),de=(0,Y.O)(),Ee=(0,$.D)(),me=(0,f.d4)(e=>e.config.public),_e=(0,f.d4)(e=>e.chatHeaderState.config),pe=(0,f.d4)(e=>e.chatWidthBreakpoint),fe=(0,f.d4)(e=>e.chatHeaderState.maxVisibleHeaderObjects),[Ae,Ce]=(0,p.useState)(!1),[Te,he]=(0,p.useState)(!1),[Se,Ie]=(0,p.useState)({}),[Ne,ge]=(0,p.useState)(!1),Oe=Boolean(F)&&!Ne,ye=(0,p.useContext)(V.l),Me=(0,z.Z)(F?.url),{headerConfig:Re}=me,ve=pe===Z.g.WIDE,De=B?_e?.headerTitle?.title:void 0,be=(B?_e?.headerTitle?.name:void 0)||n,He=(0,p.useCallback)(()=>{he(!1)},[]),Pe=Re?.showCloseAndRestartButton&&!L&&g,Le=Re?.hideMinimizeButton||P;let we,Be=!1,Ue=!0;const We=Re?.minimizeButtonIconType;switch(We){case ee.IB.CLOSE:we=p.createElement(a.A,{className:"WACIcon__Close",size:16});break;case ee.IB.MINIMIZE:we=p.createElement(u.A,{className:"WACIcon__Subtract",size:16});break;case ee.IB.SIDE_PANEL_LEFT:Ue=!1,we=p.createElement(c.A,{className:"WACIcon__SidePanelClose"});break;case ee.IB.SIDE_PANEL_RIGHT:Ue=!1,Be=!0,we=p.createElement(c.A,{className:"WACIcon__SidePanelClose"});break;default:we=p.createElement(u.A,{className:"WACIcon__Subtract",size:16})}if(Pe&&C)throw new Error("You cannot enable both the restart button and the close-and-restart buttons.");const ke=(0,p.useCallback)(()=>{he(!1),g()},[g]);function Ge(e,t,n){switch(e.type){case r.LINK:return p.createElement(W,{key:t,label:e.label,url:e.url,isNewTab:e.isNewTab,onClick:()=>{(0,q.Ht)(ue)}});case r.BUTTON:return p.createElement(W,{key:t,label:e.label,onClick:()=>{e.onClick?.(),(0,q.Ht)(ue)}});case r.RADIO_GROUP:{const o=n[t+1];return p.createElement(p.Fragment,{key:t},0!==t&&p.createElement(d.OHP,null),p.createElement(k,{label:e.label,items:e.items,defaultSelectedItem:e.defaultSelectedItem,selectedItem:Se[e.label],onChange:t=>{Ie(n=>({...n,[e.label]:t})),e.onChange?.(t)}}),Boolean(o)&&o.type!==r.RADIO_GROUP&&p.createElement(d.OHP,null))}case r.MENU:return p.createElement(W,{key:t,label:e.label},e.items.filter(e=>e.type!==r.MENU).map(Ge));default:return null}}function Fe(e,t){switch(e.type){case r.LINK:return p.createElement(b,{key:t,label:e.label,url:e.url,isNewTab:e.isNewTab});case r.MENU:return p.createElement(U,{key:t,label:e.label,menuAlignment:"bottom-start"},e.items.map(Ge));case r.BUTTON:return p.createElement(d.$nd,{key:t,kind:v.wQ.GHOST,size:v.Ni.MEDIUM,onClick:e.onClick},e.label);default:return null}}(0,p.useImperativeHandle)(t,()=>({requestFocus:()=>se.current?((0,q.Ht)(se,!1,!0),!0):re.current?((0,q.Ht)(re,!1,!0),!0):!!ae.current&&((0,q.Ht)(ae,!1,!0),!0)}));let xe=0,Ve=0;B&&(xe=_e?.left?.length??0,Ve=_e?.right?.length??0);const $e=xe>fe,ze=Ve>fe,Ye=(xe||Ve)&&(!ve||$e||ze),Ke=Boolean(y?.length)||Ye,Ze="rtl"===document.dir;let qe,Qe=null,Xe=null,je=null,Je=null;return B&&(Qe=_e?.left?.slice(0,$e?fe:void 0).map(Fe),Xe=_e?.right?.slice(0,ze?fe:void 0).map(Fe),je=$e&&_e?.left?.slice(fe).map(Ge),Je=ze&&_e?.right?.slice(fe).map(Ge)),Ke?qe=p.createElement(G,{className:"WACHeader__OverflowMenu",renderIcon:Ae?o.A:s.A,iconDescription:Ee.header_overflowMenu_options,ariaLabel:Ee.components_overflow_ariaLabel,containerRef:ue,tooltipPosition:Ze?"left":"right",menuAlignment:"bottom-start",onOpen:()=>{setTimeout(()=>{Ce(!0)})},onClose:()=>{Ce(!1)}},y?.map((e,t)=>p.createElement(d.Drp,{key:e,label:e,onClick:()=>{(0,q.Ht)(ue),M(t)}})),je,Je):T&&(qe=p.createElement(oe,{className:"WACHeader__BackButton",label:S,onClick:O,buttonRef:re,buttonKind:D,tooltipPosition:Ze?"left":"right"},A||p.createElement(i.A,null))),(0,p.useEffect)(()=>{if(!ve)return void de.store.dispatch(K.Ay.setMaxVisibleHeaderObjects(0));if(!B)return;const e=new ResizeObserver(()=>{const e=ce.current;if(e&&(e.offsetWidth>100||0===e.offsetWidth)){let e=Math.floor((le.current.offsetWidth-100)/200);e<0&&(e=0),setTimeout(()=>{de.store.dispatch(K.Ay.setMaxVisibleHeaderObjects(e))})}});return e.observe(le.current),()=>{e.disconnect()}},[ve,B,de]),(0,p.useEffect)(()=>{Ne&&Me!==F?.url&&ge(!1)},[Me,F?.url,Ne]),p.createElement("div",{className:_("WACHeader",`WAC--${w}Color`,{"WACHeader--withAvatar":Oe})},p.createElement("div",{className:_("WACHeader--content",`WAC--${w}Color`),"data-floating-menu-container":!0},qe&&p.createElement("div",{className:"WACHeader__Buttons WACHeader__LeftButtons"},qe),H&&p.createElement("div",{className:"WACHeader__CenterContainer"},Oe&&p.createElement(R,{url:F.url,corners:F.corners,alt:Ee.header_ariaBotAvatar,onError:()=>ge(!0)}),(De||be)&&p.createElement("div",{className:"WACHeader__TitleContainer"},p.createElement(x,{title:De,name:be})),ve&&Boolean(xe)&&p.createElement("div",{className:"WACHeader__Separator"}),p.createElement("div",{ref:le,className:"WACHeader__HeaderObjects"},ve&&Boolean(xe)&&p.createElement("div",{className:"WACHeader__LeftItems"},Qe),p.createElement("div",{ref:ce,className:"WACHeader__CenterGap"}),ve&&Boolean(Ve)&&p.createElement("div",{className:"WACHeader__RightItems"},Xe))),p.createElement("div",{className:"WACHeader__Buttons WACHeader__RightButtons"},h&&p.createElement(J,{className:"WACHeader__Slug",size:E.G.EXTRA_SMALL,alignment:Ze?m.U.BOTTOM_LEFT:m.U.BOTTOM_RIGHT},p.createElement("div",{slot:"body-text"},p.createElement("h4",{className:"WACHeader__Slug-title"},Ee.ai_slug_title),p.createElement("div",{className:"WACHeader__Slug-description"},p.createElement("div",null,Ee.ai_slug_description),!ye&&p.createElement(X.A,{slotName:ne.t.AI_TOOLTIP_AFTER_DESCRIPTION_ELEMENT,id:`aiTooltipAfterDescription${de.namespace.suffix}`})))),C&&p.createElement(oe,{className:"WACHeader__RestartButton",label:Ee.buttons_restart,onClick:N,buttonRef:ae,tooltipPosition:Ze?"right":"left"},p.createElement(l.A,null)),!Le&&p.createElement(oe,{className:_("WACHeader__CloseButton",{WACReverseIcon:Be}),isReversible:Ue,label:Ee.launcher_isOpen,onClick:async()=>{I()},buttonRef:se,tooltipPosition:Ze?"right":"left",testId:(0,te.W)(te.g.CLOSE_CHAT,j)},we),Pe&&p.createElement(oe,{className:"WACHeader__CloseAndRestartButton",label:Ee.header_ariaCloseRestart,onClick:()=>he(!0),buttonRef:ie,tooltipPosition:Ze?"right":"left"},p.createElement(a.A,{className:"WACIcon__Close"}))),Te&&p.createElement(Q.u,{title:Ee.closeAndRestartModal_title,message:Ee.closeAndRestartModal_message,onConfirm:ke,onCancel:He,cancelButtonLabel:Ee.closeAndRestartModal_cancel,confirmButtonLabel:Ee.closeAndRestartModal_confirm,modalAnnounceMessage:Ee.closeAndRestartModal_message,serviceManager:de})))}function oe({onClick:e,buttonRef:t,label:n,className:r,children:o,buttonKind:a,isReversible:i=!0,tooltipPosition:s,testId:l}){return p.createElement(d.$nd,{ref:t,className:_(r,{WACDirectionHasReversibleSVG:i}),onClick:e,hasIconOnly:!0,iconDescription:n,size:v.Ni.MEDIUM,kind:a||v.wQ.GHOST,tooltipPosition:s,"data-testid":l},o)}const ae=p.memo((0,p.forwardRef)(re))},6254:function(e,t,n){n.d(t,{D:function(){return a}});var r=n(3696),o=n(9964);function a(){return(0,r.useContext)(o.F)}},6516:function(e,t,n){n.d(t,{G:function(){return i}});var r=n(4452),o=n(3696),a=n(4630);function i(e){const{hidden:t,children:n,className:i,...s}=e;return o.createElement(a.l.Provider,{value:t},o.createElement("div",{className:r(i,{WAC__hidden:t}),...s},n))}},6543:function(e,t,n){var r,o,a;n.d(t,{Ni:function(){return a},ps:function(){return r},wQ:function(){return o}}),function(e){e.WHITE="cds--white",e.G10="cds--g10",e.G90="cds--g90",e.G100="cds--g100"}(r||(r={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.DANGER="danger",e.GHOST="ghost",e.DANGER_PRIMARY="danger--primary",e.DANGER_GHOST="danger--ghost",e.DANGER_TERTIARY="danger--tertiary",e.TERTIARY="tertiary"}(o||(o={})),function(e){e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg",e.XLARGE="xl",e.XXLARGE="2xl"}(a||(a={}))},6683:function(e,t,n){n.d(t,{O:function(){return a}});var r=n(3696),o=n(8583);function a(){return(0,r.useContext)(o.k)}},6718:function(e,t,n){n.d(t,{B:function(){return r}});const r=n(3696).createContext(null)},6753:function(e,t,n){n.d(t,{u:function(){return o}});var r=n(8139);function o(e){return(0,r.A)()}},7008:function(e,t,n){n.d(t,{z:function(){return i}});var r=n(3696),o=n(395);function a(e){const t=(0,r.useContext)(o.s);return(0,r.useEffect)(()=>{t(e.message)},[t,e.message]),r.createElement("div",null)}const i=r.memo(a)},7338:function(e,t,n){n.d(t,{A8:function(){return _},Ci:function(){return C},Ht:function(){return u},TV:function(){return T},c1:function(){return s},d$:function(){return l},gU:function(){return i},ir:function(){return E},rG:function(){return p},vQ:function(){return m},vq:function(){return d},vv:function(){return f}});var r=n(2271),o=n(711),a=n(3066);const i=(0,o.A)(function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n});function s(e,t=!1,n){e&&(0,r.O)(e,{boundary:n,scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:e,top:n,left:r})=>{l(e,Math.round(n),Math.round(r),t)})}function l(e,t,n,r=!1){setTimeout(()=>{e&&(r&&e.scroll?e.scroll({top:t,left:n,behavior:"smooth"}):(e.scrollTop=t,e.scrollLeft=n))})}function c(e,t=!1){e&&document.activeElement!==e&&(0,a.tabbable)(e,{getShadowRoot:!0})&&e.focus({preventScroll:t})}function u(e,t=!1,n=!1){e&&(t?setTimeout(()=>{u(e)}):e.current&&c(e.current,n))}function d(e){return 1===e?.nodeType}function E(e){return 3===e?.nodeType}function m(e){return"INPUT"===e?.tagName}function _(e){return"IMG"===e?.tagName}function p(e){return"TEXTAREA"===e?.tagName}function f(e){for(let t=0;t<e.length;t++)if(A(e[t]))return!0;return!1}function A(e){const t=(0,a.tabbable)(e,{getShadowRoot:!0});return!!t?.length&&(c(t[0]),!0)}function C(e){return"Enter"===e.key&&!function(e){return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey}(e)&&!(e.isComposing||229===e.keyCode)}function T(e){return e?e.scrollHeight-e.offsetHeight-e.scrollTop:0}},8018:function(e,t,n){var r;n.d(t,{g:function(){return r}}),function(e){e.NARROW="narrow",e.STANDARD="standard",e.WIDE="wide"}(r||(r={}))},8205:function(e,t,n){n.d(t,{A:function(){return a}});var r=n(3696);function o({slotName:e,id:t,className:n}){return r.createElement("div",{className:n,id:t,"data-floating-menu-container":!0},r.createElement("slot",{name:e}))}var a=r.memo(o)},8583:function(e,t,n){n.d(t,{k:function(){return r}});const r=n(3696).createContext(null)},8676:function(e,t,n){n.d(t,{u:function(){return u}});var r=n(393),o=n(4544),a=n(3696),i=n(8325),s=n(6718);class l extends a.Component{constructor(){super(...arguments),this.state={attachedToHost:null},this.modalElement=document.createElement("div")}componentDidMount(){this.attachIfNeeded()}componentDidUpdate(){this.attachIfNeeded()}componentWillUnmount(){this.state.attachedToHost&&this.state.attachedToHost.removeChild(this.modalElement)}attachIfNeeded(){const e=this.context;e&&!this.state.attachedToHost&&(this.setState({attachedToHost:e}),e.appendChild(this.modalElement))}render(){return this.state.attachedToHost?i.createPortal(this.props.children,this.modalElement):null}}l.contextType=s.B;var c=n(7008);class u extends a.Component{constructor(){super(...arguments),this.onYesClick=()=>{this.props.onConfirm()},this.onNoClick=()=>{this.props.onCancel()},this.onKeyDown=e=>{"Escape"===e.key&&this.props.onCancel()}}render(){const{title:e,message:t,cancelButtonLabel:n,confirmButtonLabel:i,modalAnnounceMessage:s,serviceManager:u}=this.props;return a.createElement(l,null,a.createElement(o,null,a.createElement("div",{className:"WACConfirmModal",role:"dialog","aria-labelledby":`WACConfirmModal__title${u.namespace.suffix}`,"aria-describedby":`WACConfirmModal__message${u.namespace.suffix}`},a.createElement("div",{className:"WACConfirmModal__container"},a.createElement(c.z,{message:s}),a.createElement("div",{className:"WACConfirmModal__title",id:`WACConfirmModal__title${u.namespace.suffix}`},e),a.createElement("div",{className:"WACConfirmModal__message",id:`WACConfirmModal__message${u.namespace.suffix}`},t),a.createElement("div",{className:"WACConfirmModal__buttonContainer"},a.createElement(r.$nd,{className:"WACConfirmModal__NoButton",kind:"secondary",onClick:this.onNoClick,onKeyDown:this.onKeyDown,size:"md"},n),a.createElement(r.$nd,{className:"WACConfirmModal__YesButton",onClick:this.onYesClick,onKeyDown:this.onKeyDown,size:"md"},i))))))}}},8795:function(e,t,n){var r,o;n.d(t,{k:function(){return r},t:function(){return o}}),function(e){e.BASE_HEIGHT="BASE-height",e.BASE_MAX_HEIGHT="BASE-max-height",e.BASE_WIDTH="BASE-width",e.BASE_Z_INDEX="BASE-z-index"}(r||(r={})),function(e){e.AI_TOOLTIP_AFTER_DESCRIPTION_ELEMENT="aiTooltipAfterDescriptionElement",e.WELCOME_NODE_BEFORE_ELEMENT="welcomeNodeBeforeElement",e.HEADER_BOTTOM_ELEMENT="headerBottomElement",e.BEFORE_INPUT_ELEMENT="beforeInputElement",e.HOME_SCREEN_BEFORE_INPUT_ELEMENT="homeScreenBeforeInputElement",e.HOME_SCREEN_AFTER_STARTERS_ELEMENT="homeScreenAfterStartersElement",e.HOME_SCREEN_HEADER_BOTTOM_ELEMENT="homeScreenHeaderBottomElement",e.CUSTOM_PANEL_ELEMENT="customPanelElement"}(o||(o={}))},9964:function(e,t,n){n.d(t,{F:function(){return r}});const r=n(3696).createContext(null)}}]);
//# sourceMappingURL=4325.bundle.js.map