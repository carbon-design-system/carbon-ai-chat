/*! For license information please see 2223.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[2223],{948:function(e,t,n){function r(e){return Array.isArray(e)?e:[e]}async function o(e,t){for(let n=0;n<e.length;n++){const r=e[n];await t(r,n,e)}}function a(e,t,n){const r=function(e,t){if(e)for(let n=e.length-1;n>=0;n--)if(t(e[n],n,e))return n;return-1}(e,t);return-1===r?void 0:e[r]}function s(e,t,n){for(let r=e.length-1;r>=0;r--){const o=t[e[r]];if(n(o,r,e))return o}}function i(e){return e&&e.length?e[e.length-1]:null}n.d(t,{PQ:function(){return o},U1:function(){return s},Uk:function(){return a},_j:function(){return r},ns:function(){return i}})},1200:function(e,t,n){n(7181)},2117:function(e,t,n){n.d(t,{A:function(){return u}});var r,o,a,s,i=n(3696),c=n(1709);const u=i.forwardRef(function({children:e,size:t=16,...n},u){return 16===t||"16"===t||"16px"===t?i.createElement(c.A,{width:t,height:t,ref:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...n},r||(r=i.createElement("path",{d:"M9.3 3.7L13.1 7.5 1 7.5 1 8.5 13.1 8.5 9.3 12.3 10 13 15 8 10 3z"})),e):20===t||"20"===t||"20px"===t?i.createElement(c.A,{width:t,height:t,ref:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n},o||(o=i.createElement("path",{d:"M11.8 2.8L10.8 3.8 16.2 9.3 1 9.3 1 10.7 16.2 10.7 10.8 16.2 11.8 17.2 19 10z"})),e):24===t||"24"===t||"24px"===t?i.createElement(c.A,{width:t,height:t,ref:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},a||(a=i.createElement("path",{d:"M14 4L12.9 5.1 18.9 11.2 2 11.2 2 12.8 18.9 12.8 12.9 18.9 14 20 22 12z"})),e):i.createElement(c.A,{width:t,height:t,ref:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},s||(s=i.createElement("path",{d:"M18 6L16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6z"})),e)})},2223:function(e,t,n){n.r(t),n.d(t,{HomeScreenContainer:function(){return v}});var r,o=n(3696),a=n(5022),s=n(5608),i=n(6683),c=n(4271),u=n(4458),l=n(2117),d=n(393),m=n(4452),p=n(6254),f=n(5822),C=n(6574),_=n(8205),E=n(5884);!function(e){e.NONE="none",e.SOLID="solid"}(r||(r={}));var h=n(6543),g=n(8795);function A({homeScreenConfig:e,homeScreenMessageInputRef:t,onStarterClick:n,onSendInput:c,isHydrated:A,onClose:S,onCloseAndRestart:b,onRestart:v,onToggleHomeScreen:y}){const w=(0,p.D)(),R=(0,i.O)(),{showBackToBot:I}=(0,a.d4)(e=>e.persistedToBrowserStorage.chatState.homeScreenState),T=(0,s.Z)(A),N=(0,a.d4)(e=>e.theme.useAITheme),O=R.writeableElements[g.t.HOME_SCREEN_AFTER_STARTERS_ELEMENT].hasChildNodes(),{greeting:P,starters:B,background:H,custom_content_only:x}=e,L=B?.is_on&&Boolean(B.buttons?.length),M=!N&&H===r.SOLID,W=A&&!T;return o.createElement("div",{className:m("WACHomeScreen",{"WACHomeScreen--backgroundAITheme":N,"WACHomeScreen--hydrationComplete":A,"WACHomeScreen--firstRender":W,"WACHomeScreen--backgroundSolid":M})},o.createElement(E.Z,{brandColor:M?f.L4.ACCENT:f.L4.PRIMARY,onRestart:v,onClose:S,onCloseAndRestart:b}),o.createElement(_.A,{slotName:g.t.HOME_SCREEN_HEADER_BOTTOM_ELEMENT,className:"WACHomeScreen__HomeScreenBottomElement",id:`homeScreenHeaderBottomElement${R.namespace.suffix}`}),o.createElement("div",{className:"WACPanelContent WACHomeScreen__content"},o.createElement("div",{className:"WACHomeScreen__bodyWrapper"},o.createElement("div",{className:m("WACHomeScreen__body",{"WACHomeScreen__body--noCustomContent":!O,"WACHomeScreen__body--customContent":O,"WACHomeScreen__body--customContentOnly":x})},o.createElement("div",{className:"WACHomeScreen__initialContent"},!x&&o.createElement("div",{className:"WACHomeScreen__greeting"},P),!x&&L&&o.createElement("div",{className:m("WACHomeScreen__starters",{"WACHomeScreen__starters--animateGroup":B.buttons.length>5})},B.buttons.map((e,t)=>o.createElement(d.bJ3,{type:"button",size:h.Ni.SMALL,kind:h.wQ.TERTIARY,isQuickAction:!0,key:t,className:"WACHomeScreen__starter",onClick:()=>n(e)},e.label))))),o.createElement("div",{className:m("WACHomeScreen__customContent",{"WACHomeScreen__customContent--customContentOnly":x,"WACHomeScreen__customContent--animation":(O||x)&&!M})},o.createElement(_.A,{slotName:g.t.HOME_SCREEN_AFTER_STARTERS_ELEMENT,id:`homeScreenAfterStartersElement${R.namespace.suffix}`}))),o.createElement("div",{className:m("WACHomeScreen__inputContainerWrapper",{"WACHomeScreen__inputContainerWrapper--noCustomContent":!O&&!x})},I&&o.createElement(d.bJ3,{type:"button",size:h.Ni.SMALL,kind:h.wQ.SECONDARY,className:"WACHomeScreen__backButton",onClick:y},o.createElement("span",{className:"WACHomeScreen__backButtonContent"},o.createElement("span",{className:"WACHomeScreen__backButtonContentText"},w.homeScreen_returnToAssistant),o.createElement(l.A,null))),o.createElement(_.A,{slotName:g.t.HOME_SCREEN_BEFORE_INPUT_ELEMENT,id:`homeScreenBeforeInputElement${R.namespace.suffix}`}),o.createElement("div",{className:"WACHomeScreen__inputContainer"},o.createElement(C.p,{ref:t,onSendInput:c,disableInput:!1,isInputVisible:!0,disableSend:!1,languagePack:w,serviceManager:R,testIdPrefix:u.G.HOME_SCREEN})))))}const S=o.memo(A);var b=n(7391);function v({onClose:e,onCloseAndRestart:t,onPanelCloseStart:n,onPanelOpenStart:r,onPanelCloseEnd:l,onPanelOpenEnd:d,onSendBotInput:m,onSendButtonInput:p,onRestart:f,showHomeScreen:C,isHydrationAnimationComplete:_,homeScreenInputRef:E,onToggleHomeScreen:h}){const g=(0,i.O)(),A=(0,a.d4)(e=>e.homeScreenConfig),v=(0,a.d4)(e=>e.customPanelState.isOpen),y=(0,s.Z)(_),w=v,R=C&&_&&y,I=(0,o.useCallback)(e=>{m(e)},[m]),T=(0,o.useCallback)(e=>{p({label:e.label,value:{input:{text:e.label}}},b.R2)},[p]);return o.createElement(u.j,{onOpenStart:r,onOpenEnd:d,onCloseStart:n,onCloseEnd:l,animationOnOpen:R?c.K.FADE_IN:c.K.NONE,animationOnClose:c.v.FADE_OUT,shouldOpen:C,shouldHide:w,serviceManager:g,overlayPanelName:u.G.HOME_SCREEN},o.createElement(S,{isHydrated:_,homeScreenMessageInputRef:E,homeScreenConfig:A,onSendInput:I,onStarterClick:T,onClose:e,onCloseAndRestart:t,onRestart:f,onToggleHomeScreen:h}))}},2417:function(e,t,n){n.d(t,{A:function(){return s}});var r,o=n(3696),a=n(1709);const s=o.forwardRef(function({children:e,size:t=16,...n},s){return o.createElement(a.A,{width:t,height:t,ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},r||(r=o.createElement("path",{d:"M28.1,18.9L13.1,3.9c-2.5-2.6-6.6-2.6-9.2-0.1S1.3,10.5,3.9,13c0,0,0.1,0.1,0.1,0.1L6.8,16l1.4-1.4l-2.9-2.9 C3.6,10,3.6,7.1,5.3,5.4s4.6-1.8,6.3-0.1c0,0,0,0,0.1,0.1l14.9,14.9c1.8,1.7,1.8,4.6,0.1,6.3c-1.7,1.8-4.6,1.8-6.3,0.1 c0,0,0,0-0.1-0.1l-7.4-7.4c-1-1-0.9-2.6,0-3.5c1-0.9,2.5-0.9,3.5,0l4.1,4.1l1.4-1.4c0,0-4.2-4.2-4.2-4.2c-1.8-1.7-4.6-1.6-6.3,0.2 c-1.6,1.7-1.6,4.4,0,6.2l7.5,7.5c2.5,2.6,6.6,2.6,9.2,0.1S30.7,21.5,28.1,18.9C28.1,19,28.1,18.9,28.1,18.9L28.1,18.9z"})),e)})},5884:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(3696),o=n(5022),a=n(5688),s=n(4458);function i(e,t){const{brandColor:n,onClose:i,onRestart:c,onCloseAndRestart:u}=e,l=(0,o.d4)(e=>e.config.public.showRestartButton||e.config.public.headerConfig?.showRestartButton),d=(0,o.d4)(e=>e.persistedToBrowserStorage.chatState.homeScreenState.showBackToBot),m=(0,o.d4)(e=>e.headerDisplayName),p=(0,o.d4)(e=>e.customMenuOptions),f=(0,o.d4)(e=>e.theme.useAITheme),C=(0,r.useRef)();(0,r.useImperativeHandle)(t,()=>C.current);const _=!d,E=(0,r.useCallback)(e=>{const{handler:t}=p[e];t()},[p]),h=p?.map(e=>e.text);return r.createElement("div",{className:"WACHomeScreenHeader"},r.createElement(a.Y,{ref:C,displayName:m,showCenter:!0,showRestartButton:l,hideCloseAndRestartButton:_,onClickRestart:c,onClickClose:i,onCloseAndRestart:u,overflowClicked:E,overflowItems:h,useAITheme:f,brandColor:n,testIdPrefix:s.G.HOME_SCREEN}))}const c=r.memo((0,r.forwardRef)(i))},6574:function(e,t,n){n.d(t,{p:function(){return D}});var r,o=n(2417),a=n(6854),s=n(3696),i=n(1709);const c=s.forwardRef(function({children:e,size:t=16,...n},o){return s.createElement(i.A,{width:t,height:t,ref:o,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},r||(r=s.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L6.69,15H18v2H6.69L4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Z"})),e)});var u=n(393),l=n(4452),d=n(3210),m=n(4629),p=n(3981),f=(n(1200),n(1523)),C=n(3192),_=n(4574),E=n(404),h=n(6543);const g=(0,f.dI)({elem:"svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},content:[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M11,10c0,0.6-0.4,1-1,1H6c-0.6,0-1-0.4-1-1V6c0-0.6,0.4-1,1-1h4\tc0.6,0,1,0.4,1,1V10z"}}],name:"stop--filled",size:16});var A=n(9890),S=n(619);class b extends C.WF{_handleOnClick(){this.onClick()}}b.styles=C.AH`
    ${(0,C.iz)(".cds--aichat-stop-icon svg{\n  fill:var(--cds-icon-disabled, rgba(22, 22, 22, 0.25));\n}")}
  `,(0,m.Cg)([(0,S.MZ)({type:String,attribute:"label"})],b.prototype,"label",void 0),(0,m.Cg)([(0,S.MZ)({type:String,attribute:"tooltip-alignment"})],b.prototype,"tooltipAlignment",void 0),(0,m.Cg)([(0,S.MZ)({type:Boolean,attribute:"disabled"})],b.prototype,"disabled",void 0),(0,m.Cg)([(0,S.MZ)({type:Object})],b.prototype,"onClick",void 0),(0,m.Cg)([A.oI],b.prototype,"_handleOnClick",null);let v=class extends b{render(){return function({label:e,disabled:t,tooltipAlignment:n,onClick:r}){return C.qy`
    <cds-custom-icon-button
      class="${E.o}-stop-streaming-button"
      align="${n}"
      kind="${h.wQ.GHOST}"
      size="${h.Ni.SMALL}"
      ?disabled=${t}
      @click="${r}"
    >
      <span
        class="${t?`${E.o}-stop-icon`:""}"
        slot="icon"
        >${(0,_.T)(g)}</span
      >
      <span slot="tooltip-content">${e}</span>
    </cds-custom-icon-button>
  `}(this)}};v=(0,m.Cg)([(0,p.Q)("cds-aichat-stop-streaming-button")],v);const y=(0,d.a)({tagName:"cds-aichat-stop-streaming-button",elementClass:v,react:s});var w=n(7113),R=n(1748),I=n(9049),T=n(5230),N=n(7338),O=n(6753);class P{constructor(){this.listeners=[]}addListener(e){this.listeners=[...this.listeners,e]}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}fireListeners(...e){this.listeners.length&&this.listeners.forEach(t=>t(...e))}}var B=n(2870);class H extends s.PureComponent{constructor(){super(...arguments),this.textAreaRef=s.createRef()}getHTMLElement(){return this.textAreaRef.current}takeFocus(){(0,N.Ht)(this.textAreaRef,!1,!0)}doBlur(){this.textAreaRef.current.blur()}render(){const{isRequired:e,name:t,id:n,onFocus:r,onBlur:o,onClick:a,onChange:i,onKeyDown:c,rows:u,value:d,autoSize:m,maxLength:p,disabled:f,placeholder:C,ariaLabel:_,testId:E,onSelect:h}=this.props;return s.createElement("div",{className:l("WAC__TextArea",{"WAC__TextArea--autoSize":m,"WAC__TextArea--disabled":f})},s.createElement("textarea",{ref:this.textAreaRef,"aria-label":_,"aria-required":e,className:"WAC__TextArea-textarea",disabled:f,id:n||E,maxLength:p,name:t,onFocus:r,onBlur:o,onClick:a,onChange:i,onKeyDown:c,onSelect:h,placeholder:C,rows:u,value:d||"","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false","data-testid":E}),m&&s.createElement("div",{className:"WAC__TextArea-sizer"},d||C||" "))}}H.defaultProps={isRequired:!1,maxLength:1e4};var x=n(5505),L=n(2566),M=n(6895),W=n(577);function k(e,t){const{isInputVisible:n,placeholder:r,disableInput:i,disableSend:d,disableUploadButton:m,pendingUploads:p,allowedFileUploadTypes:f,allowMultipleFileUploads:C,showUploadButton:_,onFilesSelectedForUpload:E,onSendInput:g,blurOnSend:A,serviceManager:S,onUserTyping:b,languagePack:v,isStopStreamingButtonVisible:k,isStopStreamingButtonDisabled:D,testIdPrefix:U}=e,F=`${S.namespace.suffix}-${(0,w.I)()}`,[z,$]=(0,s.useState)(!1),[G,V]=(0,s.useState)(""),Z=(0,s.useRef)(!0),K=(0,s.useRef)(null),Q=(0,s.useRef)(),j=(0,s.useRef)(),q=(0,s.useRef)(new P),X=(0,s.useRef)(""),Y=(0,s.useRef)({getHTMLElement:()=>Q?.current?.getHTMLElement(),setValue:e=>V(e),setEnableEnterKey:e=>{Z.current=e},addChangeListener:e=>q.current.addListener(e),removeChangeListener:e=>q.current.removeListener(e)});function J(){K.current&&(clearTimeout(K.current),K.current=null,b?.(!1))}function ee(e){if(ne()){e.preventDefault(),J();const t=G.trim();g(t),V(""),A?Q.current.doBlur():Q.current.takeFocus()}}function te(){!T.yS&&n&&Q.current.takeFocus()}function ne(){const e=Boolean(p?.length);return(!e||!p.find(e=>!(0,B.tk)(e)))&&(Boolean(G.trim())||e)}z&&i&&$(!1),(0,s.useImperativeHandle)(t,()=>({takeFocus:te,getMessageInput:()=>Y.current}));const{input_buttonLabel:re,input_placeholder:oe,input_ariaLabel:ae,input_uploadButtonLabel:se,input_stopResponse:ie}=v,ce=i?"":G,ue=ne(),le=!ue||i||d,de=m||i,me=`WACInputContainer__UploadInput-${F}`,pe="rtl"===document.dir,fe=r||(i?void 0:oe);return X.current!==G&&(X.current=G,q.current.fireListeners(G)),n&&s.createElement("div",{className:"WACInputAndCompletions"},s.createElement("div",{className:l("WACInputContainer",{"WACInputContainer--hasFocus":z,"WACInputContainer--showUploadButton":_})},s.createElement("div",{className:"WACInputContainer__LeftContainer"},s.createElement("div",{className:"WACInputContainer__TextAndUpload"},_&&s.createElement("div",{className:"WACInputContainer__UploadButtonContainer"},s.createElement("input",{ref:j,accept:f,id:me,className:"WACVisuallyHidden WACInputContainer__UploadInput",type:"file","aria-label":se,onChange:function(e){const t=(0,I.PK)(S.store.getState()),{dispatch:n}=S.store,{files:r}=e.target,o=[];for(let e=0;e<r.length;e++){const a={id:(0,O.u)(W.y.FILE),status:M.aT.EDIT,file:r[e]};o.push(a),n(R.Ay.addInputFile(a,t))}E?.(o),j.current.value=null},multiple:C,disabled:de}),s.createElement("label",{className:l("WACInputContainer__UploadButton",{"WACInputContainer__UploadButton--disabled":de}),htmlFor:me},s.createElement(o.A,null))),s.createElement(H,{autoSize:!0,ariaLabel:ae,disabled:i,maxLength:2048,onChange:function(e){const t=e.target.value;b&&(K.current?clearTimeout(K.current):b(!0),K.current=setTimeout(J,5e3)),V(t)},onKeyDown:function(e){(0,N.Ci)(e)&&(d||!Z.current?e.preventDefault():ee(e))},placeholder:fe,value:ce,ref:Q,onFocus:function(){$(!0)},onBlur:function(){$(!1)},testId:(0,L.W)(L.g.INPUT,U)})),Boolean(p?.length)&&s.createElement("div",{className:"WACInputContainer__FilesContainer"},p.map((e,t)=>s.createElement(u.ssm,{key:t,iconDescription:v.fileSharing_removeButtonTitle,name:e.file.name,status:M.aT.EDIT,errorSubject:e.errorMessage,invalid:e.isError,size:h.Ni.SMALL,onDelete:()=>function(e){const t=(0,I.PK)(S.store.getState());S.store.dispatch(R.Ay.removeFileUpload(e,t)),Q.current.takeFocus()}(e.id)})))),s.createElement("div",{className:"WACInputContainer__SendButtonContainer"},k&&s.createElement(y,{label:ie,disabled:D,tooltipAlignment:"top",onClick:()=>{const{store:e}=S;e.dispatch(R.Ay.setStopStreamingButtonDisabled(!0)),S.fire({type:x.xp.STOP_STREAMING})}}),s.createElement(u.$nd,{className:"WACInputContainer__SendButton",kind:h.wQ.GHOST,size:h.Ni.SMALL,type:"button",onClick:ee,"aria-label":re,disabled:le,renderIcon:ue?c:a.A,iconDescription:re,tooltipAlignment:pe?"start":"end",tooltipPosition:"top",hasIconOnly:!0,"data-testid":(0,L.W)(L.g.INPUT_SEND,U)}))))}const D=s.memo((0,s.forwardRef)(k))},6854:function(e,t,n){n.d(t,{A:function(){return s}});var r,o=n(3696),a=n(1709);const s=o.forwardRef(function({children:e,size:t=16,...n},s){return o.createElement(a.A,{width:t,height:t,ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},r||(r=o.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L7,16,4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Zm-20.9,10L8.76,17H18V15H8.76L6.55,6.89,24.76,16Z"})),e)})},7113:function(e,t,n){n.d(t,{I:function(){return a}});var r=n(3696);let o=1;function a(){const e=(0,r.useRef)();return void 0===e.current&&(e.current=o++),e.current}},7391:function(e,t,n){n.d(t,{$H:function(){return T},$Q:function(){return g},Bj:function(){return A},Cx:function(){return B},D6:function(){return M},Dc:function(){return f},E_:function(){return S},Ex:function(){return O},I3:function(){return K},Ll:function(){return h},Mm:function(){return P},OL:function(){return L},Of:function(){return d},Or:function(){return Q},R2:function(){return u},Rt:function(){return k},SP:function(){return E},Sq:function(){return b},Sv:function(){return l},U7:function(){return C},Wf:function(){return m},Wo:function(){return D},XV:function(){return G},Xk:function(){return W},Z2:function(){return R},_0:function(){return N},_x:function(){return F},bY:function(){return H},eK:function(){return w},ee:function(){return U},f9:function(){return $},jS:function(){return y},jv:function(){return I},kZ:function(){return V},ks:function(){return p},p0:function(){return _},qH:function(){return z},r2:function(){return v},xN:function(){return Z}});var r=n(8690),o=n(948),a=n(6753),s=n(9633),i=n(6895),c=n(577);const u="main";function l(e){return e&&void 0!==e.output}function d(e){return e?.item.response_type===s.sP.DATE}function m(e){return e.id||(e.id=(0,a.u)(c.y.MESSAGE)),e.thread_id||(e.thread_id=u),e.history||(e.history={}),e.history.timestamp||(e.history.timestamp=Date.now()),void 0===e.history.from_history&&(e.history.from_history=!1),e}function p(e){return void 0!==e?.input}function f(e){return Boolean(e.item.agent_message_type)}function C(e){return e?.input?.message_type===s.s9.EVENT}function _(e){return e&&"text"===e.response_type&&void 0!==e.text}function E(e){return e.response_type===s.sP.PAUSE&&1==e.typing}function h(e){return e.response_type===s.sP.PAUSE}function g(e){return e?.response_type===s.sP.OPTION&&void 0!==e.options}function A(e,t){const n={id:(0,a.u)(c.y.MESSAGE),thread_id:u,...(0,r.A)(e.value)};return n.history={label:e.label,related_message_id:t},n}function S(e,t){const n={id:(0,a.u)(c.y.MESSAGE),thread_id:u,input:null};return e.value?.input?.text?n.input=(0,r.A)(e.value.input):n.input={text:e.label},n.history={related_message_id:t},n}function b(){return m({id:(0,a.u)(c.y.MESSAGE),input:{text:""},history:{silent:!0,is_welcome_request:!0},thread_id:u})}function v(e){return m({input:{text:e,message_type:s.s9.TEXT}})}function y(e){return m({id:e.id,input:{text:e.file.name,message_type:s.Co.FILE,agent_message_type:s.Xb.FROM_USER},history:{file_upload_status:i.aT.UPLOADING}})}function w(e,t,n){const r=v(e);return r.history={label:t,related_message_id:n},r}function R(e,t=u,n=s.sP.TEXT,r){const o={response_type:n,text:e};return{id:(0,a.u)(c.y.MESSAGE),thread_id:t,output:{generic:[o]}}}function I(e,t){return m({output:{generic:[e]}})}function T(e){return e?.response_type===s.sP.CONNECT_TO_AGENT}function N(e){return e?.response_type===s.sP.CARD}function O(e){return e?.response_type===s.sP.CAROUSEL}function P(e){return e?.response_type===s.sP.BUTTON}function B(e){return P(e)&&e.button_type===s.kw.SHOW_PANEL}function H(e){return P(e)?x(e.panel):N(e)?x(e):O(e)?void 0!==e.items:F(e)}function x(e){return void 0!==e?.body||void 0!==e?.footer}function L(e){switch(e.response_type){case s.sP.TEXT:case s.sP.IMAGE:case s.sP.OPTION:case s.sP.CONNECT_TO_AGENT:case s.sP.IFRAME:case s.sP.VIDEO:case s.sP.AUDIO:case s.sP.DATE:case s.sP.CONVERSATIONAL_SEARCH:case s.sP.TABLE:case s.sP.INLINE_ERROR:case s.sP.CARD:case s.sP.CAROUSEL:case s.sP.BUTTON:case s.sP.GRID:return!1;default:return!M(e)}}function M(e){return W(e)}function W(e){return"IBM_BETA_JOURNEYS_TOUR"===e?.user_defined?.user_defined_type}function k(e){return Boolean(e.public.serviceDeskFactory)}function D(e){switch(e.response_type){case s.sP.IMAGE:case s.sP.IFRAME:case s.sP.VIDEO:case s.sP.AUDIO:case s.sP.TEXT:case s.sP.USER_DEFINED:case s.sP.CARD:case s.sP.GRID:return!0;default:return!1}}function U(e){return O(e)&&1===e.items.length}function F(e){return e?.response_type===s.sP.GRID}function z(e,t){let n="button";return e&&"button"===e?n="button":(e&&"dropdown"===e||t>4)&&(n="dropdown"),n}function $(e){return Boolean(e.partial_item)}function G(e){return Boolean(e.complete_item)}function V(e){return Boolean(e.final_response)}function Z(e,t){const n=t?.streaming_metadata?.id;return n?`${e}-${n}`:null}function K(e){return e.dimensions}function Q(e){const t=e.botMessageState.messageIDs||[];return(0,o.U1)(t,e.allMessagesByID,e=>l(e)&&!function(e){return l(e)&&Boolean(e.output.generic?.find(e=>e?.agent_message_type))||p(e)&&Boolean(e.input.agent_message_type)}(e)&&Boolean(e.context))}},9049:function(e,t,n){n.d(t,{PK:function(){return c},R0:function(){return i},i_:function(){return u}});const r=e=>e.botInputState,o=e=>e.agentState.inputState,a=e=>e.agentState,s=e=>e.persistedToBrowserStorage.chatState.agentState;function i(e){const t=a(e),n=s(e);if(n.isSuspended)return{isConnectingOrConnected:!1,disableInput:!1,isAgentTyping:!1,inputPlaceholderKey:null};const{isReconnecting:r,isConnecting:o,isAgentTyping:i}=t,{isConnected:c}=n;let u;return u=o?"agent_inputPlaceholderConnecting":r?"agent_inputPlaceholderReconnecting":null,{isAgentTyping:i,isConnectingOrConnected:o||c,disableInput:o||r,inputPlaceholderKey:u}}function c(e){return i(e).isConnectingOrConnected}function u(e){return c(e)?o(e):r(e)}}}]);
//# sourceMappingURL=2223.bundle.js.map