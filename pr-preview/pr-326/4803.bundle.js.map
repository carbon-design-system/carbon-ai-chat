{"version":3,"file":"4803.bundle.js","mappings":"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","sources":["webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.MessageTypeComponent.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.carbonIcon.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.IFrameComponent.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.ChatButton.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.BodyWithFooterComponent.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.selectors.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.BotHeader.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.useCounter.js"],"sourcesContent":["import React, { useState, useCallback, Suspense, useMemo, useContext, useRef, useLayoutEffect, useEffect, Component } from \"react\";\n\nimport { e as isElement, h as isInputNode, j as isTextAreaNode, k as isImageNode, l as isTextNode, u as useServiceManager, b as usePrevious, m as doScrollElementIntoView } from \"./chat.usePrevious.js\";\n\nimport { c as addHTMLSupport, V as VisuallyHidden, e as enLanguagePack, M as MediaPlayerExport, I as ImageExport, S as SkeletonPlaceholder, d as loadDayjsLocale, u as useDynamicCSSProperties, g as createEnglishFormat, a as VideoComponentExport } from \"./chat.VideoComponent.js\";\n\nimport Attachment from \"@carbon/icons-react/es/Attachment.js\";\n\nimport { FormattedMessage, useIntl } from \"react-intl\";\n\nimport { useSelector, shallowEqual } from \"react-redux\";\n\nimport { c as carbonElement, B as BusEventType, M as MessageSendSource, a as TourStartReason, d as MainWindowCloseReason, F as FeedbackInteractionType } from \"./chat.customElement.js\";\n\nimport { createComponent } from \"@lit/react\";\n\nimport { __decorate } from \"tslib\";\n\nimport { LitElement, unsafeCSS, css, nothing, html, render } from \"lit\";\n\nimport { property, state } from \"lit/decorators.js\";\n\nimport \"@carbon/web-components/es-custom/components/textarea/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/icon-button/index.js\";\n\nimport { toString } from \"@carbon/icon-helpers\";\n\nimport ThumbsDown16 from \"@carbon/icons/es/thumbs-down/16.js\";\n\nimport ThumbsDownFilled16 from \"@carbon/icons/es/thumbs-down--filled/16.js\";\n\nimport ThumbsUp16 from \"@carbon/icons/es/thumbs-up/16.js\";\n\nimport ThumbsUpFilled16 from \"@carbon/icons/es/thumbs-up--filled/16.js\";\n\nimport { unsafeSVG } from \"lit/directives/unsafe-svg.js\";\n\nimport { b as CSS_CLASS_PREFIX, W as WEB_COMPONENT_PREFIX, C as ConfirmModal, u as useUUID } from \"./chat.Header.js\";\n\nimport { k as lazyCarousel, V as ViewType } from \"./chat.dynamic-imports.js\";\n\nimport \"@carbon/web-components/es-custom/components/tag/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/chat-button/index.js\";\n\nimport CDSButton from \"@carbon/web-components/es-custom/components/button/button.js\";\n\nimport { bind } from \"bind-decorator\";\n\nimport \"@carbon/web-components/es-custom/components/button/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/layer/index.js\";\n\nimport cx from \"classnames\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport { w as hasServiceDesk, E as createMessageRequestForButtonItemOption, F as createMessageRequestForDate, g as getMediaDimensions, D as createMessageRequestForChoice, G as getOptionType, a as isRequest, b as isResponse, H as isTextItem, I as renderAsTour, r as renderAsUserDefinedMessage } from \"./chat.messageUtils.js\";\n\nimport Checkmark16 from \"@carbon/icons/es/checkmark/16.js\";\n\nimport Headset16 from \"@carbon/icons/es/headset/16.js\";\n\nimport HelpDesk16 from \"@carbon/icons/es/help-desk/16.js\";\n\nimport Logout16 from \"@carbon/icons/es/logout/16.js\";\n\nimport { c as carbonIconToReact } from \"./chat.carbonIcon.js\";\n\nimport { Tile, Layer as Layer$1, DatePicker, DatePickerInput, Theme, Button as Button$1 } from \"@carbon/react\";\n\nimport { B as Button } from \"./chat.Button.js\";\n\nimport { A as AgentsOnlineStatus } from \"./chat.LocalMessageItem.js\";\n\nimport { R as RichTextExport, g as getMarkdownWorker, r as renderTokenTree, M as MarkdownText } from \"./chat.RichText.js\";\n\nimport { b as MessageResponseTypes, B as ButtonItemKind, a as ButtonItemType, W as WidthOptions, I as IFrameItemDisplayOption, C as ChainOfThoughtStepStatus, c as InternalMessageRequestType } from \"./chat.Messages.js\";\n\nimport TouchInteraction from \"@carbon/icons-react/es/TouchInteraction.js\";\n\nimport Send from \"@carbon/icons-react/es/Send.js\";\n\nimport { a as actions } from \"./chat.actions.js\";\n\nimport { W as WA_CONSOLE_PREFIX, R as RIGHT_TO_LEFT_MARK, E as ENGLISH_US_DATE_FORMAT, T as THROW_ERROR, L as LIGHT_THEMES } from \"./chat.constants.js\";\n\nimport { b as consoleError, o as getResponsiveElementPaddingValue } from \"./chat.miscUtils.js\";\n\nimport ArrowRight from \"@carbon/icons-react/es/ArrowRight.js\";\n\nimport Launch16 from \"@carbon/icons/es/launch/16.js\";\n\nimport CarbonLinkElement from \"@carbon/web-components/es-custom/components/link/link.js\";\n\nimport { B as BodyWithFooterComponent } from \"./chat.BodyWithFooterComponent.js\";\n\nimport debounce from \"lodash-es/debounce.js\";\n\nimport { I as InlineError, u as useAriaAnnouncer } from \"./chat.MountChildrenOnDelay.js\";\n\nimport Link$1 from \"@carbon/icons-react/es/Link.js\";\n\nimport Maximize from \"@carbon/icons-react/es/Maximize.js\";\n\nimport { i as isValidURL, s as sanitizeHTML } from \"./chat.htmlUtils.js\";\n\nimport ChevronDown16 from \"@carbon/icons/es/chevron--down/16.js\";\n\nimport ChevronUp16 from \"@carbon/icons/es/chevron--up/16.js\";\n\nimport CarbonOperationalTagElement from \"@carbon/web-components/es-custom/components/tag/operational-tag.js\";\n\nimport { u as useCounter } from \"./chat.useCounter.js\";\n\nimport Checkmark32 from \"@carbon/icons/es/checkmark/32.js\";\n\nimport dayjs from \"dayjs\";\n\nimport { u as useOnMount } from \"./chat.useOnMount.js\";\n\nimport { u as uuid, U as UUIDType } from \"./chat.uuid.js\";\n\nimport { a as selectInputState, s as selectAgentDisplayState } from \"./chat.selectors.js\";\n\nimport { g as getURLHostName } from \"./chat.browserUtils.js\";\n\nimport { I as IFrameComponent } from \"./chat.IFrameComponent.js\";\n\nimport { C as ChatButton } from \"./chat.ChatButton.js\";\n\nimport CarbonLayerElement from \"@carbon/web-components/es-custom/components/layer/layer.js\";\n\nimport CarbonDropdownElement from \"@carbon/web-components/es-custom/components/dropdown/dropdown.js\";\n\nimport CarbonDropdownItemElement from \"@carbon/web-components/es-custom/components/dropdown/dropdown-item.js\";\n\nimport { CHAT_BUTTON_SIZE, CHAT_BUTTON_KIND } from \"@carbon/web-components/es-custom/components/chat-button/chat-button.js\";\n\nimport { stringify } from \"csv-stringify/browser/esm/sync\";\n\nimport \"@carbon/web-components/es-custom/components/data-table/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/checkbox/index.js\";\n\nimport Download16 from \"@carbon/icons/es/download/16.js\";\n\nimport { repeat } from \"lit-html/directives/repeat.js\";\n\nimport \"@carbon/web-components/es-custom/components/pagination/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/select/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/data-table/table-skeleton.js\";\n\nimport Restart from \"@carbon/icons-react/es/Restart.js\";\n\nimport \"@carbon/web-components/es-custom/components/inline-loading/index.js\";\n\nimport CheckmarkFilled16 from \"@carbon/icons/es/checkmark--filled/16.js\";\n\nimport ChevronRight16 from \"@carbon/icons/es/chevron--right/16.js\";\n\nimport ErrorFilled16 from \"@carbon/icons/es/error--filled/16.js\";\n\nimport { p as parseUnknownDataToMarkdown } from \"./chat.stringUtils.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function isNil(value) {\n  return value === undefined || value === null;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function AvailabilityMessage({availability: availability, fallbackText: fallbackText}) {\n  let availabilityKey;\n  let availabilityValues;\n  let availabilityText;\n  if (!isNil(availability?.estimated_wait_time)) {\n    availabilityKey = \"agent_connectingMinutes\";\n    availabilityValues = {\n      time: availability.estimated_wait_time\n    };\n  } else if (!isNil(availability?.position_in_queue)) {\n    availabilityKey = \"agent_connectingQueue\";\n    availabilityValues = {\n      position: availability.position_in_queue\n    };\n  } else if (availability?.message) {\n    availabilityText = availability.message;\n  } else {\n    availabilityText = fallbackText;\n  }\n  if (availabilityText) {\n    return React.createElement(RichTextExport, {\n      overrideSanitize: true,\n      text: availabilityText\n    });\n  }\n  return React.createElement(FormattedMessage, {\n    id: availabilityKey,\n    values: addHTMLSupport(availabilityValues)\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const ANNOUNCE_INPUT_TYPES = new Set([ \"button\", \"date\", \"datetime-local\", \"email\", \"file\", \"month\", \"number\", \"range\", \"reset\", \"search\", \"submit\", \"tel\", \"text\", \"time\", \"url\", \"week\" ]);\n\nconst ANNOUNCE_NODE_EXCLUDE_ATTRIBUTE = \"data-wac-exclude-node-read\";\n\nclass AriaAnnouncerComponent extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.ref1 = React.createRef();\n    this.ref2 = React.createRef();\n    this.useRef1 = true;\n    this.doAnnouncements = () => {\n      const strings = [];\n      this.pendingValues.forEach(elementToAnnounce => {\n        if (typeof elementToAnnounce === \"string\") {\n          strings.push(elementToAnnounce);\n        } else {\n          nodeToText(elementToAnnounce, strings);\n        }\n      });\n      const useElement = this.useRef1 ? this.ref1.current : this.ref2.current;\n      if (useElement) {\n        useElement.innerText = strings.join(\" \");\n        const clearElement = this.useRef1 ? this.ref2.current : this.ref1.current;\n        clearElement.innerHTML = \"\";\n      }\n      this.useRef1 = !this.useRef1;\n      this.pendingValues = null;\n    };\n  }\n  announceValue(value) {\n    if (!value) {\n      return;\n    }\n    if (!this.pendingValues) {\n      this.pendingValues = [];\n      setTimeout(this.doAnnouncements, 250);\n    }\n    if (typeof value === \"string\" || hasNodeType(value)) {\n      this.pendingValues.push(value);\n    } else if (value.messageID) {\n      const formattedMessage = this.props.intl.formatMessage({\n        id: value.messageID\n      }, value.messageValues);\n      this.pendingValues.push(formattedMessage);\n    } else {\n      this.pendingValues.push(value.messageText);\n    }\n  }\n  render() {\n    return React.createElement(VisuallyHidden, {\n      className: \"WACAriaAnnouncer\"\n    }, React.createElement(\"div\", {\n      ref: this.ref1,\n      \"aria-live\": \"polite\"\n    }), React.createElement(\"div\", {\n      ref: this.ref2,\n      \"aria-live\": \"polite\"\n    }));\n  }\n}\n\nfunction nodeToText(node, strings) {\n  if (isElement(node)) {\n    if (window.getComputedStyle(node).display !== \"none\" && node.getAttribute(\"aria-hidden\") !== \"true\" && !node.hasAttribute(ANNOUNCE_NODE_EXCLUDE_ATTRIBUTE)) {\n      trimAndPush(node.getAttribute(\"aria-label\"), strings);\n      if (isInputNode(node) && ANNOUNCE_INPUT_TYPES.has(node.type.toLowerCase())) {\n        if (node.value === \"\") {\n          trimAndPush(node.placeholder, strings);\n        } else {\n          trimAndPush(node.value, strings);\n        }\n      } else if (isTextAreaNode(node)) {\n        if (node.value === \"\") {\n          trimAndPush(node.placeholder, strings);\n        }\n      } else if (isImageNode(node)) {\n        trimAndPush(node.alt, strings);\n      }\n      if (node.shadowRoot) {\n        node.shadowRoot.childNodes?.forEach(childNode => {\n          nodeToText(childNode, strings);\n        });\n      }\n      if (node.childNodes) {\n        node.childNodes.forEach(childNode => {\n          nodeToText(childNode, strings);\n        });\n      }\n    }\n  } else if (isTextNode(node)) {\n    trimAndPush(node.data, strings);\n  }\n}\n\nfunction trimAndPush(value, strings) {\n  if (value) {\n    value = value.trim();\n    if (value) {\n      strings.push(value.replaceAll(\"\\n\", \" \"));\n    }\n  }\n}\n\nfunction hasNodeType(value) {\n  return value.nodeType !== undefined;\n}\n\nvar css_248z$4 = \".cds--aichat-feedback-buttons{\\n  display:flex;\\n  margin-block-start:0.5rem;\\n}\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ class FeedbackButtonsElement extends LitElement {}\n\nFeedbackButtonsElement.styles = css`\n    ${unsafeCSS(css_248z$4)}\n  `;\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-positive-open\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"isPositiveOpen\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-negative-open\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"isNegativeOpen\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-positive-selected\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"isPositiveSelected\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"has-positive-details\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"hasPositiveDetails\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"has-negative-details\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"hasNegativeDetails\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-negative-selected\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"isNegativeSelected\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-positive-disabled\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"isPositiveDisabled\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-negative-disabled\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"isNegativeDisabled\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"positive-label\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"positiveLabel\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"negative-label\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"negativeLabel\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"panel-id\",\n  reflect: true\n}) ], FeedbackButtonsElement.prototype, \"panelID\", void 0);\n\n__decorate([ property({\n  type: Object,\n  attribute: \"on-click\"\n}) ], FeedbackButtonsElement.prototype, \"onClick\", void 0);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const ThumbsDown16svg = toString(ThumbsDown16);\n\nconst ThumbsDownFilled16svg = toString(ThumbsDownFilled16);\n\nconst ThumbsUp16svg = toString(ThumbsUp16);\n\nconst ThumbsUpFilled16svg = toString(ThumbsUpFilled16);\n\nfunction feedbackButtonsElementTemplate(customElementClass) {\n  const {isPositiveOpen: isPositiveOpen, isNegativeOpen: isNegativeOpen, isPositiveSelected: isPositiveSelected, isNegativeSelected: isNegativeSelected, hasPositiveDetails: hasPositiveDetails, hasNegativeDetails: hasNegativeDetails, isPositiveDisabled: isPositiveDisabled, isNegativeDisabled: isNegativeDisabled, positiveLabel: positiveLabel, negativeLabel: negativeLabel, panelID: panelID, onClick: onClick} = customElementClass;\n  return html`<div class=\"${CSS_CLASS_PREFIX}-feedback-buttons\">\n    <cds-custom-icon-button\n      class=\"${CSS_CLASS_PREFIX}-feedback-buttons-positive\"\n      size=\"sm\"\n      align=\"top-left\"\n      kind=\"ghost\"\n      role=\"button\"\n      disabled=\"${isPositiveDisabled || nothing}\"\n      aria-expanded=\"${isPositiveDisabled || !hasPositiveDetails ? nothing : isPositiveOpen}\"\n      aria-pressed=\"${isPositiveSelected || nothing}\"\n      aria-controls=\"${panelID}-feedback-positive\"\n      @click=\"${() => onClick(true)}\"\n    >\n      <span slot=\"icon\"\n        >${unsafeSVG(isPositiveSelected ? ThumbsUpFilled16svg : ThumbsUp16svg)}</span\n      >\n      <span slot=\"tooltip-content\"\n        >${positiveLabel || enLanguagePack.feedback_positiveLabel}</span\n      >\n    </cds-custom-icon-button>\n    <cds-custom-icon-button\n      class=\"${CSS_CLASS_PREFIX}-feedback-buttons-negative\"\n      size=\"sm\"\n      align=\"top-left\"\n      kind=\"ghost\"\n      role=\"button\"\n      disabled=\"${isNegativeDisabled || nothing}\"\n      aria-expanded=\"${isNegativeDisabled || !hasNegativeDetails ? nothing : isNegativeOpen}\"\n      aria-pressed=\"${isNegativeSelected || nothing}\"\n      aria-controls=\"${panelID}-feedback-positive\"\n      @click=\"${() => onClick(false)}\"\n    >\n      <span slot=\"icon\"\n        >${unsafeSVG(isNegativeSelected ? ThumbsDownFilled16svg : ThumbsDown16svg)}</span\n      >\n      <span slot=\"tooltip-content\"\n        >${negativeLabel || enLanguagePack.feedback_negativeLabel}</span\n      >\n    </cds-custom-icon-button>\n  </div>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const FEEDBACK_BUTTONS_COMPONENT_TAG_NAME = `cds-aichat-feedback-buttons`;\n\nlet CDSChatFeedbackButtonsElement = class CDSChatFeedbackButtonsElement extends FeedbackButtonsElement {\n  render() {\n    return feedbackButtonsElementTemplate(this);\n  }\n};\n\nCDSChatFeedbackButtonsElement = __decorate([ carbonElement(FEEDBACK_BUTTONS_COMPONENT_TAG_NAME) ], CDSChatFeedbackButtonsElement);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const FeedbackButtonsComponent = createComponent({\n  tagName: FEEDBACK_BUTTONS_COMPONENT_TAG_NAME,\n  elementClass: CDSChatFeedbackButtonsElement,\n  react: React\n});\n\nvar css_248z$3 = \".cds--aichat-tag-list-container{\\n  display:flex;\\n  flex-wrap:wrap;\\n  align-items:center;\\n  padding:0;\\n  margin:0;\\n  gap:0.5rem;\\n  list-style:none;\\n}\\n\\n.cds--aichat-tag-list-item{\\n  box-sizing:border-box;\\n  padding:0.125rem;\\n  animation:fade-in 600ms forwards;\\n  font-size:var(--cds-chat-BASE-font-size-small);\\n  opacity:0;\\n}\\n\\n@keyframes fade-in{\\n  from{\\n    opacity:0;\\n  }\\n  to{\\n    opacity:1;\\n  }\\n}\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ class TagListElement extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.selectedTags = new Set;\n  }\n  updated(changedProperties) {\n    if (changedProperties.has(\"initialSelectedTags\")) {\n      this._setInitialValues(this.initialSelectedTags);\n    }\n  }\n  _setInitialValues(values) {\n    if (values) {\n      this.selectedTags = new Set(this.initialSelectedTags);\n    }\n  }\n  _handleTagClick(event) {\n    const tagValue = event.target.getAttribute(\"data-content\");\n    const isSelected = this.selectedTags.has(tagValue);\n    if (isSelected) {\n      this.selectedTags.delete(tagValue);\n    } else {\n      this.selectedTags.add(tagValue);\n    }\n    this.onTagsChanged?.(Array.from(this.selectedTags));\n    this.requestUpdate();\n  }\n}\n\nTagListElement.styles = css`\n    ${unsafeCSS(css_248z$3)}\n  `;\n\n__decorate([ property({\n  type: Array,\n  attribute: \"tags\"\n}) ], TagListElement.prototype, \"tags\", void 0);\n\n__decorate([ property({\n  type: Array,\n  attribute: \"initial-selected-tags\"\n}) ], TagListElement.prototype, \"initialSelectedTags\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"multi-select\"\n}) ], TagListElement.prototype, \"multiSelect\", void 0);\n\n__decorate([ property({\n  type: Object,\n  attribute: \"on-tags-changed\"\n}) ], TagListElement.prototype, \"onTagsChanged\", void 0);\n\n__decorate([ state() ], TagListElement.prototype, \"selectedTags\", void 0);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function tagListElementTemplate(customElementClass) {\n  const {selectedTags: selectedTags, tags: tags, _handleTagClick: handleTagClick} = customElementClass;\n  return html`<div class=\"${CSS_CLASS_PREFIX}-tag-list\">\n    ${html`<ul class=\"${CSS_CLASS_PREFIX}-tag-list-container\">\n      ${tags.map(value => html`<li class=\"${CSS_CLASS_PREFIX}-tag-list-item}\">\n            <cds-custom-chat-button\n              class=\"${CSS_CLASS_PREFIX}-tag-list-button\"\n              kind=\"primary\"\n              size=\"sm\"\n              type=\"button\"\n              is-quick-action\n              role=\"option\"\n              aria-pressed=\"${selectedTags.has(value)}\"\n              ?is-selected=\"${selectedTags.has(value)}\"\n              data-content=\"${value}\"\n              @click=\"${handleTagClick}\"\n            >\n              ${value}\n            </cds-custom-chat-button>\n          </li>`)}\n    </div>`}\n  </div>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const TAG_LIST_TAG_NAME = `${WEB_COMPONENT_PREFIX}-tag-list`;\n\nlet CDSTagListElement = class CDSTagListElement extends TagListElement {\n  render() {\n    return tagListElementTemplate(this);\n  }\n};\n\nCDSTagListElement = __decorate([ carbonElement(TAG_LIST_TAG_NAME) ], CDSTagListElement);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const ROUNDED_BUTTON_TAG_NAME = `cds-aichat-rounded-button`;\n\nconst styles = `\\n  .cds-custom--btn {\\n    border-start-start-radius: var(--${ROUNDED_BUTTON_TAG_NAME}-top-left);\\n    border-start-end-radius: var(--${ROUNDED_BUTTON_TAG_NAME}-top-right);\\n    border-end-start-radius: var(--${ROUNDED_BUTTON_TAG_NAME}-bottom-left);\\n    border-end-end-radius: var(--${ROUNDED_BUTTON_TAG_NAME}-bottom-right);\\n    width: var(--${ROUNDED_BUTTON_TAG_NAME}-width);\\n    max-width: var(--${ROUNDED_BUTTON_TAG_NAME}-max-width);\\n  }`;\n\nlet CDSRoundedButtonElement = class CDSRoundedButtonElement extends CDSButton {};\n\nCDSRoundedButtonElement.styles = css`\n    ${CDSButton.styles}\n    ${unsafeCSS(styles)}\n  `;\n\nCDSRoundedButtonElement = __decorate([ carbonElement(ROUNDED_BUTTON_TAG_NAME) ], CDSRoundedButtonElement);\n\nvar css_248z$2 = \".cds--aichat-container{\\n  box-sizing:border-box;\\n  border:1px solid var(--cds-chat-bubble-border, #e0e0e0);\\n  border-radius:var(--cds-chat-BASE-border-radius-med);\\n  animation:fade-in 600ms forwards;\\n  background-color:var(--cds-chat-shell-background, #ffffff);\\n  container-type:inline-size;\\n  inline-size:100%;\\n  margin-block-start:0.25rem;\\n}\\n\\n.cds--aichat-is-closed{\\n  display:none;\\n}\\n\\n.cds--aichat-title-row{\\n  display:flex;\\n  margin-block-start:0.75rem;\\n  margin-inline:1rem 0.5rem;\\n}\\n\\n.cds--aichat-title{\\n  flex:1;\\n  font-size:var(--cds-chat-BASE-font-size-xlarge);\\n  line-height:var(--cds-chat-BASE-line-height-xlarge);\\n}\\n\\n.cds--aichat-close{\\n  margin-inline-start:0.5rem;\\n}\\n\\n.cds--aichat-disclaimer,\\n.cds--aichat-prompt{\\n  color:var(--cds-text-secondary, #525252);\\n  font-size:var(--cds-chat-BASE-font-size-small);\\n  line-height:var(--cds-chat-BASE-line-height-small);\\n  margin-block-start:0.5rem;\\n  margin-inline:1rem;\\n}\\n\\n.cds--aichat-categories{\\n  margin-block-start:0.5rem;\\n  margin-inline:1rem;\\n}\\n\\n.cds--aichat-feedback-text{\\n  margin-block-start:0.5rem;\\n  margin-inline:1rem;\\n}\\n\\n.cds--aichat-buttons{\\n  display:flex;\\n  inline-size:100%;\\n  margin-block-start:1rem;\\n}\\n\\n.cds--aichat-submit{\\n  flex:1;\\n  --cds-aichat-rounded-button-bottom-right:var(\\n    --cds-chat-BASE-border-radius-med\\n  );\\n  --cds-aichat-rounded-button-width:100%;\\n  --cds-aichat-rounded-button-max-width:100%;\\n}\\n\\n.cds--aichat-cancel{\\n  flex:1;\\n  --cds-aichat-rounded-button-bottom-left:var(\\n    --cds-chat-BASE-border-radius-med\\n  );\\n  --cds-aichat-rounded-button-width:100%;\\n  --cds-aichat-rounded-button-max-width:100%;\\n}\\n\\n@keyframes fade-in{\\n  from{\\n    opacity:0;\\n  }\\n  to{\\n    opacity:1;\\n  }\\n}\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ class FeedbackElement extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.showTextArea = true;\n    this.showPrompt = true;\n  }\n  updated(changedProperties) {\n    if (changedProperties.has(\"initialValues\")) {\n      this._setInitialValues(this.initialValues);\n    }\n  }\n  _setInitialValues(values) {\n    if (values) {\n      this._textInput = values.text;\n      this._initialSelectedCategories = values.selectedCategories;\n    }\n  }\n  _handleTextInput(event) {\n    this._textInput = event.currentTarget.value;\n  }\n  _handleSubmit() {\n    this.onSubmit?.({\n      text: this._textInput,\n      selectedCategories: this._selectedCategories\n    });\n  }\n  _handleCancel() {\n    this.onClose?.();\n  }\n  _handleCategoryChange(selectedCategories) {\n    this._selectedCategories = selectedCategories;\n  }\n}\n\nFeedbackElement.styles = css`\n    ${unsafeCSS(css_248z$2)}\n  `;\n\n__decorate([ property({\n  type: String,\n  attribute: \"class\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"class\", void 0);\n\n__decorate([ property({\n  type: String,\n  reflect: true\n}) ], FeedbackElement.prototype, \"id\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-open\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"isOpen\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"is-readonly\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"isReadonly\", void 0);\n\n__decorate([ property({\n  type: Object,\n  attribute: \"on-close\"\n}) ], FeedbackElement.prototype, \"onClose\", void 0);\n\n__decorate([ property({\n  type: Object,\n  attribute: \"on-submit\"\n}) ], FeedbackElement.prototype, \"onSubmit\", void 0);\n\n__decorate([ property({\n  type: Object,\n  attribute: \"initial-values\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"initialValues\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"title\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"title\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"prompt\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"prompt\", void 0);\n\n__decorate([ property({\n  type: Object,\n  attribute: \"categories\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"categories\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"disclaimer\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"disclaimer\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"text-area-placeholder\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"placeholder\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"cancel-label\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"cancelLabel\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"submit-label\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"submitLabel\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"show-text-area\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"showTextArea\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"show-prompt\",\n  reflect: true\n}) ], FeedbackElement.prototype, \"showPrompt\", void 0);\n\n__decorate([ state() ], FeedbackElement.prototype, \"_textInput\", void 0);\n\n__decorate([ state() ], FeedbackElement.prototype, \"_initialSelectedCategories\", void 0);\n\n__decorate([ state() ], FeedbackElement.prototype, \"_selectedCategories\", void 0);\n\n__decorate([ bind ], FeedbackElement.prototype, \"_handleCategoryChange\", null);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const MAX_TEXT_COUNT = 1e3;\n\nfunction feedbackElementTemplate(customElementClass) {\n  const {_handleCancel: handleCancel, _handleSubmit: handleSubmit, _handleTextInput: handleTextInput, _initialSelectedCategories: initialSelectedCategories, _textInput: textInput, _handleCategoryChange: handleCategoryChange, id: id, isReadonly: isReadonly, isOpen: isOpen, title: title, prompt: prompt, placeholder: placeholder, categories: categories, disclaimer: disclaimer, showTextArea: showTextArea, showPrompt: showPrompt, submitLabel: submitLabel, cancelLabel: cancelLabel} = customElementClass;\n  return html`<div\n    class=\"${cx(`${CSS_CLASS_PREFIX}-container`, {\n    [`${CSS_CLASS_PREFIX}-is-closed`]: !isOpen\n  })}\"\n  >\n    <div class=\"${CSS_CLASS_PREFIX}-title-row\">\n      <div class=\"${CSS_CLASS_PREFIX}-title\">\n        ${title || enLanguagePack.feedback_defaultTitle}\n      </div>\n    </div>\n    ${showPrompt ? html`<div class=\"${CSS_CLASS_PREFIX}-prompt\">\n          ${prompt || enLanguagePack.feedback_defaultPrompt}\n        </div>` : \"\"}\n    ${categories?.length ? html`<div class=\"${CSS_CLASS_PREFIX}-categories\">\n          <cds-aichat-tag-list\n            .tags=${categories}\n            .initialSelectedTags=${initialSelectedCategories}\n            .onTagsChanged=${handleCategoryChange}\n          >\n          </cds-aichat-tag-list>\n        </div>` : \"\"}\n    ${showTextArea ? html`<div class=\"${CSS_CLASS_PREFIX}-feedback-text\">\n          <cds-custom-layer level=\"1\">\n            <cds-custom-textarea\n              id=\"${id}-text-area\"\n              value=\"${textInput}\"\n              class=\"${CSS_CLASS_PREFIX}-feedback-text-area\"\n              ?disabled=\"${isReadonly}\"\n              placeholder=\"${placeholder || enLanguagePack.feedback_defaultPlaceholder}\"\n              rows=\"3\"\n              max-count=\"${MAX_TEXT_COUNT}\"\n              @input=${handleTextInput}\n            ></cds-custom-textarea>\n          </cds-custom-layer>\n        </div>` : \"\"}\n    ${disclaimer ? html`<div class=\"${CSS_CLASS_PREFIX}-disclaimer\">\n          <cds-aichat-markdown-text\n            markdown=\"${disclaimer}\"\n          ></cds-aichat-markdown-text>\n        </div>` : \"\"}\n    <div class=\"${CSS_CLASS_PREFIX}-buttons\">\n      <cds-aichat-rounded-button\n        class=\"${CSS_CLASS_PREFIX}-cancel\"\n        disabled=${isReadonly || nothing}\n        size=\"lg\"\n        kind=\"secondary\"\n        @click=${handleCancel}\n      >\n        ${cancelLabel || enLanguagePack.feedback_cancelLabel}\n      </cds-aichat-rounded-button>\n      <cds-aichat-rounded-button\n        class=\"${CSS_CLASS_PREFIX}-submit\"\n        disabled=${isReadonly || nothing}\n        size=\"lg\"\n        @click=${handleSubmit}\n      >\n        ${submitLabel || enLanguagePack.feedback_submitLabel}\n      </cds-aichat-rounded-button>\n    </div>\n  </div>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const FEEDBACK_COMPONENT_TAG_NAME = `cds-aichat-feedback`;\n\nlet CDSChatFeedbackElement = class CDSChatFeedbackElement extends FeedbackElement {\n  render() {\n    return feedbackElementTemplate(this);\n  }\n};\n\nCDSChatFeedbackElement = __decorate([ carbonElement(FEEDBACK_COMPONENT_TAG_NAME) ], CDSChatFeedbackElement);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const FeedbackComponent = createComponent({\n  tagName: FEEDBACK_COMPONENT_TAG_NAME,\n  elementClass: CDSChatFeedbackElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ResponseStopped() {\n  const {messages_responseStopped: messages_responseStopped} = useLanguagePack();\n  return React.createElement(\"div\", {\n    className: \"WACResponseStopped\"\n  }, messages_responseStopped);\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function EndAgentChatModal(props) {\n  const {onConfirm: onConfirm, onCancel: onCancel, title: title, message: message} = props;\n  const languagePack = useLanguagePack();\n  const serviceManager = useServiceManager();\n  const {isConnected: isConnected, isSuspended: isSuspended} = useSelector(state => state.persistedToBrowserStorage.chatState.agentState);\n  const useTitle = title || (isConnected ? languagePack.agent_endChat : languagePack.agent_confirmCancelRequestTitle);\n  const useMessage = message || (isConnected ? languagePack.agent_confirmEndChat : languagePack.agent_confirmCancelRequestMessage);\n  const cancelButtonLabel = languagePack.agent_confirmEndChatNo;\n  let confirmButtonLabel;\n  if (isSuspended) {\n    confirmButtonLabel = languagePack.agent_confirmEndSuspendedYes;\n  } else if (isConnected) {\n    confirmButtonLabel = languagePack.agent_confirmEndChatYes;\n  } else {\n    confirmButtonLabel = languagePack.agent_confirmCancelRequestYes;\n  }\n  return React.createElement(ConfirmModal, {\n    title: useTitle,\n    message: useMessage,\n    onConfirm: onConfirm,\n    onCancel: onCancel,\n    cancelButtonLabel: cancelButtonLabel,\n    confirmButtonLabel: confirmButtonLabel,\n    modalAnnounceMessage: useMessage,\n    serviceManager: serviceManager\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Checkmark$1 = carbonIconToReact(Checkmark16);\n\nconst Headset = carbonIconToReact(Headset16);\n\nconst HelpDesk = carbonIconToReact(HelpDesk16);\n\nconst Logout = carbonIconToReact(Logout16);\n\nfunction RealConnectToAgent(props) {\n  const {languagePack: languagePack, localMessage: localMessage, originalMessage: originalMessage, disableUserInputs: disableUserInputs, serviceManager: serviceManager, agentState: agentState, requestFocus: requestFocus, agentDisplayState: agentDisplayState, persistedAgentState: persistedAgentState} = props;\n  const {activeLocalMessageID: activeLocalMessageID, availability: availability, isConnecting: isConnecting} = agentState;\n  const {isSuspended: isSuspended} = persistedAgentState;\n  const [showConfirmSuspended, setShowConfirmSuspended] = useState(false);\n  if (!isSuspended && showConfirmSuspended) {\n    setShowConfirmSuspended(false);\n  }\n  function doStartChat() {\n    if (isSuspended && !showConfirmSuspended) {\n      setShowConfirmSuspended(true);\n    } else {\n      setShowConfirmSuspended(false);\n      serviceManager.humanAgentService.startChat(localMessage, originalMessage);\n      setTimeout(requestFocus);\n    }\n  }\n  const noAgentsWereOnline = originalMessage.history.agent_availability === AgentsOnlineStatus.OFFLINE;\n  if (noAgentsWereOnline) {\n    const agentUnavailableMessage = localMessage.item.agent_unavailable?.message || languagePack.default_agent_unavailableMessage;\n    return React.createElement(\"div\", null, agentUnavailableMessage);\n  }\n  const textFromMessage = localMessage.item.agent_available?.message || languagePack.default_agent_availableMessage;\n  let ButtonIcon;\n  let buttonText;\n  let showDisabled = disableUserInputs || agentDisplayState.isConnectingOrConnected;\n  let messageToUser = textFromMessage;\n  if (localMessage.ui_state.id === activeLocalMessageID) {\n    showDisabled = true;\n    if (isConnecting) {\n      ButtonIcon = Checkmark$1;\n      buttonText = languagePack.agent_cardButtonChatRequested;\n      messageToUser = React.createElement(AvailabilityMessage, {\n        availability: availability,\n        fallbackText: languagePack.agent_connectWaiting\n      });\n    } else {\n      ButtonIcon = Headset;\n      buttonText = languagePack.agent_cardButtonConnected;\n      messageToUser = languagePack.agent_cardMessageConnected;\n    }\n  } else if (disableUserInputs) {\n    if (localMessage.ui_state.wasAgentChatEnded) {\n      ButtonIcon = Logout;\n      buttonText = languagePack.agent_cardButtonChatEnded;\n      messageToUser = languagePack.agent_cardMessageChatEnded;\n    } else {\n      ButtonIcon = Headset;\n      buttonText = languagePack.agent_startChat;\n    }\n  } else {\n    ButtonIcon = HelpDesk;\n    buttonText = languagePack.agent_startChat;\n  }\n  return React.createElement(Tile, {\n    className: \"WACConnectToAgent\"\n  }, React.createElement(\"div\", {\n    className: \"WACConnectToAgent__Title\"\n  }, React.createElement(\"span\", null, languagePack.agent_chatTitle)), React.createElement(\"div\", {\n    className: \"WACConnectToAgent__Text\"\n  }, messageToUser), React.createElement(Button, {\n    className: \"WACConnectToAgent__RequestButton\",\n    size: \"md\",\n    disabled: showDisabled,\n    onClick: doStartChat\n  }, React.createElement(ButtonIcon, {\n    slot: \"icon\"\n  }), buttonText), !showDisabled && isSuspended && React.createElement(\"div\", {\n    className: \"WACConnectToAgent__SuspendedWarning\"\n  }, languagePack.agent_suspendedWarning), showConfirmSuspended && React.createElement(EndAgentChatModal, {\n    title: languagePack.agent_confirmSuspendedEndChatTitle,\n    message: languagePack.agent_confirmSuspendedEndChatMessage,\n    onConfirm: doStartChat,\n    onCancel: () => setShowConfirmSuspended(false)\n  }));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ConnectToAgent(props) {\n  const {languagePack: languagePack, localMessage: localMessage, originalMessage: originalMessage, config: config, serviceManager: serviceManager, disableUserInputs: disableUserInputs, agentState: agentState, requestFocus: requestFocus, agentDisplayState: agentDisplayState, persistedAgentState: persistedAgentState} = props;\n  const childDisableUserInputs = disableUserInputs || !hasServiceDesk(config);\n  return React.createElement(\"div\", null, React.createElement(RealConnectToAgent, {\n    localMessage: localMessage,\n    originalMessage: originalMessage,\n    languagePack: languagePack,\n    serviceManager: serviceManager,\n    disableUserInputs: childDisableUserInputs,\n    agentState: agentState,\n    persistedAgentState: persistedAgentState,\n    agentDisplayState: agentDisplayState,\n    requestFocus: requestFocus\n  }));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function AudioComponent({source: source, ...props}) {\n  const isMixCloud = source?.startsWith(\"https://www.mixcloud.com\");\n  return React.createElement(MediaPlayerExport, {\n    type: MessageResponseTypes.AUDIO,\n    source: source,\n    isMixcloud: isMixCloud,\n    ...props\n  });\n}\n\nconst AudioComponentExport = React.memo(AudioComponent);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ClickableImage({buttonAltText: buttonAltText, isLink: isLink, target: target, disabled: disabled, onClick: onClick, ...imageProps}) {\n  if (isLink) {\n    return React.createElement(\"a\", {\n      className: \"WACClickableImage\",\n      href: imageProps.displayURL,\n      rel: \"noopener noreferrer\",\n      target: target,\n      onClick: onClick\n    }, React.createElement(ImageExport, {\n      ...imageProps\n    }), buttonAltText && React.createElement(VisuallyHidden, null, buttonAltText));\n  }\n  return React.createElement(\"button\", {\n    className: \"WACClickableImage\",\n    type: \"button\",\n    onClick: onClick,\n    disabled: disabled\n  }, React.createElement(ImageExport, {\n    ...imageProps\n  }), buttonAltText && React.createElement(VisuallyHidden, null, buttonAltText));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function BaseButtonItemComponent({className: className, label: label, kind: kind, url: url, target: target = \"_blank\", disabled: disabled, renderIcon: renderIcon, imageURL: imageURL, altText: altText, onClick: onClick}) {\n  const {errors_imageSource: errors_imageSource} = useLanguagePack();\n  const useAITheme = useSelector(state => state.theme.useAITheme);\n  const text = label || url;\n  const linkTarget = url ? target : undefined;\n  if (imageURL) {\n    return React.createElement(ClickableImage, {\n      imageError: errors_imageSource,\n      source: imageURL,\n      target: target,\n      title: label,\n      displayURL: url,\n      altText: altText,\n      renderIcon: renderIcon,\n      onClick: onClick,\n      disabled: disabled,\n      isLink: Boolean(url),\n      useAITheme: useAITheme\n    });\n  }\n  const RenderIcon = renderIcon;\n  const buttonKind = getButtonKind(kind) || \"primary\";\n  return React.createElement(Button, {\n    className: cx(\"WACButtonItem\", className),\n    kind: buttonKind,\n    href: url,\n    target: linkTarget,\n    rel: url ? \"noopener noreferrer\" : undefined,\n    disabled: disabled,\n    onClick: onClick\n  }, renderIcon && React.createElement(RenderIcon, {\n    slot: \"icon\"\n  }), text);\n}\n\nfunction getButtonKind(style) {\n  switch (style) {\n   case ButtonItemKind.LINK:\n   case ButtonItemKind.TERTIARY:\n    return \"ghost\";\n\n   case ButtonItemKind.DEFAULT:\n    return \"primary\";\n\n   case ButtonItemKind.SECONDARY:\n    return \"secondary\";\n\n   case ButtonItemKind.DANGER:\n    return \"danger\";\n\n   default:\n    return \"primary\";\n  }\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ButtonItemCustomEventComponent({localMessageItem: localMessageItem, fullMessage: fullMessage}) {\n  const serviceManager = useServiceManager();\n  const messageItem = localMessageItem.item;\n  const {ui_state: ui_state} = localMessageItem;\n  const {image_url: image_url, alt_text: alt_text, label: label, kind: kind, value: value} = messageItem;\n  const isDisabled = Boolean(value && ui_state.optionSelected);\n  const onClickHandler = useCallback(async () => {\n    await serviceManager.fire({\n      type: BusEventType.MESSAGE_ITEM_CUSTOM,\n      messageItem: messageItem,\n      fullMessage: fullMessage\n    });\n  }, [ messageItem, serviceManager, fullMessage ]);\n  return React.createElement(BaseButtonItemComponent, {\n    imageURL: image_url,\n    altText: alt_text,\n    label: label,\n    kind: kind,\n    disabled: isDisabled,\n    renderIcon: image_url && TouchInteraction || undefined,\n    onClick: onClickHandler\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ButtonItemPostBackComponent({localMessageItem: localMessageItem, requestFocus: requestFocus, isMessageForInput: isMessageForInput}) {\n  const serviceManager = useServiceManager();\n  const messageItem = localMessageItem.item;\n  const {ui_state: ui_state, fullMessageID: fullMessageID} = localMessageItem;\n  const {image_url: image_url, alt_text: alt_text, label: label, kind: kind} = messageItem;\n  const isDisabled = !isMessageForInput || Boolean(ui_state.optionSelected);\n  const onClickHandler = useCallback(() => {\n    const isInputAvailable = Boolean(messageItem.value?.input?.text || label);\n    if (isInputAvailable) {\n      const messageRequest = createMessageRequestForButtonItemOption(messageItem, fullMessageID);\n      requestFocus();\n      serviceManager.store.dispatch(actions.messageSetOptionSelected(ui_state.id, messageRequest));\n      serviceManager.actions.sendWithCatch(messageRequest, MessageSendSource.POST_BACK_BUTTON);\n    } else {\n      consoleError(`${WA_CONSOLE_PREFIX} post_back button with label \"${messageItem.label}\" has no input message to send.`);\n    }\n  }, [ messageItem, label, fullMessageID, requestFocus, serviceManager.store, serviceManager.actions, ui_state.id ]);\n  return React.createElement(BaseButtonItemComponent, {\n    imageURL: image_url,\n    altText: alt_text,\n    label: label,\n    kind: kind,\n    onClick: onClickHandler,\n    renderIcon: image_url && Send || undefined,\n    disabled: isDisabled\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ButtonItemShowPanelComponent({localMessageItem: localMessageItem, isMessageForInput: isMessageForInput}) {\n  const serviceManager = useServiceManager();\n  const {image_url: image_url, alt_text: alt_text, label: label, kind: kind} = localMessageItem.item;\n  const onClickHandler = useCallback(async () => {\n    serviceManager.store.dispatch(actions.setResponsePanelIsOpen(true));\n    serviceManager.store.dispatch(actions.setResponsePanelContent(localMessageItem, isMessageForInput));\n  }, [ localMessageItem, isMessageForInput, serviceManager ]);\n  return React.createElement(BaseButtonItemComponent, {\n    className: \"BaseButtonItemComponent__ShowPanel\",\n    imageURL: image_url,\n    altText: alt_text,\n    label: label,\n    kind: kind,\n    renderIcon: image_url && ArrowRight || undefined,\n    onClick: onClickHandler\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Link = createComponent({\n  tagName: \"cds-custom-link\",\n  elementClass: CarbonLinkElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const LaunchIcon = carbonIconToReact(Launch16);\n\nfunction ButtonItemURLComponent({localMessageItem: localMessageItem}) {\n  const {image_url: image_url, alt_text: alt_text, url: url, target: target, label: label, kind: kind} = localMessageItem.item;\n  if (!image_url && kind === ButtonItemKind.LINK) {\n    return React.createElement(\"div\", {\n      className: \"WAC__received--textContent WACButtonItem\"\n    }, React.createElement(Link, {\n      className: \"WACWidget__breakWord\",\n      href: url,\n      target: target,\n      rel: \"noopener noreferrer\"\n    }, React.createElement(LaunchIcon, {\n      slot: \"icon\",\n      className: \"icon\",\n      \"aria-label\": \"Launch\"\n    }), label || url));\n  }\n  return React.createElement(BaseButtonItemComponent, {\n    imageURL: image_url,\n    altText: alt_text,\n    label: label,\n    kind: kind,\n    url: url,\n    target: target,\n    renderIcon: LaunchIcon\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ButtonItemComponent(props) {\n  switch (props.localMessageItem.item.button_type) {\n   case ButtonItemType.URL:\n    return React.createElement(ButtonItemURLComponent, {\n      localMessageItem: props.localMessageItem\n    });\n\n   case ButtonItemType.SHOW_PANEL:\n    return React.createElement(ButtonItemShowPanelComponent, {\n      localMessageItem: props.localMessageItem,\n      isMessageForInput: props.isMessageForInput\n    });\n\n   case ButtonItemType.CUSTOM_EVENT:\n    return React.createElement(ButtonItemCustomEventComponent, {\n      localMessageItem: props.localMessageItem,\n      fullMessage: props.fullMessage\n    });\n\n   default:\n    return React.createElement(ButtonItemPostBackComponent, {\n      localMessageItem: props.localMessageItem,\n      requestFocus: props.requestFocus,\n      isMessageForInput: props.isMessageForInput\n    });\n  }\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function CardItemComponent(props) {\n  const {ignoreMaxWidth: ignoreMaxWidth} = props;\n  const item = props.localMessageItem.item;\n  return React.createElement(Tile, {\n    className: cx(\"WACCardMessageComponent\", {\n      WACMaxWidthSmall: !ignoreMaxWidth && item.max_width === WidthOptions.SMALL,\n      WACMaxWidthMedium: !ignoreMaxWidth && item.max_width === WidthOptions.MEDIUM,\n      WACMaxWidthLarge: !ignoreMaxWidth && item.max_width === WidthOptions.LARGE\n    })\n  }, React.createElement(BodyWithFooterComponent, {\n    ...props,\n    renderMessageComponent: props.renderMessageComponent\n  }));\n}\n\nconst CardComponentExport = React.memo(CardItemComponent);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Carousel$1 = lazyCarousel();\n\nfunction CarouselItemComponent(props) {\n  const {localMessageItem: localMessageItem, fullMessage: fullMessage, isMessageForInput: isMessageForInput, requestFocus: requestFocus, renderMessageComponent: renderMessageComponent} = props;\n  const allMessageItemsByID = useSelector(state => state.allMessageItemsByID);\n  const {itemsLocalMessageItemIDs: itemsLocalMessageItemIDs} = localMessageItem.ui_state;\n  return React.createElement(Suspense, {\n    fallback: React.createElement(SkeletonPlaceholder, null)\n  }, React.createElement(Carousel$1, null, itemsLocalMessageItemIDs.map(nestedLocalMessageItemID => {\n    const localMessageItem = allMessageItemsByID[nestedLocalMessageItemID];\n    return React.createElement(CardComponentExport, {\n      key: nestedLocalMessageItemID,\n      localMessageItem: localMessageItem,\n      fullMessage: fullMessage,\n      isMessageForInput: isMessageForInput,\n      ignoreMaxWidth: true,\n      requestFocus: requestFocus,\n      renderMessageComponent: renderMessageComponent\n    });\n  })));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function useCallbackOnChange(value, callback) {\n  const doDebounced = useMemo(() => callback && debounce(callback, 100, {\n    maxWait: 100,\n    leading: true\n  }), [ callback ]);\n  if (usePrevious(value) !== value && callback) {\n    setTimeout(doDebounced);\n  }\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const WindowSizeContext = React.createContext(null);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function useWindowSize() {\n  return useContext(WindowSizeContext);\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ var CitationType;\n\n(function(CitationType) {\n  CitationType[\"URL\"] = \"url\";\n  CitationType[\"EXPAND_IF_NEEDED\"] = \"expand\";\n})(CitationType || (CitationType = {}));\n\nfunction CitationCardContent({citation: citation, type: type, setIsExpandable: setIsExpandable, isExpandable: isExpandable}) {\n  const languagePack = useLanguagePack();\n  const {width: width} = useWindowSize();\n  const {conversationalSearch_viewSourceDocument: conversationalSearch_viewSourceDocument} = languagePack;\n  const ref = useRef(null);\n  const {text: text} = citation;\n  useLayoutEffect(() => {\n    if (ref.current && !isExpandable && setIsExpandable) {\n      if (ref.current.clientHeight && ref.current.scrollHeight) {\n        setIsExpandable(ref.current.clientHeight < ref.current.scrollHeight);\n      }\n    }\n  }, [ text, isExpandable, setIsExpandable, width ]);\n  let label;\n  let icon;\n  if (type === CitationType.URL && citation.url) {\n    label = new URL(citation.url).hostname;\n    icon = React.createElement(Link$1, {\n      size: 16\n    });\n  } else if (isExpandable) {\n    icon = React.createElement(Maximize, {\n      size: 16\n    });\n    label = conversationalSearch_viewSourceDocument;\n  }\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"WACCitationCard_Header\"\n  }, React.createElement(\"div\", {\n    className: \"WACCitationCard_Title WACWidget__textEllipsis\"\n  }, citation.title), React.createElement(\"div\", {\n    ref: ref,\n    className: \"WACCitationCard_Text\"\n  }, text)), React.createElement(\"div\", {\n    className: \"WACCitationCard_Footer\"\n  }, (label || icon) && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"WACCitationCard_Label WACWidget__textEllipsis\"\n  }, label), React.createElement(\"div\", {\n    className: \"WACCitationCard_Icon\"\n  }, icon))));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function CitationClickableCard({title: title, onClick: onClick, onSelectCitation: onSelectCitation, children: children, className: className}) {\n  return React.createElement(\"button\", {\n    type: \"button\",\n    className: `${className} WACCitationCard--clickable`,\n    \"aria-label\": title,\n    onClick: () => {\n      onClick();\n      onSelectCitation?.();\n    },\n    onFocus: onSelectCitation\n  }, children);\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ExpandToPanelCard({className: className, citation: citation, onSelectCitation: onSelectCitation, relatedSearchResult: relatedSearchResult}) {\n  const serviceManager = useServiceManager();\n  const {title: title} = citation;\n  const [isExpandable, setIsExpandable] = useState(Boolean(relatedSearchResult?.body));\n  function onViewSourcePanelButtonClick() {\n    serviceManager.store.dispatch(actions.setViewSourcePanelIsOpen(true, citation, relatedSearchResult));\n  }\n  function renderTile(className) {\n    return React.createElement(Tile, {\n      className: className\n    }, React.createElement(CitationCardContent, {\n      citation: citation,\n      type: CitationType.EXPAND_IF_NEEDED,\n      setIsExpandable: setIsExpandable,\n      isExpandable: isExpandable\n    }));\n  }\n  if (isExpandable) {\n    return React.createElement(CitationClickableCard, {\n      className: className,\n      title: title,\n      onClick: onViewSourcePanelButtonClick,\n      onSelectCitation: onSelectCitation\n    }, renderTile());\n  }\n  return renderTile(className);\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function CitationCard({citation: citation, isSelected: isSelected, onSelectCitation: onSelectCitation, relatedSearchResult: relatedSearchResult}) {\n  const {url: url} = citation;\n  function getType() {\n    if (url && isValidURL(url)) {\n      return CitationType.URL;\n    }\n    return CitationType.EXPAND_IF_NEEDED;\n  }\n  const type = getType();\n  const className = cx(\"WACCitationCard\", {\n    \"WACCitationCard--selected\": isSelected,\n    \"WACCitationCard--clickable\": type === CitationType.URL,\n    \"WACCitationCard--url\": type === CitationType.URL,\n    \"WACCitationCard--no-url\": type !== CitationType.URL\n  }, \"WACWidget__textEllipsis\");\n  if (type === CitationType.URL) {\n    return React.createElement(\"a\", {\n      className: className,\n      href: url,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      onClick: onSelectCitation,\n      onFocus: onSelectCitation\n    }, React.createElement(Tile, null, React.createElement(CitationCardContent, {\n      citation: citation,\n      type: type\n    })));\n  }\n  return React.createElement(ExpandToPanelCard, {\n    citation: citation,\n    className: className,\n    onSelectCitation: onSelectCitation,\n    relatedSearchResult: relatedSearchResult\n  });\n}\n\nconst CitationCardExport = React.memo(CitationCard);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const OperationalTag = createComponent({\n  tagName: \"cds-custom-operational-tag\",\n  elementClass: CarbonOperationalTagElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function templateToString(result) {\n  const container = document.createElement(\"div\");\n  render(result, container);\n  const htmlString = container.innerHTML;\n  render(html``, container);\n  return htmlString;\n}\n\nasync function processMarkdown(value, sanitzeHTML = false) {\n  const tokenTree = await getMarkdownWorker(value, undefined);\n  const html = templateToString(renderTokenTree(tokenTree, sanitzeHTML));\n  return html;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const ChevronUp = carbonIconToReact(ChevronUp16);\n\nconst ChevronDown = carbonIconToReact(ChevronDown16);\n\nfunction ConversationalSearchText(props) {\n  const {highlightCitation: highlightCitation, onToggleCitations: onToggleCitations, citationsOpen: citationsOpen, searchItem: searchItem, showCitationsToggle: showCitationsToggle} = props;\n  const languagePack = useLanguagePack();\n  const serviceManager = useServiceManager();\n  const {streamingState: streamingState} = searchItem.ui_state;\n  const toggleID = `WACConversationalSearchText-${useCounter()}${serviceManager.namespace.suffix}`;\n  const [html, setHtml] = useState(\"\");\n  let text;\n  if (streamingState && !streamingState.isDone) {\n    text = streamingState.chunks.map(chunk => chunk.text).join(\"\");\n  } else {\n    text = searchItem.item.text;\n  }\n  const handleTagKeyDown = e => {\n    if (e.key === \"Enter\" || e.key === \" \") {\n      e.preventDefault();\n      onToggleCitations();\n    }\n  };\n  useEffect(() => {\n    async function getHtml() {\n      const newHtml = await createHTMLWithHighlights(text, highlightCitation);\n      setHtml(newHtml);\n    }\n    getHtml();\n  }, [ text, highlightCitation, showCitationsToggle ]);\n  return React.createElement(\"div\", {\n    className: \"WACConversationalSearchText\"\n  }, React.createElement(MarkdownText, {\n    markdown: html,\n    sanitizeHTML: false\n  }), showCitationsToggle && React.createElement(\"div\", {\n    className: \"WACConversationalSearchText__CitationsToggleContainer\"\n  }, React.createElement(\"div\", {\n    className: \"WACConversationalSearchText__CitationsToggle\"\n  }, React.createElement(OperationalTag, {\n    id: toggleID,\n    onClick: onToggleCitations,\n    onKeyDown: handleTagKeyDown,\n    \"aria-expanded\": citationsOpen,\n    text: languagePack.conversationalSearch_citationsLabel,\n    \"aria-label\": languagePack.conversationalSearch_toggleCitations\n  }, citationsOpen ? React.createElement(ChevronUp, {\n    slot: \"icon\"\n  }) : React.createElement(ChevronDown, {\n    slot: \"icon\"\n  })))));\n}\n\nconst HIGHLIGHT_TOKEN_START = \"@@:wc-source:@@\";\n\nconst HIGHLIGHT_TOKEN_END = \"@@/:wc-source:@@\";\n\nconst HIGHLIGHT_TOKEN_REGEXP = /@@\\/?:wc-source:@@/g;\n\nasync function createHTMLWithHighlights(text, highlightCitation) {\n  const ranges = highlightCitation?.ranges;\n  if (ranges?.length) {\n    const pieces = [];\n    let startIndex = 0;\n    ranges.forEach(range => {\n      const beforeHighlight = text.substring(startIndex, range.start);\n      const highlight = text.substring(range.start, range.end);\n      pieces.push(beforeHighlight);\n      pieces.push(HIGHLIGHT_TOKEN_START);\n      pieces.push(highlight);\n      pieces.push(HIGHLIGHT_TOKEN_END);\n      startIndex = range.end;\n    });\n    const lastPiece = text.substring(startIndex, text.length);\n    pieces.push(lastPiece);\n    text = pieces.join(\"\");\n  }\n  const md = await processMarkdown(text);\n  const afterMarkdownHTML = sanitizeHTML(md);\n  if (ranges) {\n    try {\n      const rootElement = document.createElement(\"div\");\n      rootElement.innerHTML = afterMarkdownHTML;\n      if (ranges) {\n        insertHighlights(rootElement, false);\n      }\n      return rootElement.innerHTML;\n    } catch (error) {\n      consoleError(\"An error occurred processing source highlights.\", text, highlightCitation, error);\n    }\n  }\n  return afterMarkdownHTML;\n}\n\nfunction insertHighlights(parent, isInHighlight) {\n  const childNodes = Array.from(parent.childNodes);\n  childNodes.forEach(child => {\n    if (child instanceof Text) {\n      const text = child.textContent;\n      const tokenMatches = Array.from(text.matchAll(HIGHLIGHT_TOKEN_REGEXP));\n      if (!tokenMatches.length && !isInHighlight) ; else {\n        let startIndex = 0;\n        tokenMatches.forEach(match => {\n          const isInHighlightHere = match[0] === HIGHLIGHT_TOKEN_END;\n          const textContent = text.substring(startIndex, match.index);\n          startIndex = match.index + match[0].length;\n          addTextSegment(textContent, isInHighlightHere, parent, child);\n          isInHighlight = !isInHighlightHere;\n        });\n        const lastText = text.substring(startIndex, text.length);\n        addTextSegment(lastText, isInHighlight, parent, child);\n        child.remove();\n      }\n    } else if (child instanceof Element) {\n      child.getAttributeNames().forEach(name => {\n        const value = child.getAttribute(name);\n        if (value) {\n          child.setAttribute(name, value.replaceAll(HIGHLIGHT_TOKEN_REGEXP, \"\"));\n        }\n      });\n    }\n    isInHighlight = insertHighlights(child, isInHighlight);\n  });\n  return isInHighlight;\n}\n\nfunction addTextSegment(text, highlighted, parent, beforeChild) {\n  if (text) {\n    const textNode = document.createTextNode(text);\n    if (highlighted && text.trim()) {\n      const highlightNode = document.createElement(\"span\");\n      highlightNode.className = `WACConversationalSearchText--hasCitation`;\n      highlightNode.appendChild(textNode);\n      parent.insertBefore(highlightNode, beforeChild);\n    } else {\n      parent.insertBefore(textNode, beforeChild);\n    }\n  }\n}\n\nconst ConversationalSearchTextExport = React.memo(ConversationalSearchText);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Carousel = lazyCarousel();\n\nfunction ConversationalSearch({localMessageItem: localMessageItem, scrollElementIntoView: scrollElementIntoView, isStreamingError: isStreamingError, doAutoScroll: doAutoScroll}) {\n  const [selectedCitationIndex, setSelectedCitationIndex] = useState(0);\n  const [citationsOpen, setCitationsOpen] = useState(false);\n  const scrollIntoViewArea = useRef();\n  const swiperRef = useRef();\n  const languagePack = useLanguagePack();\n  const messageItem = localMessageItem.item;\n  const sortedCitations = useMemo(() => sortCitations(messageItem.citations), [ messageItem.citations ]);\n  function scrollCitations() {\n    setTimeout(() => scrollElementIntoView(scrollIntoViewArea.current, 32, 64), 50);\n  }\n  useCallbackOnChange(localMessageItem.ui_state.streamingState?.chunks, doAutoScroll);\n  function onSelectCitation(index) {\n    setCitationsOpen(true);\n    setSelectedCitationIndex(index);\n    setTimeout(() => swiperRef.current?.swiper.slideTo(index));\n    scrollCitations();\n  }\n  function onToggleCitations() {\n    setCitationsOpen(!citationsOpen);\n    if (!citationsOpen) {\n      scrollCitations();\n    }\n  }\n  function renderCitations() {\n    const tiles = sortedCitations?.map((citation, index) => React.createElement(CitationCardExport, {\n      key: index,\n      citation: citation,\n      isSelected: index === selectedCitationIndex,\n      onSelectCitation: () => onSelectCitation(index),\n      relatedSearchResult: messageItem.search_results?.[citation.search_result_idx]\n    }));\n    return React.createElement(\"div\", {\n      className: \"WACConversationalSearch_Citations\"\n    }, React.createElement(Suspense, {\n      fallback: React.createElement(SkeletonPlaceholder, null)\n    }, React.createElement(Carousel, {\n      swiperRef: swiperRef,\n      initialSlide: selectedCitationIndex,\n      onSlideChange: setSelectedCitationIndex\n    }, tiles)));\n  }\n  return React.createElement(\"div\", {\n    className: \"WACConversationalSearch\"\n  }, React.createElement(ConversationalSearchTextExport, {\n    searchItem: localMessageItem,\n    showCitationsToggle: Boolean(sortedCitations?.length),\n    highlightCitation: citationsOpen ? sortedCitations?.[selectedCitationIndex] : null,\n    onToggleCitations: onToggleCitations,\n    citationsOpen: citationsOpen\n  }), isStreamingError && React.createElement(InlineError, {\n    text: languagePack.conversationalSearch_streamingIncomplete\n  }), React.createElement(\"div\", {\n    ref: scrollIntoViewArea\n  }, citationsOpen && renderCitations()));\n}\n\nfunction sortCitations(citations) {\n  if (!citations) {\n    return null;\n  }\n  const withRanges = citations.filter(citation => citation.ranges?.length);\n  const withoutRanges = citations.filter(citation => !citation.ranges?.length);\n  return withRanges.concat(withoutRanges);\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function UserDefinedResponse(props) {\n  const {doAutoScroll: doAutoScroll, isStreamingError: isStreamingError, streamingState: streamingState, serviceManager: serviceManager} = props;\n  const languagePack = useLanguagePack();\n  const userDefinedRegistryItem = serviceManager.actions.getOrCreateUserDefinedElement(props.localMessageID);\n  useCallbackOnChange(streamingState?.chunks, doAutoScroll);\n  return React.createElement(\"div\", {\n    className: \"WAC__message-userDefinedResponse\",\n    \"data-floating-menu-container\": true\n  }, React.createElement(\"slot\", {\n    name: userDefinedRegistryItem.slotName\n  }), isStreamingError && React.createElement(InlineError, {\n    text: languagePack.conversationalSearch_streamingIncomplete\n  }));\n}\n\nvar UserDefinedResponse$1 = React.memo(UserDefinedResponse);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const UNWANTED_CHARACTERS_REGEX = new RegExp(`[ ${RIGHT_TO_LEFT_MARK}]|\\\\.$`, \"g\");\n\nfunction sanitizeDateFormat(value) {\n  let format = value.replace(UNWANTED_CHARACTERS_REGEX, \"\");\n  if (!format.includes(\"mm\")) {\n    format = format.replace(\"m\", \"mm\");\n  }\n  if (!format.includes(\"dd\")) {\n    format = format.replace(\"d\", \"dd\");\n  }\n  return format;\n}\n\nfunction toUserDateFormat(date, format) {\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const year = String(date.getFullYear());\n  return format.replace(\"dd\", day).replace(\"mm\", month).replace(\"yyyy\", year);\n}\n\nfunction toAssistantDateFormat(date) {\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const year = String(date.getFullYear());\n  return `${year}-${month}-${day}`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Checkmark = carbonIconToReact(Checkmark32);\n\nfunction DatePickerComponent(props) {\n  const {localMessage: localMessage, disabled: disabled, scrollElementIntoView: scrollElementIntoView} = props;\n  const serviceManager = useServiceManager();\n  const intl = useIntl();\n  const webChatLocale = useSelector(state => state.locale);\n  const originalMessage = useSelector(state => state.allMessagesByID[localMessage.fullMessageID]);\n  const uuidRef = useRef(uuid(UUIDType.MISCELLANEOUS));\n  const [isCalendarOpen, setIsCalendarOpen] = useState(false);\n  const [userDisplayValue, setUserDisplayValue] = useState();\n  const [flatpickrFormat, setFlatpickrFormat] = useState();\n  const [userDisplayFormat, setUserDisplayFormat] = useState();\n  const [flatpickrLocale, setFlatpickrLocale] = useState();\n  const [dayjsLocale, setDayjsLocale] = useState();\n  const [datePickerHostElement, setDatePickerHostElement] = useState();\n  const valueForAssistantRef = useRef();\n  const isInputPointerDownEventFiredRef = useRef(false);\n  const inputLabel = intl.formatMessage({\n    id: \"datePicker_chooseDate\"\n  }, {\n    format: userDisplayFormat\n  });\n  const confirmButtonLabel = intl.formatMessage({\n    id: \"datePicker_confirmDate\"\n  });\n  const isDateInfoReady = Boolean(flatpickrFormat && userDisplayFormat && flatpickrLocale && dayjsLocale);\n  function setDateInfoForLocale(locale) {\n    const format = dayjs.Ls[locale]?.formats?.L?.toLocaleLowerCase() || ENGLISH_US_DATE_FORMAT;\n    const dateFormat = sanitizeDateFormat(format);\n    setDayjsLocale(locale);\n    setFlatpickrLocale(calcFlatpickrLocale(locale));\n    setUserDisplayFormat(dateFormat);\n    setFlatpickrFormat(getFlatpickrDateFormat(dateFormat));\n  }\n  const handlerSendDate = useCallback(() => {\n    const {ui_state: ui_state, fullMessageID: responseID} = localMessage;\n    const localMessageID = ui_state.id;\n    console.log(userDisplayValue, \"userDisplayValue\");\n    const request = createMessageRequestForDate(valueForAssistantRef.current, userDisplayValue, responseID);\n    serviceManager.actions.sendWithCatch(request, MessageSendSource.DATE_PICKER, {\n      setValueSelectedForMessageID: localMessageID\n    });\n  }, [ localMessage, serviceManager, userDisplayValue ]);\n  const doScrollElementIntoView = useCallback(() => {\n    scrollElementIntoView(datePickerHostElement, 0, 24);\n  }, [ datePickerHostElement, scrollElementIntoView ]);\n  useOnMount(() => {\n    const localeFromMessage = webChatLocale;\n    const {originalUserText: originalUserText} = localMessage.ui_state;\n    const fromHistory = originalMessage.history.from_history;\n    if (fromHistory && originalUserText) {\n      setUserDisplayValue(originalUserText);\n    }\n    try {\n      if (dayjs.Ls[localeFromMessage]) {\n        setDateInfoForLocale(localeFromMessage);\n      } else {\n        loadDayjsLocale(localeFromMessage).then(locale => {\n          setDateInfoForLocale(locale);\n        });\n      }\n    } catch {\n      consoleError(`Locale ${dayjsLocale} is not recognized by Carbon AI chat. Defaulting to English(US).`);\n      setDateInfoForLocale(\"en\");\n    }\n  });\n  return React.createElement(\"div\", {\n    className: \"WACDatePicker\"\n  }, isDateInfoReady && datePickerHostElement && React.createElement(Layer$1, null, React.createElement(DatePicker, {\n    className: \"WACDatePicker__Calendar\",\n    datePickerType: \"single\",\n    allowInput: false,\n    locale: flatpickrLocale,\n    appendTo: datePickerHostElement,\n    onChange: dates => {\n      if (dates.length) {\n        const date = dates[0];\n        valueForAssistantRef.current = toAssistantDateFormat(date);\n        setUserDisplayValue(toUserDateFormat(date, userDisplayFormat));\n      }\n    },\n    dateFormat: flatpickrFormat,\n    onOpen: () => {\n      setIsCalendarOpen(true);\n      if (isInputPointerDownEventFiredRef.current) {\n        isInputPointerDownEventFiredRef.current = false;\n      } else {\n        doScrollElementIntoView();\n      }\n    },\n    onClose: () => setIsCalendarOpen(false)\n  }, React.createElement(DatePickerInput, {\n    id: uuidRef.current,\n    labelText: inputLabel,\n    placeholder: userDisplayFormat,\n    disabled: disabled,\n    title: \"\",\n    onPointerDown: () => {\n      isInputPointerDownEventFiredRef.current = true;\n    },\n    onClick: () => doScrollElementIntoView()\n  }))), React.createElement(\"div\", {\n    className: \"WACDatePicker__CalendarContainer\",\n    ref: setDatePickerHostElement\n  }), !disabled && !isCalendarOpen && userDisplayValue && React.createElement(Button, {\n    className: \"WACDatePicker__ConfirmButton\",\n    onClick: handlerSendDate\n  }, React.createElement(Checkmark, {\n    slot: \"icon\"\n  }), confirmButtonLabel));\n}\n\nfunction calcFlatpickrLocale(localeValue) {\n  if (localeValue === \"zh-tw\") {\n    return \"zh_tw\";\n  }\n  return localeValue.includes(\"-\") ? localeValue.split(\"-\")[0] : localeValue;\n}\n\nfunction getFlatpickrDateFormat(format) {\n  const dash = format.includes(\"-\") ? \"-\" : \"/\";\n  const firstChar = format.toLocaleLowerCase().trim()[0];\n  if (firstChar === \"m\") {\n    return `m${dash}d${dash}Y`;\n  }\n  if (firstChar === \"d\") {\n    return `d${dash}m${dash}Y`;\n  }\n  if (firstChar === \"y\") {\n    return `Y${dash}m${dash}d`;\n  }\n  throw Error(`The provided format ${format} is invalid.`);\n}\n\nconst DatePickerComponentExport = React.memo(DatePickerComponent);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const VALID_COLUMN_WIDTH_REGEX = /^[0-9]*(px)?$/;\n\nconst DEFAULT_COLUMN_WIDTH = \"1\";\n\nfunction GridItemComponent({localMessageItem: localMessageItem, originalMessage: originalMessage, renderMessageComponent: renderMessageComponent}) {\n  const serviceManager = useServiceManager();\n  const languagePack = useLanguagePack();\n  const appConfig = useSelector(state => state.config);\n  const inputState = useSelector(selectInputState);\n  const allMessageItemsByID = useSelector(state => state.allMessageItemsByID);\n  const {columns: columns, horizontal_alignment: horizontal_alignment, vertical_alignment: vertical_alignment, max_width: max_width} = localMessageItem.item;\n  const gridTemplateColumns = columns?.map(column => column.width).join(\" \") || DEFAULT_COLUMN_WIDTH;\n  return React.createElement(\"div\", {\n    className: cx(\"WACGrid\", {\n      WACMaxWidthSmall: max_width === WidthOptions.SMALL,\n      WACMaxWidthMedium: max_width === WidthOptions.MEDIUM,\n      WACMaxWidthLarge: max_width === WidthOptions.LARGE\n    }),\n    style: {\n      gridTemplateColumns: gridTemplateColumns\n    }\n  }, localMessageItem.ui_state.gridLocalMessageItemIDs.map((row, rowIndex) => React.createElement(\"div\", {\n    key: `row-${rowIndex}`,\n    className: \"WACGrid__Row\"\n  }, row.map((cell, columnIndex) => {\n    const cellData = localMessageItem.item.rows[rowIndex]?.cells[columnIndex];\n    let columnWidthString = columns?.[columnIndex]?.width || DEFAULT_COLUMN_WIDTH;\n    let isPixelValue;\n    if (columnWidthString.match(VALID_COLUMN_WIDTH_REGEX)) {\n      isPixelValue = columnWidthString.endsWith(\"px\");\n    } else {\n      columnWidthString = DEFAULT_COLUMN_WIDTH;\n      isPixelValue = false;\n    }\n    return React.createElement(\"div\", {\n      className: \"WACGrid__Cell\",\n      style: {\n        width: isPixelValue ? columnWidthString : undefined,\n        flex: isPixelValue ? undefined : Number(columnWidthString),\n        alignItems: getFlexAlignment(cellData?.horizontal_alignment || horizontal_alignment),\n        justifyContent: getFlexAlignment(cellData?.vertical_alignment || vertical_alignment)\n      },\n      key: `cell-${rowIndex}-${columnIndex}`\n    }, cell.map((localMessageItemID, itemIndex) => {\n      const message = allMessageItemsByID[localMessageItemID];\n      return React.createElement(React.Fragment, {\n        key: `item-${rowIndex}-${columnIndex}-${itemIndex}`\n      }, renderMessageComponent({\n        message: message,\n        originalMessage: originalMessage,\n        languagePack: languagePack,\n        requestInputFocus: THROW_ERROR,\n        disableUserInputs: inputState.isReadonly,\n        config: appConfig,\n        isMessageForInput: false,\n        scrollElementIntoView: THROW_ERROR,\n        serviceManager: serviceManager,\n        isNestedMessageItem: true,\n        hideFeedback: true,\n        allowNewFeedback: false\n      }));\n    }));\n  }))));\n}\n\nfunction getFlexAlignment(value) {\n  switch (value) {\n   case \"bottom\":\n   case \"right\":\n    return \"flex-end\";\n\n   case \"center\":\n    return \"center\";\n\n   case \"top\":\n   case \"left\":\n   default:\n    return \"flex-start\";\n  }\n}\n\nconst GridItemComponentExport = React.memo(GridItemComponent);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function IFramePreviewCardComponent({messageItem: messageItem, doAutoScroll: doAutoScroll}) {\n  const {source: source, image_url: image_url, title: title, description: description} = messageItem;\n  const useAITheme = useSelector(state => state.theme.useAITheme);\n  const urlHostName = getURLHostName(source);\n  const {store: store} = useServiceManager();\n  const {iframe_ariaImageAltText: iframe_ariaImageAltText} = useLanguagePack();\n  const intl = useIntl();\n  const iframeAriaClickPreviewCardMessage = intl.formatMessage({\n    id: \"iframe_ariaClickPreviewCard\"\n  }, {\n    source: urlHostName\n  });\n  function handleCardClick() {\n    if (source) {\n      store.dispatch(actions.setIFrameContent(messageItem));\n    }\n  }\n  function handleImageLoaded() {\n    doAutoScroll?.();\n  }\n  return React.createElement(\"div\", null, React.createElement(ClickableImage, {\n    title: title,\n    description: description,\n    source: image_url,\n    displayURL: source,\n    altText: iframe_ariaImageAltText,\n    onImageLoad: handleImageLoaded,\n    renderIcon: ArrowRight,\n    onClick: handleCardClick,\n    preventInlineError: true,\n    useAITheme: useAITheme\n  }), React.createElement(VisuallyHidden, null, iframeAriaClickPreviewCardMessage));\n}\n\nconst IFramePreviewCardExport = React.memo(IFramePreviewCardComponent);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function InlineIFrame({messageItem: messageItem, doAutoScroll: doAutoScroll}) {\n  const ariaAnnouncer = useAriaAnnouncer();\n  const {errors_iframeSource: errors_iframeSource} = useLanguagePack();\n  const [isError, setIsError] = useState(false);\n  const {source: source, title: title} = messageItem;\n  const baseHeight = getMediaDimensions(messageItem)?.base_height;\n  const paddingTop = getResponsiveElementPaddingValue(baseHeight);\n  const inlineStyles = useDynamicCSSProperties({\n    paddingTop: paddingTop\n  });\n  const iframeTitle = title || source;\n  const onTimeoutOverride = useCallback(() => {\n    setIsError(true);\n    ariaAnnouncer(errors_iframeSource);\n  }, [ ariaAnnouncer, errors_iframeSource ]);\n  if (isError) {\n    return React.createElement(InlineError, {\n      text: errors_iframeSource\n    });\n  }\n  return React.createElement(\"div\", {\n    className: \"WACInlineIFrame\",\n    style: inlineStyles\n  }, React.createElement(IFrameComponent, {\n    source: source,\n    title: iframeTitle,\n    onTimeoutOverride: onTimeoutOverride,\n    onLoad: () => doAutoScroll?.()\n  }));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function IFrameMessage({doAutoScroll: doAutoScroll, localMessage: localMessage, displayOverride: displayOverride}) {\n  const {item: item} = localMessage;\n  const itemDisplay = item.display;\n  if (itemDisplay === IFrameItemDisplayOption.INLINE || displayOverride === IFrameItemDisplayOption.INLINE) {\n    return React.createElement(InlineIFrame, {\n      key: item.source,\n      doAutoScroll: doAutoScroll,\n      messageItem: item\n    });\n  }\n  return React.createElement(IFramePreviewCardExport, {\n    doAutoScroll: doAutoScroll,\n    messageItem: item\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function Description({className: className, text: text, shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion = false}) {\n  return React.createElement(\"div\", {\n    className: `WAC__description ${className}`\n  }, React.createElement(RichTextExport, {\n    text: text,\n    shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion\n  }));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function Metablock({title: title = null, description: description = null, id: id = null, shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion = false}) {\n  return title || description ? React.createElement(\"div\", {\n    className: \"WAC__received--metablock\",\n    id: id\n  }, title && React.createElement(Description, {\n    className: \"WAC__received--metablock-content WACMetablock__Title\",\n    text: title,\n    shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion\n  }), description && React.createElement(Description, {\n    className: \"WAC__received--metablock-content WACMetablock__Description\",\n    text: description,\n    shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion\n  })) : null;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Layer = createComponent({\n  tagName: \"cds-custom-layer\",\n  elementClass: CarbonLayerElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Dropdown = createComponent({\n  tagName: \"cds-custom-dropdown\",\n  elementClass: CarbonDropdownElement,\n  events: {\n    onBeingSelected: \"cds-custom-dropdown-beingselected\",\n    onToggled: \"cds-custom-dropdown-toggled\"\n  },\n  react: React\n});\n\nconst DropdownItem = createComponent({\n  tagName: \"cds-custom-dropdown-item\",\n  elementClass: CarbonDropdownItemElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function SelectComponent(props) {\n  const {title: title, description: description, options: options, onChange: onChange, languagePack: languagePack, disableUserInputs: disableUserInputs, serviceManager: serviceManager, shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion} = props;\n  const [isBeingOpened, setIsBeingOpened] = useState(false);\n  const rootRef = useRef();\n  const counter = useCounter();\n  const id = `${counter}${serviceManager.namespace.suffix}`;\n  const handleToggle = () => {\n    setIsBeingOpened(true);\n    requestAnimationFrame(() => {\n      if (rootRef.current) {\n        doScrollElementIntoView(rootRef.current, true);\n      }\n      setIsBeingOpened(false);\n    });\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"ArrowUp\" || e.key === \"ArrowDown\") {\n      e.preventDefault();\n    }\n  };\n  const handleBeingSelected = e => {\n    const text = e.detail.item.value;\n    onChange({\n      selectedItem: {\n        label: text,\n        value: {\n          input: {\n            text: text\n          }\n        }\n      }\n    });\n  };\n  useEffect(() => {\n    setTimeout(() => {\n      const listBox = rootRef.current?.querySelector(\"cds-custom-dropdown\")?.shadowRoot?.querySelector(\".cds-custom--list-box--md\");\n      if (listBox) {\n        listBox.style.blockSize = \"unset\";\n        listBox.style.maxBlockSize = \"unset\";\n        console.log(listBox);\n      }\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    ref: rootRef\n  }, React.createElement(Metablock, {\n    title: title,\n    description: description,\n    id: `WAC__selectUUID_${id}-label`,\n    shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion\n  }), React.createElement(\"div\", {\n    className: cx(\"WAC__selectHolder\", {\n      WAC__customSelectTemporaryPadding: isBeingOpened\n    })\n  }, React.createElement(Layer, {\n    level: 1\n  }, React.createElement(Dropdown, {\n    id: `WAC__selectUUID_${id}`,\n    label: languagePack.options_select,\n    \"title-text\": languagePack.options_select,\n    hideLabel: true,\n    \"aria-label\": disableUserInputs ? languagePack.options_ariaOptionsDisabled : title,\n    disabled: disableUserInputs,\n    onToggled: handleToggle,\n    onKeyDown: handleKeyDown,\n    onBeingSelected: handleBeingSelected\n  }, options.map(option => React.createElement(DropdownItem, {\n    value: option.label,\n    key: option.label\n  }, option.value.input.text))))));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ class OptionComponent extends Component {\n  constructor() {\n    super(...arguments);\n    this.onOptionSelected = (selectedOption, type) => {\n      const {localMessage: localMessage, serviceManager: serviceManager, originalMessage: originalMessage} = this.props;\n      const {id: responseID} = originalMessage;\n      const messageRequest = createMessageRequestForChoice(selectedOption, responseID);\n      const localMessageID = localMessage.ui_state.id;\n      const source = type === \"button\" ? MessageSendSource.OPTION_BUTTON : MessageSendSource.OPTION_DROP_DOWN;\n      serviceManager.actions.sendWithCatch(messageRequest, source, {\n        setValueSelectedForMessageID: localMessageID\n      });\n      this.props.requestInputFocus();\n    };\n    this.onButtonClick = (event, item) => {\n      this.onOptionSelected(item, \"button\");\n    };\n    this.onSelectChange = data => {\n      this.onOptionSelected(data.selectedItem, \"dropdown\");\n    };\n  }\n  render() {\n    const {localMessage: localMessage, languagePack: languagePack, disableUserInputs: disableUserInputs, serviceManager: serviceManager, shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion} = this.props;\n    const {options: options, title: title, description: description, preference: preference} = localMessage.item;\n    const {optionSelected: optionSelected} = localMessage.ui_state;\n    const type = getOptionType(preference, options.length);\n    return type === \"button\" ? React.createElement(React.Fragment, null, React.createElement(Metablock, {\n      title: title,\n      description: description,\n      shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion\n    }), React.createElement(\"div\", {\n      className: \"WAC__button-holder\"\n    }, React.createElement(\"ul\", null, options.map((item, index) => {\n      const isSelected = optionSelected ? item.value.input.text === optionSelected.input.text : false;\n      return React.createElement(\"li\", {\n        key: item.label\n      }, React.createElement(ChatButton, {\n        kind: CHAT_BUTTON_KIND.TERTIARY,\n        isQuickAction: true,\n        size: CHAT_BUTTON_SIZE.SMALL,\n        className: `WAC__button-${index}`,\n        disabled: disableUserInputs,\n        isSelected: isSelected,\n        onClick: event => {\n          this.onButtonClick(event, item);\n        }\n      }, item.label));\n    })))) : React.createElement(SelectComponent, {\n      serviceManager: serviceManager,\n      languagePack: languagePack,\n      title: title,\n      description: description,\n      options: options,\n      disableUserInputs: disableUserInputs,\n      onChange: this.onSelectChange,\n      value: optionSelected,\n      shouldRemoveHTMLBeforeMarkdownConversion: shouldRemoveHTMLBeforeMarkdownConversion\n    });\n  }\n}\n\nvar css_248z$1 = \"cds-custom-table-header-title,\\ncds-custom-table-header-description,\\ncds-custom-table-toolbar{\\n  position:sticky;\\n  inline-size:var(--cds-chat-table-width, auto);\\n  inset-inline-start:0;\\n}\\n\\n:dir(rtl) cds-custom-table-header-title,\\n:dir(rtl) cds-custom-table-header-description,\\n:dir(rtl) cds-custom-table-toolbar{\\n  right:0;\\n  left:unset;\\n}\\n\\ncds-custom-table-header-title,\\ncds-custom-table-header-description{\\n  padding:0 1rem;\\n  inline-size:calc(var(--cds-chat-table-width, auto) - 1rem - 1rem);\\n  margin-inline:-1rem;\\n}\\n\\ncds-custom-table-header-description{\\n  margin-block-end:-0.5rem;\\n}\\n\\ncds-custom-pagination{\\n  inline-size:100%;\\n}\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Download16svg = toString({\n  ...Download16,\n  attrs: {\n    ...Download16.attrs,\n    slot: \"icon\"\n  }\n});\n\nfunction tableTemplate(tableElement) {\n  const {tableTitle: tableTitle, tableDescription: tableDescription, headers: headers, containerWidth: containerWidth, filterPlaceholderText: filterPlaceholderText, locale: locale, _handleDownload: handleDownload, _rowsWithIDs: tableRowsWithIDs, _allowFiltering: allowTableFiltering, _handleFilterEvent: handleFilterEvent} = tableElement;\n  function toolbarElement() {\n    return html`<cds-custom-table-toolbar slot=\"toolbar\">\n      <cds-custom-table-toolbar-content>\n        ${allowTableFiltering ? html`<cds-custom-table-toolbar-search\n              persistent\n              placeholder=${filterPlaceholderText}\n            ></cds-custom-table-toolbar-search>` : \"\"}\n        <cds-custom-button @click=${handleDownload}\n          >${unsafeSVG(Download16svg)}</cds-custom-button\n        >\n      </cds-custom-table-toolbar-content>\n    </cds-custom-table-toolbar>`;\n  }\n  function headersElement() {\n    return html`<cds-custom-table-head>\n      <cds-custom-table-header-row>\n        ${headers.map(header => html`<cds-custom-table-header-cell\n              >${header}</cds-custom-table-header-cell\n            >`)}\n      </cds-custom-table-header-row>\n    </cds-custom-table-head>`;\n  }\n  function rowsElement() {\n    return html`<cds-custom-table-body>\n      ${repeat(tableRowsWithIDs, row => row.id, row => html`<cds-custom-table-row id=${row.id}\n            >${row.cells.map(cell => html`<cds-custom-table-cell>${cell}</cds-custom-table-cell>`)}</cds-custom-table-row\n          >`)}\n    </cds-custom-table-body>`;\n  }\n  return html`<cds-custom-table\n    style=\"--cds-chat-table-width:${containerWidth}px\"\n    size=\"md\"\n    locale=${locale}\n    .isSortable=${allowTableFiltering}\n    .useZebraStyles=${true}\n    @cds-custom-table-filtered=${handleFilterEvent}\n  >\n    ${tableTitle && html`<cds-custom-table-header-title slot=\"title\"\n      >${tableTitle}</cds-custom-table-header-title\n    >`}\n    ${tableDescription && html`<cds-custom-table-header-description slot=\"description\"\n      >${tableDescription}</cds-custom-table-header-description\n    >`}\n    ${toolbarElement()} ${headersElement()} ${rowsElement()}\n  </cds-custom-table>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const POSSIBLE_PAGE_SIZES = [ 5, 10, 15, 20, 50 ];\n\nfunction tablePaginationTemplate(props) {\n  const {_currentPageSize: currentPageSize, _currentPageNumber: currentPageNumber, _filterVisibleRowIDs: filterVisibleRowIDs, rows: rows, previousPageText: previousPageText, nextPageText: nextPageText, itemsPerPageText: itemsPerPageText, getPaginationSupplementalText: getPaginationSupplementalText, getPaginationStatusText: getPaginationStatusText, _handlePageChangeEvent: handlePageChangeEvent, _handlePageSizeChangeEvent: handlePageSizeChangeEvent} = props;\n  const totalVisibleRows = filterVisibleRowIDs.size;\n  const totalRows = rows.length;\n  const supportedPageSizes = POSSIBLE_PAGE_SIZES.filter(pageSize => pageSize < totalRows);\n  return html`<cds-custom-pagination\n    page-size=${currentPageSize}\n    page=${currentPageNumber}\n    total-items=${totalVisibleRows}\n    totalPages=${Math.ceil(totalVisibleRows / currentPageSize)}\n    backward-text=${previousPageText}\n    forward-text=${nextPageText}\n    items-per-page-text=${itemsPerPageText}\n    .formatSupplementalText=${getPaginationSupplementalText}\n    .formatStatusWithDeterminateTotal=${getPaginationStatusText}\n    @cds-custom-pagination-changed-current=${handlePageChangeEvent}\n    @cds-custom-page-sizes-select-changed=${handlePageSizeChangeEvent}\n  >\n    ${supportedPageSizes.map(pageSize => html`<cds-custom-select-item value=\"${pageSize}\"\n          >${pageSize}</cds-custom-select-item\n        >`)}\n    <cds-custom-select-item value=\"${totalRows}\"\n      >${totalRows}</cds-custom-select-item\n    >\n  </cds-custom-pagination>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function tableSkeletonTemplate() {\n  return html`<cds-custom-table-skeleton row-count=\"3\" column-count=\"2\">\n  </cds-custom-table-skeleton>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const DEFAULT_TABLE_PAGE_SIZE = 5;\n\nconst DEFAULT_TABLE_PAGE_SIZE_TALL_CHAT = 10;\n\nconst TALL_CHAT_HEIGHT = 850;\n\nconst TABLE_COMPONENT_TAG_NAME = \"cds-aichat-table\";\n\nlet TableElement = class TableElement extends LitElement {\n  constructor() {\n    super(...arguments);\n    this._isValid = true;\n    this._currentPageNumber = 1;\n    this._rowsPerPageChanged = false;\n    this._rowsWithIDs = [];\n  }\n  updated(changedProperties) {\n    if ((changedProperties.has(\"headers\") || changedProperties.has(\"rows\")) && this.headers !== undefined && this.rows !== undefined) {\n      this._calcIsTableValid();\n    }\n    if (changedProperties.has(\"rows\") && this.rows !== undefined) {\n      this._initializeRowsArrays();\n    }\n    if (this._currentPageSize === undefined && changedProperties.has(\"chatHeight\") && this.chatHeight !== changedProperties.get(\"chatHeight\")) {\n      this._initializePageSize();\n    }\n  }\n  _calcIsTableValid() {\n    const columnCount = this.headers.length;\n    this._isValid = !this.rows.some(row => row.cells.length !== columnCount);\n  }\n  _initializeRowsArrays() {\n    this._rowsWithIDs = [];\n    this._filterVisibleRowIDs = new Set;\n    this.rows.forEach((row, index) => {\n      const id = index.toString();\n      this._rowsWithIDs.push({\n        ...row,\n        id: id\n      });\n      this._filterVisibleRowIDs.add(id);\n    });\n  }\n  _initializePageSize() {\n    if (this.chatHeight > TALL_CHAT_HEIGHT) {\n      this._currentPageSize = DEFAULT_TABLE_PAGE_SIZE_TALL_CHAT;\n    } else {\n      this._currentPageSize = DEFAULT_TABLE_PAGE_SIZE;\n    }\n    this._allowFiltering = this.rows.length > this._currentPageSize;\n    this._updateVisibleRows();\n  }\n  _handlePageChangeEvent(event) {\n    this._updateVisibleRows(event.detail?.page, event.detail?.pageSize);\n    event.stopPropagation();\n  }\n  _handlePageSizeChangeEvent(event) {\n    this._rowsPerPageChanged = true;\n    this._currentPageSize = event.detail?.pageSize;\n    this._updateVisibleRows();\n    event.stopPropagation();\n  }\n  _handleFilterEvent(event) {\n    this._filterVisibleRowIDs = new Set(event?.detail?.unfilteredRows.map(row => row.id));\n    this._currentPageNumber = 1;\n    this._updateVisibleRows();\n    event.stopPropagation();\n  }\n  _updateVisibleRows(page = this._currentPageNumber, pageSize = this._currentPageSize) {\n    this._currentPageNumber = page;\n    const rows = Array.from(this.renderRoot.querySelectorAll(\"cds-custom-table-row\"));\n    rows.forEach(row => row.style.setProperty(\"display\", \"none\"));\n    const filterVisibleRows = rows.filter(row => this._filterVisibleRowIDs.has(row.id));\n    const pageStart = (page - 1) * pageSize;\n    const pageEnd = page * pageSize - 1;\n    for (let index = pageStart; index <= pageEnd; index++) {\n      filterVisibleRows[index]?.removeAttribute(\"style\");\n    }\n  }\n  _handleDownload() {\n    const tableArray = [ this.headers, ...this.rows.map(row => row.cells) ];\n    const stringifiedTable = stringify(tableArray);\n    const blob = new Blob([ stringifiedTable ], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const link = document.createElement(\"a\");\n    const url = URL.createObjectURL(blob);\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", \"table-data.csv\");\n    link.style.visibility = \"hidden\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n  render() {\n    if (this.loading) {\n      return tableSkeletonTemplate();\n    }\n    if (this.rows.length > this._currentPageSize || this._rowsPerPageChanged) {\n      return html`${tableTemplate(this)}\n      ${tablePaginationTemplate({\n        _currentPageSize: this._currentPageSize,\n        _currentPageNumber: this._currentPageNumber,\n        _filterVisibleRowIDs: this._filterVisibleRowIDs,\n        rows: this.rows,\n        previousPageText: this.previousPageText,\n        nextPageText: this.nextPageText,\n        itemsPerPageText: this.itemsPerPageText,\n        getPaginationSupplementalText: this.getPaginationSupplementalText,\n        getPaginationStatusText: this.getPaginationStatusText,\n        _handlePageChangeEvent: this._handlePageChangeEvent,\n        _handlePageSizeChangeEvent: this._handlePageSizeChangeEvent\n      })}`;\n    }\n    return html`${tableTemplate(this)}`;\n  }\n};\n\nTableElement.styles = css`\n    ${unsafeCSS(css_248z$1)}\n  `;\n\n__decorate([ property({\n  type: String,\n  attribute: \"table-title\"\n}) ], TableElement.prototype, \"tableTitle\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"table-description\"\n}) ], TableElement.prototype, \"tableDescription\", void 0);\n\n__decorate([ property({\n  type: Array\n}) ], TableElement.prototype, \"headers\", void 0);\n\n__decorate([ property({\n  type: Array\n}) ], TableElement.prototype, \"rows\", void 0);\n\n__decorate([ property({\n  type: Number,\n  attribute: \"container-width\"\n}) ], TableElement.prototype, \"containerWidth\", void 0);\n\n__decorate([ property({\n  type: Number,\n  attribute: \"chat-height\"\n}) ], TableElement.prototype, \"chatHeight\", void 0);\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"loading\"\n}) ], TableElement.prototype, \"loading\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"filter-placeholder-text\"\n}) ], TableElement.prototype, \"filterPlaceholderText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"previous-page-text\"\n}) ], TableElement.prototype, \"previousPageText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"next-page-text\"\n}) ], TableElement.prototype, \"nextPageText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"items-per-page-text\"\n}) ], TableElement.prototype, \"itemsPerPageText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"locale\"\n}) ], TableElement.prototype, \"locale\", void 0);\n\n__decorate([ property({\n  type: Function,\n  attribute: false\n}) ], TableElement.prototype, \"getPaginationSupplementalText\", void 0);\n\n__decorate([ property({\n  type: Function,\n  attribute: false\n}) ], TableElement.prototype, \"getPaginationStatusText\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_isValid\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_currentPageNumber\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_currentPageSize\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_rowsPerPageChanged\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_filterVisibleRowIDs\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_rowsWithIDs\", void 0);\n\n__decorate([ state() ], TableElement.prototype, \"_allowFiltering\", void 0);\n\n__decorate([ bind ], TableElement.prototype, \"_handlePageChangeEvent\", null);\n\n__decorate([ bind ], TableElement.prototype, \"_handlePageSizeChangeEvent\", null);\n\n__decorate([ bind ], TableElement.prototype, \"_handleFilterEvent\", null);\n\nTableElement = __decorate([ carbonElement(TABLE_COMPONENT_TAG_NAME) ], TableElement);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Table = createComponent({\n  tagName: TABLE_COMPONENT_TAG_NAME,\n  elementClass: TableElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function TableContainer(props) {\n  const {tableItem: tableItem} = props;\n  const {title: title, description: description, headers: headers, rows: rows} = tableItem;\n  const carbonTheme = useSelector(state => state.theme.carbonTheme);\n  const chatHeight = useSelector(state => state.chatHeight);\n  const locale = useSelector(state => state.locale);\n  const languagePack = useLanguagePack();\n  const intl = useIntl();\n  const tableContainerRef = useRef(null);\n  const [tableContainerWidth, setTableContainerWidth] = useState();\n  function onResize() {\n    setTableContainerWidth(tableContainerRef.current?.clientWidth);\n  }\n  useLayoutEffect(() => {\n    const tableResizeObserver = new ResizeObserver(onResize);\n    tableResizeObserver.observe(tableContainerRef.current);\n  });\n  const isValidTable = useMemo(() => {\n    const columnCount = headers.length;\n    const isValid = !rows.some(row => row.cells.length !== columnCount);\n    if (!isValid) {\n      consoleError(`Number of cells in the table header does not match the number of cells in one or more of the table rows. In order to render a table there needs to be the same number of columns in the table header and all of the table rows.`);\n    }\n    return isValid;\n  }, [ rows, headers ]);\n  function getTablePaginationSupplementalText({count: count}) {\n    return intl.formatMessage({\n      id: \"table_paginationSupplementalText\"\n    }, {\n      pagesCount: count\n    });\n  }\n  function getTablePaginationStatusText({start: start, end: end, count: count}) {\n    return intl.formatMessage({\n      id: \"table_paginationStatus\"\n    }, {\n      start: start,\n      end: end,\n      count: count\n    });\n  }\n  if (isValidTable) {\n    return React.createElement(Theme, {\n      theme: LIGHT_THEMES.includes(carbonTheme) ? \"white\" : \"g90\"\n    }, React.createElement(\"div\", {\n      className: \"WACTableContainer\",\n      ref: tableContainerRef\n    }, React.createElement(Table, {\n      tableTitle: title,\n      tableDescription: description,\n      headers: headers,\n      rows: rows,\n      containerWidth: tableContainerWidth,\n      chatHeight: chatHeight,\n      filterPlaceholderText: languagePack.table_filterPlaceholder,\n      previousPageText: languagePack.table_previousPage,\n      nextPageText: languagePack.table_nextPage,\n      itemsPerPageText: languagePack.table_itemsPerPage,\n      getPaginationSupplementalText: getTablePaginationSupplementalText,\n      getPaginationStatusText: getTablePaginationStatusText,\n      locale: locale\n    })));\n  }\n  return React.createElement(InlineError, null);\n}\n\nconst TableContainerExport = React.memo(TableContainer);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function TourCard({message: message, serviceManager: serviceManager}) {\n  const {tour_resumeButton: tour_resumeButton, tour_restartButton: tour_restartButton, tour_startButton: tour_startButton} = useLanguagePack();\n  const {activeTourID: activeTourID} = useSelector(state => state.persistedToBrowserStorage.chatState.persistedTourState);\n  const isCurrentTour = message.fullMessageID === activeTourID;\n  const tourTitle = message.item.user_defined?.card_title || \"Guided journey\";\n  const tourDescription = message.item.user_defined?.card_description || \"Follow along as the assistant guides you to where you want to be.\";\n  async function onResumeClick() {\n    await serviceManager.actions.changeView(ViewType.TOUR, {\n      mainWindowCloseReason: MainWindowCloseReason.TOUR_CARD_RESUMED_TOUR\n    });\n  }\n  async function onRestartClick() {\n    const newViewState = await serviceManager.actions.changeView(ViewType.TOUR, {\n      mainWindowCloseReason: MainWindowCloseReason.TOUR_CARD_RESTARTED_TOUR\n    });\n    if (newViewState.tour) {\n      serviceManager.actions.changeStepInTour({\n        newStepIndex: 0\n      });\n    }\n  }\n  return React.createElement(Tile, {\n    className: \"WACTourCard\"\n  }, React.createElement(\"div\", {\n    className: \"WACTourCard__Title\"\n  }, tourTitle), React.createElement(\"div\", {\n    className: \"WACTourCard__Description\"\n  }, tourDescription), isCurrentTour && React.createElement(\"div\", null, React.createElement(Button$1, {\n    className: \"WACTourCard__ResumeButton\",\n    renderIcon: ArrowRight,\n    onClick: onResumeClick\n  }, tour_resumeButton), React.createElement(Button$1, {\n    className: \"WACTourCard__RestartButton\",\n    kind: \"ghost\",\n    renderIcon: Restart,\n    onClick: onRestartClick\n  }, tour_restartButton)), !isCurrentTour && React.createElement(Button$1, {\n    className: \"WACTourCard__StartButton\",\n    renderIcon: ArrowRight,\n    onClick: () => serviceManager.actions.startTour(message, TourStartReason.START_TOUR_CLICKED, {\n      mainWindowCloseReason: MainWindowCloseReason.TOUR_CARD_STARTED_TOUR\n    })\n  }, tour_startButton));\n}\n\nconst TourCardExport = React.memo(TourCard);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function StreamingRichText(props) {\n  const {text: text, streamingState: streamingState, removeHTML: removeHTML, isStreamingError: isStreamingError, doAutoScroll: doAutoScroll} = props;\n  const languagePack = useLanguagePack();\n  useCallbackOnChange(streamingState?.chunks, doAutoScroll);\n  let textToUse;\n  if (streamingState && !streamingState.isDone) {\n    textToUse = streamingState.chunks.map(chunk => chunk.text).join(\"\");\n  } else {\n    textToUse = text;\n  }\n  return React.createElement(\"div\", {\n    className: \"WACStreamingRichText\"\n  }, React.createElement(RichTextExport, {\n    text: textToUse,\n    shouldRemoveHTMLBeforeMarkdownConversion: removeHTML\n  }), isStreamingError && React.createElement(InlineError, {\n    text: languagePack.conversationalSearch_streamingIncomplete\n  }));\n}\n\nvar css_248z = \":host{\\n  display:block;\\n  margin-block-start:1rem;\\n}\\n\\n:host([open]) .cds--aichat-chain-of-thought-content{\\n  display:block;\\n  overflow:visible;\\n  max-block-size:-moz-fit-content;\\n  max-block-size:fit-content;\\n  opacity:1;\\n}\\n:host([open]) .cds--aichat-chain-of-thought-button-chevron svg{\\n  transform:rotate(-90deg);\\n}\\n\\n.cds--aichat-chain-of-thought-button-chevron{\\n  display:flex;\\n  flex-basis:1.5rem;\\n}\\n@media screen and (prefers-reduced-motion: reduce){\\n  .cds--aichat-chain-of-thought-button-chevron svg{\\n    transform:rotate(-270deg);\\n    transition:none;\\n  }\\n}\\n.cds--aichat-chain-of-thought-button-chevron svg{\\n  transform:rotate(-270deg);\\n  transition:all 110ms cubic-bezier(0.2, 0, 0.38, 0.9);\\n}\\n\\n.cds--aichat-chain-of-thought-content{\\n  display:none;\\n  overflow:hidden;\\n  max-block-size:0;\\n  opacity:0;\\n  transition:all 110ms cubic-bezier(0, 0, 0.38, 0.9) allow-discrete;\\n}\\n\\n.cds--aichat-chain-of-thought-inner-content{\\n  border:1px solid var(--cds-border-subtle-01, #c6c6c6);\\n  background-color:var(--cds-layer-01, #f4f4f4);\\n  margin-block-start:0.5rem;\\n}\\n\\n.cds--aichat-chain-of-thought-item:not(:last-child){\\n  padding-block-end:0.75rem;\\n}\\n\\n.cds--aichat-chain-of-thought-item cds-aichat-markdown-text:not(:first-child){\\n  padding-block-start:0.5rem;\\n}\\n\\n.cds--aichat-chain-of-thought-item-label{\\n  font-size:var(--cds-heading-01-font-size, 0.875rem);\\n  font-weight:var(--cds-heading-01-font-weight, 600);\\n  line-height:var(--cds-heading-01-line-height, 1.42857);\\n  letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px);\\n}\\n\\nbutton.cds--aichat-chain-of-thought-button{\\n  box-sizing:border-box;\\n  padding:0;\\n  border:0;\\n  margin:0;\\n  font-family:inherit;\\n  font-size:100%;\\n  vertical-align:baseline;\\n  display:inline-block;\\n  padding:0;\\n  border:0;\\n  -webkit-appearance:none;\\n     -moz-appearance:none;\\n          appearance:none;\\n  background:none;\\n  cursor:pointer;\\n  text-align:start;\\n  inline-size:100%;\\n  font-size:var(--cds-heading-01-font-size, 0.875rem);\\n  font-weight:var(--cds-heading-01-font-weight, 600);\\n  line-height:var(--cds-heading-01-line-height, 1.42857);\\n  letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px);\\n  display:flex;\\n  align-items:center;\\n  color:var(--cds-text-primary, #161616);\\n}\\nbutton.cds--aichat-chain-of-thought-button *,\\nbutton.cds--aichat-chain-of-thought-button *::before,\\nbutton.cds--aichat-chain-of-thought-button *::after{\\n  box-sizing:inherit;\\n}\\nbutton.cds--aichat-chain-of-thought-button::-moz-focus-inner{\\n  border:0;\\n}\\n\\nbutton.cds--aichat-chain-of-thought-button:focus,\\nbutton.cds--aichat-chain-of-thought-button:focus-visible{\\n  outline:2px solid var(--cds-focus);\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-content{\\n  display:block;\\n  overflow:visible;\\n  background:var(--cds-layer-01, #f4f4f4);\\n  color:var(--cds-text-primary, #161616);\\n  max-block-size:-moz-fit-content;\\n  max-block-size:fit-content;\\n  opacity:1;\\n  transition:all 110ms cubic-bezier(0, 0, 0.38, 0.9) allow-discrete;\\n}\\n\\n.cds--aichat-chain-of-thought-item{\\n  padding-block:1rem;\\n  padding-inline:2rem 1rem;\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-content[hidden]{\\n  display:none;\\n  overflow:hidden;\\n  max-block-size:0;\\n  opacity:0;\\n  padding-block:0;\\n  padding-inline:0;\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-header-chevron{\\n  display:flex;\\n  flex:0 1 2rem;\\n  justify-content:center;\\n  color:var(--cds-text-primary, #161616);\\n}\\n@media screen and (prefers-reduced-motion: reduce){\\n  .cds--aichat-chain-of-thought-accordion-item-header-chevron svg{\\n    fill:var(--cds-text-primary, #161616);\\n    transform:rotate(-270deg);\\n    transition:none;\\n  }\\n}\\n.cds--aichat-chain-of-thought-accordion-item-header-chevron svg{\\n  fill:var(--cds-text-primary, #161616);\\n  transform:rotate(-270deg);\\n  transition:all 110ms cubic-bezier(0.2, 0, 0.38, 0.9);\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-header-chevron[data-open] svg{\\n  transform:rotate(-90deg);\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header{\\n  box-sizing:border-box;\\n  padding:0;\\n  border:0;\\n  margin:0;\\n  font-family:inherit;\\n  font-size:100%;\\n  vertical-align:baseline;\\n  display:inline-block;\\n  padding:0;\\n  border:0;\\n  -webkit-appearance:none;\\n     -moz-appearance:none;\\n          appearance:none;\\n  background:none;\\n  cursor:pointer;\\n  text-align:start;\\n  inline-size:100%;\\n  font-size:var(--cds-body-01-font-size, 0.875rem);\\n  font-weight:var(--cds-body-01-font-weight, 400);\\n  line-height:var(--cds-body-01-line-height, 1.42857);\\n  letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);\\n  display:flex;\\n  align-items:center;\\n  padding:0.5rem 0;\\n  background:var(--cds-layer-accent-02, #e0e0e0);\\n  block-size:2rem;\\n}\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header *,\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header *::before,\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header *::after{\\n  box-sizing:inherit;\\n}\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header::-moz-focus-inner{\\n  border:0;\\n}\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header:focus,\\n.cds--aichat-chain-of-thought-accordion-item button.cds--aichat-chain-of-thought-accordion-item-header:focus-visible{\\n  position:relative;\\n  z-index:2;\\n  box-shadow:0 -1px 0 0 var(--cds-focus, #0f62fe), inset 0 1px 0 0 var(--cds-focus, #0f62fe), inset 2px 0 0 0 var(--cds-focus, #0f62fe), 0 1px 0 0 var(--cds-focus, #0f62fe), inset 0 -1px 0 0 var(--cds-focus, #0f62fe), inset -2px 0 0 0 var(--cds-focus, #0f62fe);\\n  outline:none;\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item:nth-child(odd) button.cds--aichat-chain-of-thought-accordion-item-header{\\n  background:var(--cds-layer-02, #ffffff);\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-header-title{\\n  overflow:hidden;\\n  flex:1 1;\\n  color:var(--cds-text-primary, #161616);\\n  margin-inline-end:0.5rem;\\n  text-overflow:ellipsis;\\n  white-space:nowrap;\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-header-status{\\n  display:flex;\\n  flex:0 0 1.5rem;\\n  align-items:center;\\n  justify-content:center;\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-header-status--failure{\\n  display:flex;\\n  align-items:center;\\n  justify-content:center;\\n  margin-inline-end:0.5rem;\\n}\\n.cds--aichat-chain-of-thought-accordion-item-header-status--failure svg{\\n  fill:var(--cds-support-error, #da1e28);\\n}\\n\\n.cds--aichat-chain-of-thought-accordion-item-header-status--success{\\n  display:flex;\\n  align-items:center;\\n  justify-content:center;\\n  margin-inline-end:0.5rem;\\n}\\n.cds--aichat-chain-of-thought-accordion-item-header-status--success svg{\\n  fill:var(--cds-support-success, #24a148);\\n}\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const stepTitleFormatter = createEnglishFormat(\"chainOfThought_stepTitle\");\n\nclass ChainOfThoughtElement extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.open = false;\n    this.formatStepLabelText = ({stepNumber: stepNumber, stepTitle: stepTitle}) => stepTitleFormatter.format({\n      stepNumber: stepNumber,\n      stepTitle: stepTitle || \"\"\n    });\n    this.inputLabelText = enLanguagePack.chainOfThought_inputLabel;\n    this.outputLabelText = enLanguagePack.chainOfThought_outputLabel;\n    this.toolLabelText = enLanguagePack.chainOfThought_toolLabel;\n    this.explainabilityText = enLanguagePack.chainOfThought_explainabilityLabel;\n    this.statusSucceededLabelText = enLanguagePack.chainOfThought_statusSucceededLabel;\n    this.statusFailedLabelText = enLanguagePack.chainOfThought_statusFailedLabel;\n    this.statusProcessingLabelText = enLanguagePack.chainOfThought_statusProcessingLabel;\n    this._chainOfThoughtPanelID = `${CSS_CLASS_PREFIX}-chain-of-thought-panel-id-${uuid()}`;\n  }\n  firstUpdated(_changedProperties) {\n    this._steps = this.steps.map(item => ({\n      ...item,\n      open: false\n    }));\n  }\n}\n\nChainOfThoughtElement.styles = css`\n    ${unsafeCSS(css_248z)}\n  `;\n\n__decorate([ property({\n  type: Boolean,\n  attribute: \"open\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"open\", void 0);\n\n__decorate([ property({\n  type: Array,\n  attribute: \"steps\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"steps\", void 0);\n\n__decorate([ property({\n  type: Function,\n  attribute: false\n}) ], ChainOfThoughtElement.prototype, \"formatStepLabelText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"input-label-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"inputLabelText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"output-label-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"outputLabelText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"tool-label-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"toolLabelText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"explainability-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"explainabilityText\", void 0);\n\n__decorate([ property({\n  type: Function,\n  attribute: false\n}) ], ChainOfThoughtElement.prototype, \"onToggle\", void 0);\n\n__decorate([ property({\n  type: Function,\n  attribute: false\n}) ], ChainOfThoughtElement.prototype, \"onStepToggle\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"status-succeeded-label-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"statusSucceededLabelText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"status-failed-label-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"statusFailedLabelText\", void 0);\n\n__decorate([ property({\n  type: String,\n  attribute: \"status-processing-label-text\",\n  reflect: true\n}) ], ChainOfThoughtElement.prototype, \"statusProcessingLabelText\", void 0);\n\n__decorate([ state() ], ChainOfThoughtElement.prototype, \"_steps\", void 0);\n\n__decorate([ state() ], ChainOfThoughtElement.prototype, \"_chainOfThoughtPanelID\", void 0);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const CSS_CLASS_ITEM_PREFIX = `${CSS_CLASS_PREFIX}-chain-of-thought-item`;\n\nconst CSS_CLASS_STATUS_PREFIX = `${CSS_CLASS_PREFIX}-chain-of-thought-accordion-item-header-status`;\n\nconst ChevronRight16svg = toString(ChevronRight16);\n\nconst CheckmarkFilled16svg = toString(CheckmarkFilled16);\n\nconst ErrorFilled16svg = toString(ErrorFilled16);\n\nfunction stepStatus(status, statusSucceededLabelText, statusFailedLabelText, statusProcessingLabelText) {\n  switch (status) {\n   case ChainOfThoughtStepStatus.PROCESSING:\n    return html`<cds-custom-inline-loading\n        status=\"active\"\n        aria-label=\"${statusProcessingLabelText}\"\n      ></cds-custom-inline-loading>`;\n\n   case ChainOfThoughtStepStatus.FAILURE:\n    return html`<span\n        class=\"${CSS_CLASS_STATUS_PREFIX}--${ChainOfThoughtStepStatus.FAILURE}\"\n        aria-label=\"${statusFailedLabelText}\"\n        >${unsafeSVG(ErrorFilled16svg)}</span\n      >`;\n\n   default:\n    return html`<span\n        class=\"${CSS_CLASS_STATUS_PREFIX}--${ChainOfThoughtStepStatus.SUCCESS}\"\n        aria-label=\"${statusSucceededLabelText}\"\n        >${unsafeSVG(CheckmarkFilled16svg)}</span\n      >`;\n  }\n}\n\nfunction renderToolData(data, label, classPostfix) {\n  const content = parseUnknownDataToMarkdown(data);\n  if (content) {\n    return renderToolDataAsMarkdown(content, label, classPostfix);\n  }\n  return html``;\n}\n\nfunction renderToolDataAsMarkdown(content, label, classPostfix) {\n  return html`<div\n    class=\"${CSS_CLASS_ITEM_PREFIX} ${CSS_CLASS_ITEM_PREFIX}-${classPostfix}\"\n  >\n    <div class=\"${CSS_CLASS_ITEM_PREFIX}-label\">${label}</div>\n    <cds-aichat-markdown-text\n      sanitize-html\n      markdown=${content}\n    ></cds-aichat-markdown-text>\n  </div>`;\n}\n\nfunction accordionItemContent(customElementClass, item) {\n  const {inputLabelText: inputLabelText, outputLabelText: outputLabelText, toolLabelText: toolLabelText} = customElementClass;\n  if (item.open) {\n    return html` ${item.description ? html`<div\n          class=\"${CSS_CLASS_ITEM_PREFIX} ${CSS_CLASS_ITEM_PREFIX}-description\"\n        >\n          <cds-aichat-markdown-text\n            sanitize-html\n            markdown=${item.description}\n          ></cds-aichat-markdown-text>\n        </div>` : null}\n    ${item.tool_name ? html`<div\n          class=\"${CSS_CLASS_ITEM_PREFIX} ${CSS_CLASS_ITEM_PREFIX}-toolName\"\n        >\n          <div class=\"${CSS_CLASS_ITEM_PREFIX}-label\">${toolLabelText}</div>\n          ${item.tool_name}\n        </div>` : null}\n    ${renderToolData(item.request?.args, inputLabelText, \"input\")}\n    ${renderToolData(item.response?.content, outputLabelText, \"output\")}`;\n  }\n  return html``;\n}\n\nfunction accordionContent(customElementClass) {\n  const {_steps: _steps, open: open, _chainOfThoughtPanelID: _chainOfThoughtPanelID, onStepToggle: onStepToggle, formatStepLabelText: formatStepLabelText, statusSucceededLabelText: statusSucceededLabelText, statusFailedLabelText: statusFailedLabelText, statusProcessingLabelText: statusProcessingLabelText} = customElementClass;\n  if (open) {\n    return html`${_steps.map((item, index) => {\n      const stepNumber = index + 1;\n      const content_id = `${_chainOfThoughtPanelID}-step-${stepNumber}-content`;\n      return html`<div\n        class=\"${CSS_CLASS_PREFIX}-chain-of-thought-accordion-item\"\n      >\n        <button\n          class=\"${CSS_CLASS_PREFIX}-chain-of-thought-accordion-item-header\"\n          @click=${() => {\n        item.open = !item.open;\n        customElementClass.requestUpdate();\n        const element = customElementClass.shadowRoot.querySelector(`#${content_id}`);\n        onStepToggle?.(item.open, element);\n      }}\n          aria-expanded=${item.open}\n          aria-controls=${content_id}\n        >\n          <span\n            class=\"${CSS_CLASS_PREFIX}-chain-of-thought-accordion-item-header-chevron\"\n            ?data-open=${item.open}\n            >${unsafeSVG(ChevronRight16svg)}</span\n          >\n          <span\n            class=\"${CSS_CLASS_PREFIX}-chain-of-thought-accordion-item-header-title\"\n            >${formatStepLabelText({\n        stepNumber: stepNumber,\n        stepTitle: item.title\n      })}</span\n          >\n          <span class=\"${CSS_CLASS_STATUS_PREFIX}\"\n            >${stepStatus(item.status, statusSucceededLabelText, statusFailedLabelText, statusProcessingLabelText)}</span\n          >\n        </button>\n        <div\n          class=\"${CSS_CLASS_PREFIX}-chain-of-thought-accordion-item-content\"\n          id=${content_id}\n          ?hidden=${!item.open}\n        >\n          ${accordionItemContent(customElementClass, item)}\n        </div>\n      </div>`;\n    })}`;\n  }\n  return html``;\n}\n\nfunction chainOfThoughtElementTemplate(customElementClass) {\n  const {_chainOfThoughtPanelID: _chainOfThoughtPanelID, explainabilityText: explainabilityText, open: open} = customElementClass;\n  function toggle() {\n    customElementClass.open = !customElementClass.open;\n    customElementClass.onToggle?.(customElementClass.open, customElementClass);\n  }\n  return html`<div class=\"${CSS_CLASS_PREFIX}-chain-of-thought\">\n    <button\n      class=\"${CSS_CLASS_PREFIX}-chain-of-thought-button\"\n      @click=${toggle}\n      aria-expanded=${open}\n      aria-controls=${_chainOfThoughtPanelID}\n    >\n      <span class=\"${CSS_CLASS_PREFIX}-chain-of-thought-button-chevron\"\n        >${unsafeSVG(ChevronRight16svg)}</span\n      >\n      ${explainabilityText}\n    </button>\n    <div\n      id=${_chainOfThoughtPanelID}\n      class=\"${CSS_CLASS_PREFIX}-chain-of-thought-content\"\n      ?hidden=${!open}\n    >\n      <div class=\"${CSS_CLASS_PREFIX}-chain-of-thought-inner-content\">\n        ${accordionContent(customElementClass)}\n      </div>\n    </div>\n  </div>`;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const CHAIN_OF_THOUGHT_COMPONENT_TAG_NAME = `cds-aichat-chain-of-thought`;\n\nlet CDSChatChainOfThoughtElement = class CDSChatChainOfThoughtElement extends ChainOfThoughtElement {\n  render() {\n    return chainOfThoughtElementTemplate(this);\n  }\n};\n\nCDSChatChainOfThoughtElement = __decorate([ carbonElement(CHAIN_OF_THOUGHT_COMPONENT_TAG_NAME) ], CDSChatChainOfThoughtElement);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const ChainOfThought = createComponent({\n  tagName: CHAIN_OF_THOUGHT_COMPONENT_TAG_NAME,\n  elementClass: CDSChatChainOfThoughtElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function MessageTypeComponent(props) {\n  const {allowNewFeedback: allowNewFeedback, hideFeedback: hideFeedback, serviceManager: serviceManager, originalMessage: originalMessage, message: message} = props;\n  const intl = useIntl();\n  const languagePack = useLanguagePack();\n  const feedbackDetailsRef = useRef();\n  const agentDisplayState = useSelector(selectAgentDisplayState, shallowEqual);\n  const agentState = useSelector(state => state.agentState);\n  const persistedAgentState = useSelector(state => state.persistedToBrowserStorage.chatState.agentState);\n  const feedbackID = message.item.message_options?.feedback?.id;\n  const feedbackPanelID = useUUID();\n  const feedbackHistory = originalMessage.history?.feedback?.[feedbackID];\n  const feedbackInitialValues = useMemo(() => {\n    if (!feedbackHistory) {\n      return null;\n    }\n    return {\n      text: feedbackHistory.text,\n      selectedCategories: feedbackHistory.categories\n    };\n  }, [ feedbackHistory ]);\n  const [isFeedbackOpen, setIsFeedbackOpen] = useState(false);\n  const [isPositiveFeedbackSelected, setIsPositiveFeedbackSelected] = useState(feedbackHistory && feedbackHistory.is_positive);\n  const [isNegativeFeedbackSelected, setIsNegativeFeedbackSelected] = useState(feedbackHistory && !feedbackHistory.is_positive);\n  const [isFeedbackSubmitted, setIsFeedbackSubmitted] = useState(Boolean(feedbackHistory));\n  function renderSpecificMessage(localMessageItem, message) {\n    if (isRequest(message)) {\n      return renderRequest(localMessageItem, message);\n    }\n    if (isResponse(message)) {\n      const response = renderResponse(localMessageItem, message);\n      const isResponseStopped = localMessageItem.item.streaming_metadata?.stream_stopped;\n      return React.createElement(React.Fragment, null, response, isResponseStopped && React.createElement(ResponseStopped, null), renderChainOfThought(localMessageItem), renderFeedback(localMessageItem, message));\n    }\n    return false;\n  }\n  function renderRequest(localMessageItem, originalMessage) {\n    const messageItem = localMessageItem.item;\n    if (isTextItem(messageItem)) {\n      const text = originalMessage.history?.label || messageItem.text;\n      const userText = localMessageItem.ui_state.originalUserText || text;\n      return React.createElement(\"div\", {\n        className: \"WAC__sent--text\"\n      }, originalMessage.input.message_type === InternalMessageRequestType.FILE && React.createElement(Attachment, {\n        className: \"WAC__sent-fileIcon\",\n        \"aria-label\": props.languagePack.fileSharing_fileIcon\n      }), React.createElement(\"span\", {\n        role: \"heading\",\n        \"aria-level\": 2\n      }, userText));\n    }\n    return null;\n  }\n  function renderResponse(localMessageItem, message) {\n    if (renderAsTour(localMessageItem.item)) {\n      return renderTour(localMessageItem);\n    }\n    if (renderAsUserDefinedMessage(localMessageItem.item)) {\n      return renderUserDefinedResponse(localMessageItem, message);\n    }\n    const responseType = localMessageItem.item.response_type;\n    const withHumanAgent = Boolean(localMessageItem.item.agent_message_type);\n    switch (responseType) {\n     case MessageResponseTypes.TEXT:\n      return renderText(localMessageItem, message, withHumanAgent);\n\n     case MessageResponseTypes.IMAGE:\n      return renderImage(localMessageItem);\n\n     case MessageResponseTypes.OPTION:\n      return renderOption(localMessageItem, message);\n\n     case MessageResponseTypes.CONNECT_TO_AGENT:\n      return renderConnectToAgent(localMessageItem, message);\n\n     case MessageResponseTypes.INLINE_ERROR:\n      return renderInlineError(localMessageItem);\n\n     case MessageResponseTypes.IFRAME:\n      return renderIFrameMessage(localMessageItem);\n\n     case MessageResponseTypes.VIDEO:\n      return renderVideoMessage(localMessageItem);\n\n     case MessageResponseTypes.AUDIO:\n      return renderAudioMessage(localMessageItem);\n\n     case MessageResponseTypes.DATE:\n      return renderDateMessage(localMessageItem);\n\n     case MessageResponseTypes.CONVERSATIONAL_SEARCH:\n      return renderConversationalSearchMessage(localMessageItem, message);\n\n     case MessageResponseTypes.TABLE:\n      return renderTable(localMessageItem);\n\n     case MessageResponseTypes.CARD:\n      return renderCard(localMessageItem, message);\n\n     case MessageResponseTypes.CAROUSEL:\n      return renderCarouselMessage(localMessageItem, message);\n\n     case MessageResponseTypes.BUTTON:\n      return renderButtonItem(localMessageItem, message);\n\n     case MessageResponseTypes.GRID:\n      return renderGrid(localMessageItem, message);\n\n     default:\n      return renderUserDefinedResponse(localMessageItem, message);\n    }\n  }\n  function renderText(message, originalMessage, removeHTML) {\n    if (props.isNestedMessageItem) {\n      return renderRichText(message, removeHTML, originalMessage);\n    }\n    return React.createElement(\"div\", {\n      className: \"WAC__received--textContent\"\n    }, renderRichText(message, removeHTML, originalMessage));\n  }\n  function renderRichText(localMessageItem, removeHTML, originalMessage) {\n    return React.createElement(StreamingRichText, {\n      text: localMessageItem.item.text,\n      streamingState: localMessageItem.ui_state.streamingState,\n      isStreamingError: originalMessage?.history?.is_streaming_error,\n      removeHTML: removeHTML,\n      doAutoScroll: props.doAutoScroll\n    });\n  }\n  function renderOption(message, originalMessage) {\n    const {languagePack: languagePack, requestInputFocus: requestInputFocus, serviceManager: serviceManager, disableUserInputs: disableUserInputs, isMessageForInput: isMessageForInput} = props;\n    const withHumanAgent = Boolean(message.item.agent_message_type);\n    return React.createElement(OptionComponent, {\n      localMessage: message,\n      originalMessage: originalMessage,\n      languagePack: languagePack,\n      disableUserInputs: disableUserInputs || !isMessageForInput,\n      requestInputFocus: requestInputFocus,\n      serviceManager: serviceManager,\n      shouldRemoveHTMLBeforeMarkdownConversion: withHumanAgent\n    });\n  }\n  function renderImage(message) {\n    const {languagePack: languagePack, serviceManager: serviceManager} = props;\n    const {useAITheme: useAITheme} = serviceManager.store.getState().theme;\n    return React.createElement(ImageExport, {\n      imageError: languagePack.errors_imageSource,\n      source: message.item.source,\n      title: message.item.title,\n      description: message.item.description,\n      altText: message.item.alt_text,\n      needsAnnouncement: message.ui_state.needsAnnouncement,\n      useAITheme: useAITheme\n    });\n  }\n  function renderInlineError(message) {\n    return React.createElement(InlineError, {\n      text: message.item.text\n    });\n  }\n  function renderIFrameMessage(message) {\n    const {doAutoScroll: doAutoScroll, isNestedMessageItem: isNestedMessageItem} = props;\n    const display = isNestedMessageItem ? IFrameItemDisplayOption.INLINE : undefined;\n    return React.createElement(IFrameMessage, {\n      localMessage: message,\n      doAutoScroll: doAutoScroll,\n      displayOverride: display\n    });\n  }\n  function renderVideoMessage(message) {\n    const {doAutoScroll: doAutoScroll} = props;\n    const {item: item} = message;\n    const {source: source, title: title, description: description, alt_text: alt_text} = item;\n    return React.createElement(VideoComponentExport, {\n      source: source,\n      title: title,\n      description: description,\n      baseHeight: getMediaDimensions(item)?.base_height,\n      ariaLabel: alt_text,\n      doAutoScroll: doAutoScroll,\n      needsAnnouncement: message.ui_state.needsAnnouncement\n    });\n  }\n  function renderAudioMessage(message) {\n    const {doAutoScroll: doAutoScroll} = props;\n    const {source: source, title: title, description: description, alt_text: alt_text} = message.item;\n    return React.createElement(AudioComponentExport, {\n      source: source,\n      title: title,\n      description: description,\n      ariaLabel: alt_text,\n      doAutoScroll: doAutoScroll,\n      needsAnnouncement: message.ui_state.needsAnnouncement\n    });\n  }\n  function renderDateMessage(message) {\n    return React.createElement(DatePickerComponentExport, {\n      localMessage: message,\n      disabled: !props.isMessageForInput,\n      scrollElementIntoView: props.scrollElementIntoView\n    });\n  }\n  function renderUserDefinedResponse(message, originalMessage) {\n    const {serviceManager: serviceManager} = props;\n    return React.createElement(UserDefinedResponse$1, {\n      streamingState: message.ui_state.streamingState,\n      isStreamingError: originalMessage?.history?.is_streaming_error,\n      doAutoScroll: props.doAutoScroll,\n      localMessageID: message.ui_state.id,\n      serviceManager: serviceManager\n    });\n  }\n  function renderTour(message) {\n    const {serviceManager: serviceManager} = props;\n    return React.createElement(TourCardExport, {\n      message: message,\n      serviceManager: serviceManager\n    });\n  }\n  function renderConnectToAgent(message, originalMessage) {\n    const {languagePack: languagePack, config: config, serviceManager: serviceManager, disableUserInputs: disableUserInputs, isMessageForInput: isMessageForInput} = props;\n    return React.createElement(ConnectToAgent, {\n      localMessage: message,\n      originalMessage: originalMessage,\n      languagePack: languagePack,\n      config: config,\n      serviceManager: serviceManager,\n      agentState: agentState,\n      agentDisplayState: agentDisplayState,\n      persistedAgentState: persistedAgentState,\n      disableUserInputs: disableUserInputs || !isMessageForInput,\n      requestFocus: props.requestInputFocus\n    });\n  }\n  function renderCard(message, originalMessage) {\n    const {isMessageForInput: isMessageForInput, requestInputFocus: requestInputFocus} = props;\n    return React.createElement(CardComponentExport, {\n      localMessageItem: message,\n      fullMessage: originalMessage,\n      isMessageForInput: isMessageForInput,\n      requestFocus: requestInputFocus,\n      renderMessageComponent: childProps => React.createElement(MessageTypeComponent, {\n        ...childProps\n      })\n    });\n  }\n  function renderConversationalSearchMessage(localMessageItem, fullMessage) {\n    const {scrollElementIntoView: scrollElementIntoView, doAutoScroll: doAutoScroll} = props;\n    return React.createElement(ConversationalSearch, {\n      localMessageItem: localMessageItem,\n      scrollElementIntoView: scrollElementIntoView,\n      isStreamingError: fullMessage.history?.is_streaming_error,\n      doAutoScroll: doAutoScroll\n    });\n  }\n  function renderButtonItem(message, originalMessage) {\n    const {isMessageForInput: isMessageForInput, requestInputFocus: requestInputFocus} = props;\n    return React.createElement(ButtonItemComponent, {\n      localMessageItem: message,\n      fullMessage: originalMessage,\n      isMessageForInput: isMessageForInput,\n      requestFocus: requestInputFocus\n    });\n  }\n  function renderCarouselMessage(message, originalMessage) {\n    const {isMessageForInput: isMessageForInput, requestInputFocus: requestInputFocus} = props;\n    return React.createElement(CarouselItemComponent, {\n      localMessageItem: message,\n      fullMessage: originalMessage,\n      isMessageForInput: isMessageForInput,\n      requestFocus: requestInputFocus,\n      renderMessageComponent: childProps => React.createElement(MessageTypeComponent, {\n        ...childProps\n      })\n    });\n  }\n  function renderGrid(message, originalMessage) {\n    return React.createElement(GridItemComponentExport, {\n      localMessageItem: message,\n      originalMessage: originalMessage,\n      renderMessageComponent: childProps => React.createElement(MessageTypeComponent, {\n        ...childProps\n      })\n    });\n  }\n  function renderTable(message) {\n    return React.createElement(TableContainerExport, {\n      tableItem: message.item\n    });\n  }\n  function scrollChainOfThought(open, element) {\n    if (open) {\n      setTimeout(() => {\n        props.scrollElementIntoView(element, 64, 64);\n      });\n    }\n  }\n  function formatStepLabelText({stepNumber: stepNumber, stepTitle: stepTitle}) {\n    return intl.formatMessage({\n      id: \"chainOfThought_stepTitle\"\n    }, {\n      stepNumber: stepNumber,\n      stepTitle: stepTitle\n    });\n  }\n  function renderChainOfThought(localMessageItem) {\n    const chainOfThought = localMessageItem.item.message_options?.chain_of_thought;\n    if (!chainOfThought || props.isNestedMessageItem) {\n      return false;\n    }\n    return React.createElement(ChainOfThought, {\n      steps: chainOfThought,\n      onToggle: scrollChainOfThought,\n      onStepToggle: scrollChainOfThought,\n      formatStepLabelText: formatStepLabelText,\n      explainabilityText: languagePack.chainOfThought_explainabilityLabel,\n      inputLabelText: languagePack.chainOfThought_inputLabel,\n      outputLabelText: languagePack.chainOfThought_outputLabel,\n      toolLabelText: languagePack.chainOfThought_toolLabel\n    });\n  }\n  function renderFeedback(localMessageItem, message) {\n    const feedbackOptions = localMessageItem.item.message_options?.feedback || {};\n    const {id: feedbackID, is_on: is_on, show_positive_details: show_positive_details = true, show_negative_details: show_negative_details = true, show_text_area: show_text_area = true, show_prompt: show_prompt = true, title: title, prompt: prompt, categories: categories, placeholder: placeholder, disclaimer: disclaimer} = feedbackOptions;\n    if (props.isNestedMessageItem || hideFeedback || !allowNewFeedback && !feedbackHistory || !is_on) {\n      return false;\n    }\n    function updateHistory(data) {\n      if (feedbackID) {\n        const history = {\n          feedback: {\n            [feedbackID]: data\n          }\n        };\n        serviceManager.store.dispatch(actions.mergeMessageHistory(localMessageItem.fullMessageID, history));\n      }\n    }\n    function onFeedbackClicked(isPositive) {\n      const toggleToSelected = isPositive ? !isPositiveFeedbackSelected : !isNegativeFeedbackSelected;\n      const openDetails = (isPositive ? show_positive_details : show_negative_details) && toggleToSelected;\n      if (toggleToSelected && !openDetails) {\n        updateHistory({\n          is_positive: isPositive\n        });\n        setIsFeedbackSubmitted(true);\n        serviceManager.fire({\n          type: BusEventType.FEEDBACK,\n          messageItem: localMessageItem.item,\n          message: message,\n          interactionType: FeedbackInteractionType.SUBMITTED,\n          isPositive: isPositive\n        });\n      } else {\n        setIsFeedbackOpen(openDetails);\n        if (openDetails) {\n          setTimeout(() => {\n            props.scrollElementIntoView(feedbackDetailsRef.current, 48, 56);\n          });\n        }\n        serviceManager.fire({\n          type: BusEventType.FEEDBACK,\n          messageItem: localMessageItem.item,\n          message: message,\n          interactionType: openDetails ? FeedbackInteractionType.DETAILS_OPENED : FeedbackInteractionType.DETAILS_CLOSED,\n          isPositive: isPositive\n        });\n      }\n      setIsPositiveFeedbackSelected(isPositive ? toggleToSelected : false);\n      setIsNegativeFeedbackSelected(isPositive ? false : toggleToSelected);\n    }\n    function onSubmit(isPositive, details) {\n      setIsFeedbackSubmitted(true);\n      setIsFeedbackOpen(false);\n      const event = {\n        type: BusEventType.FEEDBACK,\n        messageItem: localMessageItem.item,\n        message: message,\n        interactionType: FeedbackInteractionType.SUBMITTED,\n        isPositive: isPositive,\n        text: details.text,\n        categories: details.selectedCategories\n      };\n      serviceManager.fire(event);\n      updateHistory({\n        is_positive: event.isPositive,\n        text: event.text,\n        categories: event.categories\n      });\n    }\n    function renderFeedbackPopup(isPositive) {\n      const isOpen = isFeedbackOpen && (isPositive ? isPositiveFeedbackSelected : isNegativeFeedbackSelected);\n      return React.createElement(FeedbackComponent, {\n        class: `${CSS_CLASS_PREFIX}-feedbackDetails-${isPositive ? \"positive\" : \"negative\"}`,\n        id: `${feedbackPanelID}-feedback-${isPositive ? \"positive\" : \"negative\"}`,\n        isOpen: isOpen,\n        isReadonly: isFeedbackSubmitted,\n        onClose: () => onFeedbackClicked(isPositive),\n        onSubmit: details => onSubmit(isPositive, details),\n        initialValues: feedbackHistory && feedbackHistory?.is_positive === isPositive ? feedbackInitialValues : null,\n        showTextArea: show_text_area,\n        showPrompt: show_prompt,\n        title: title || languagePack.feedback_defaultTitle,\n        prompt: prompt || languagePack.feedback_defaultPrompt,\n        categories: categories,\n        placeholder: placeholder || languagePack.feedback_defaultPlaceholder,\n        disclaimer: disclaimer,\n        submitLabel: languagePack.feedback_submitLabel,\n        cancelLabel: languagePack.feedback_cancelLabel\n      });\n    }\n    return React.createElement(\"div\", {\n      className: \"WAC__received--feedback\"\n    }, React.createElement(FeedbackButtonsComponent, {\n      isPositiveOpen: isFeedbackOpen && isPositiveFeedbackSelected,\n      isNegativeOpen: isFeedbackOpen && isNegativeFeedbackSelected,\n      isPositiveSelected: isPositiveFeedbackSelected,\n      isNegativeSelected: isNegativeFeedbackSelected,\n      hasPositiveDetails: show_positive_details,\n      hasNegativeDetails: show_negative_details,\n      isPositiveDisabled: isNegativeFeedbackSelected || isFeedbackSubmitted,\n      isNegativeDisabled: isPositiveFeedbackSelected || isFeedbackSubmitted,\n      positiveLabel: languagePack.feedback_positiveLabel,\n      negativeLabel: languagePack.feedback_negativeLabel,\n      panelID: feedbackPanelID,\n      onClick: onFeedbackClicked\n    }), React.createElement(\"div\", {\n      ref: feedbackDetailsRef\n    }, renderFeedbackPopup(true), renderFeedbackPopup(false)));\n  }\n  return renderSpecificMessage(props.message, props.originalMessage);\n}\n\nexport { AvailabilityMessage as A, EndAgentChatModal as E, MessageTypeComponent as M, WindowSizeContext as W, AriaAnnouncerComponent as a, nodeToText as n };\n","import { createElement } from \"react\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function carbonIconToReact(icon) {\n  return function IconComponent(props = {}) {\n    return createElement(\"svg\", {\n      ...icon.attrs,\n      width: icon.attrs.width || 16,\n      height: icon.attrs.height || 16,\n      fill: icon.attrs.fill || \"currentColor\",\n      ...props\n    }, icon.content.map((child, i) => createElement(child.elem, {\n      key: i,\n      ...child.attrs\n    })));\n  };\n}\n\nexport { carbonIconToReact as c };\n","import { createComponent } from \"@lit/react\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\n\nimport \"@carbon/web-components/es-custom/components/loading/loading-icon.js\";\n\nimport CarbonLoadingElement from \"@carbon/web-components/es-custom/components/loading/loading.js\";\n\nimport { u as useAriaAnnouncer, I as InlineError, M as MountChildrenOnDelay } from \"./chat.MountChildrenOnDelay.js\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport { b as RESPONSE_TYPE_TIMEOUT_MS } from \"./chat.constants.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Loading = createComponent({\n  tagName: \"cds-custom-loading\",\n  elementClass: CarbonLoadingElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function IFrameComponent({title: title, source: source, onTimeoutOverride: onTimeoutOverride, onLoad: onLoad}) {\n  const {errors_iframeSource: errors_iframeSource, iframe_ariaSourceLoaded: iframe_ariaSourceLoaded} = useLanguagePack();\n  const ariaAnnouncer = useAriaAnnouncer();\n  const [showSpinner, setShowSpinner] = useState(true);\n  const [showError, setShowError] = useState(false);\n  const handleIFrameTimeout = useCallback(() => {\n    setShowSpinner(false);\n    setShowError(true);\n    ariaAnnouncer(errors_iframeSource);\n  }, [ ariaAnnouncer, errors_iframeSource ]);\n  const handleIFrameLoaded = useCallback(() => {\n    setShowSpinner(false);\n    ariaAnnouncer(iframe_ariaSourceLoaded);\n    onLoad?.();\n  }, [ ariaAnnouncer, iframe_ariaSourceLoaded, onLoad ]);\n  useEffect(() => {\n    let errorTimeout = null;\n    if (showSpinner) {\n      const timeoutHandler = onTimeoutOverride || handleIFrameTimeout;\n      errorTimeout = setTimeout(timeoutHandler, RESPONSE_TYPE_TIMEOUT_MS);\n    }\n    return () => {\n      clearTimeout(errorTimeout);\n    };\n  }, [ showSpinner, handleIFrameTimeout, onTimeoutOverride ]);\n  return React.createElement(\"div\", {\n    className: \"WACIFrameComponent__Wrapper\"\n  }, showError && renderErrorMessage(errors_iframeSource), !showError && React.createElement(\"iframe\", {\n    className: \"WACIFrameComponent__IFrame\",\n    title: title,\n    src: source,\n    sandbox: \"allow-scripts allow-downloads allow-forms allow-same-origin allow-popups\",\n    referrerPolicy: \"origin\",\n    onLoad: handleIFrameLoaded\n  }), showSpinner && renderLoadingSpinner());\n}\n\nfunction renderLoadingSpinner() {\n  return React.createElement(MountChildrenOnDelay, {\n    delay: 1500\n  }, React.createElement(\"div\", {\n    className: \"WACIFrameComponent__StatusContainer\"\n  }, React.createElement(Loading, {\n    active: true,\n    overlay: false\n  })));\n}\n\nfunction renderErrorMessage(errorText) {\n  return React.createElement(\"div\", {\n    className: \"WACIFrameComponent__StatusContainer\"\n  }, React.createElement(InlineError, {\n    text: errorText\n  }));\n}\n\nexport { IFrameComponent as I, Loading as L };\n","import { createComponent } from \"@lit/react\";\n\nimport React from \"react\";\n\nimport CarbonChatButtonElement from \"@carbon/web-components/es-custom/components/chat-button/chat-button.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const ChatButton = createComponent({\n  tagName: \"cds-custom-chat-button\",\n  elementClass: CarbonChatButtonElement,\n  react: React\n});\n\nexport { ChatButton as C };\n","import React from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport { u as useServiceManager } from \"./chat.usePrevious.js\";\n\nimport { a as selectInputState } from \"./chat.selectors.js\";\n\nimport { T as THROW_ERROR } from \"./chat.constants.js\";\n\nimport cx from \"classnames\";\n\nimport { b as MessageResponseTypes } from \"./chat.Messages.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function BodyMessageComponents(props) {\n  const {bodyLocalMessageItemIDs: bodyLocalMessageItemIDs} = props.message.ui_state;\n  const allMessageItemsByID = useSelector(state => state.allMessageItemsByID);\n  const messageComponents = bodyLocalMessageItemIDs?.map((nestedMessageID, index) => {\n    const nestedLocalMessage = allMessageItemsByID[nestedMessageID];\n    const isFullWidthMessage = isFullWidthResponseType(nestedLocalMessage.item.response_type);\n    const nextLocalMessageID = bodyLocalMessageItemIDs[index + 1];\n    const nextLocalMessage = allMessageItemsByID[nextLocalMessageID];\n    const isNextMessageFullWidth = isFullWidthResponseType(nextLocalMessage?.item.response_type);\n    const isLastElement = index === bodyLocalMessageItemIDs.length - 1;\n    const withShortBottomPadding = !isLastElement && !isFullWidthMessage && !isNextMessageFullWidth;\n    return React.createElement(\"div\", {\n      key: nestedMessageID,\n      className: cx(\"WACBodyMessageComponents__MessageWrapper\", {\n        \"WACBodyMessageComponents__MessageWrapper--fullWidth\": isFullWidthMessage,\n        \"WACBodyMessageComponents__MessageWrapper--shortBottomPadding\": withShortBottomPadding\n      })\n    }, props.renderMessageComponent({\n      ...props,\n      message: nestedLocalMessage,\n      isNestedMessageItem: true\n    }));\n  });\n  if (!messageComponents?.length) {\n    return null;\n  }\n  return React.createElement(\"div\", {\n    className: \"WACBodyMessageComponents\"\n  }, messageComponents);\n}\n\nfunction isFullWidthResponseType(responseType) {\n  switch (responseType) {\n   case MessageResponseTypes.IMAGE:\n   case MessageResponseTypes.IFRAME:\n   case MessageResponseTypes.VIDEO:\n   case MessageResponseTypes.AUDIO:\n   case MessageResponseTypes.USER_DEFINED:\n    return true;\n\n   default:\n    return false;\n  }\n}\n\nconst BodyMessageTypeComponentsExport = React.memo(BodyMessageComponents);\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function FooterButtonComponents(props) {\n  const allMessageItemsByID = useSelector(state => state.allMessageItemsByID);\n  const buttonComponents = props.message.ui_state.footerLocalMessageItemIDs?.map(nestedMessageID => {\n    const nestedLocalMessage = allMessageItemsByID[nestedMessageID];\n    return React.createElement(React.Fragment, {\n      key: nestedMessageID\n    }, props.renderMessageComponent({\n      ...props,\n      message: nestedLocalMessage,\n      isNestedMessageItem: true\n    }));\n  });\n  const totalButtons = buttonComponents?.length ?? 0;\n  const isColumnList = totalButtons > 2;\n  return totalButtons ? React.createElement(\"div\", {\n    className: cx(\"WACFooterButtonComponents\", {\n      \"WACFooterButtonComponents--column\": isColumnList\n    })\n  }, buttonComponents) : null;\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function BodyWithFooterComponent({localMessageItem: localMessageItem, fullMessage: fullMessage, isMessageForInput: isMessageForInput, requestFocus: requestFocus, renderMessageComponent: renderMessageComponent}) {\n  const serviceManager = useServiceManager();\n  const languagePack = useLanguagePack();\n  const appConfig = useSelector(state => state.config);\n  const inputState = useSelector(selectInputState);\n  return React.createElement(React.Fragment, null, React.createElement(BodyMessageTypeComponentsExport, {\n    message: localMessageItem,\n    originalMessage: fullMessage,\n    languagePack: languagePack,\n    requestInputFocus: requestFocus,\n    disableUserInputs: inputState.isReadonly,\n    config: appConfig,\n    isMessageForInput: isMessageForInput,\n    scrollElementIntoView: THROW_ERROR,\n    serviceManager: serviceManager,\n    hideFeedback: true,\n    allowNewFeedback: false,\n    renderMessageComponent: renderMessageComponent\n  }), React.createElement(FooterButtonComponents, {\n    message: localMessageItem,\n    originalMessage: fullMessage,\n    languagePack: languagePack,\n    requestInputFocus: requestFocus,\n    disableUserInputs: inputState.isReadonly,\n    config: appConfig,\n    isMessageForInput: isMessageForInput,\n    scrollElementIntoView: THROW_ERROR,\n    serviceManager: serviceManager,\n    hideFeedback: true,\n    allowNewFeedback: false,\n    renderMessageComponent: renderMessageComponent\n  }));\n}\n\nexport { BodyWithFooterComponent as B };\n","/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */\nconst getBotInputState = state => state.botInputState;\n\nconst getAgentInputState = state => state.agentState.inputState;\n\nconst getAgentState = state => state.agentState;\n\nconst getPersistedAgent = state => state.persistedToBrowserStorage.chatState.agentState;\n\nfunction selectAgentDisplayState(state) {\n  const agentState = getAgentState(state);\n  const persisted = getPersistedAgent(state);\n  if (persisted.isSuspended) {\n    return {\n      isConnectingOrConnected: false,\n      disableInput: false,\n      isAgentTyping: false,\n      inputPlaceholderKey: null\n    };\n  }\n  const {isReconnecting: isReconnecting, isConnecting: isConnecting, isAgentTyping: isAgentTyping} = agentState;\n  const {isConnected: isConnected} = persisted;\n  let inputPlaceholderKey;\n  if (isConnecting) {\n    inputPlaceholderKey = \"agent_inputPlaceholderConnecting\";\n  } else if (isReconnecting) {\n    inputPlaceholderKey = \"agent_inputPlaceholderReconnecting\";\n  } else {\n    inputPlaceholderKey = null;\n  }\n  return {\n    isAgentTyping: isAgentTyping,\n    isConnectingOrConnected: isConnecting || isConnected,\n    disableInput: isConnecting || isReconnecting,\n    inputPlaceholderKey: inputPlaceholderKey\n  };\n}\n\nfunction selectIsInputToAgent(state) {\n  return selectAgentDisplayState(state).isConnectingOrConnected;\n}\n\nfunction selectInputState(state) {\n  return selectIsInputToAgent(state) ? getAgentInputState(state) : getBotInputState(state);\n}\n\nexport { selectInputState as a, selectIsInputToAgent as b, selectAgentDisplayState as s };\n","import Home from \"@carbon/icons-react/es/Home.js\";\n\nimport React, { forwardRef, useRef, useCallback, useImperativeHandle } from \"react\";\n\nimport { useSelector, shallowEqual } from \"react-redux\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport { u as useServiceManager } from \"./chat.usePrevious.js\";\n\nimport { s as selectAgentDisplayState } from \"./chat.selectors.js\";\n\nimport \"./chat.constants.js\";\n\nimport { H as HeaderExport, a as WriteableElement } from \"./chat.Header.js\";\n\nimport { W as WriteableElementName } from \"./chat.dynamic-imports.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function BotHeader(props, ref) {\n  const {onClose: onClose, onCloseAndRestart: onCloseAndRestart, onRestart: onRestart, onToggleHomeScreen: onToggleHomeScreen, headerDisplayName: headerDisplayName, includeWriteableElement: includeWriteableElement, enableChatHeaderConfig: enableChatHeaderConfig, headerAvatarConfig: headerAvatarConfig, testIdPrefix: testIdPrefix} = props;\n  const serviceManager = useServiceManager();\n  const languagePack = useLanguagePack();\n  const homeScreenIsOn = useSelector(state => state.homeScreenConfig.is_on && state.homeScreenConfig.allow_return);\n  const publicConfig = useSelector(state => state.config.public);\n  const customMenuOptions = useSelector(state => state.customMenuOptions);\n  const {isConnectingOrConnected: isConnectingOrConnected} = useSelector(selectAgentDisplayState, shallowEqual);\n  const useAITheme = useSelector(state => state.theme.useAITheme);\n  const maxVisibleHeaderObjects = useSelector(state => state.chatHeaderState.maxVisibleHeaderObjects);\n  const leftObjectsLength = useSelector(state => state.chatHeaderState.config?.left?.length || 0);\n  const rightObjectsLength = useSelector(state => state.chatHeaderState.config?.right?.length || 0);\n  const headerRef = useRef();\n  const isHeaderObjectsInOverflow = leftObjectsLength > maxVisibleHeaderObjects || rightObjectsLength > maxVisibleHeaderObjects;\n  const hasChatHeaderObjects = enableChatHeaderConfig && isHeaderObjectsInOverflow;\n  const showRestartButton = publicConfig.showRestartButton || publicConfig.headerConfig?.showRestartButton;\n  const allowHomeScreen = homeScreenIsOn && !isConnectingOrConnected;\n  const overflowClicked = useCallback(index => {\n    if (index === 0 && allowHomeScreen) {\n      onToggleHomeScreen?.();\n    } else {\n      const {handler: handler} = customMenuOptions[allowHomeScreen ? index - 1 : index];\n      handler();\n    }\n  }, [ customMenuOptions, onToggleHomeScreen, allowHomeScreen ]);\n  let overflowItems = customMenuOptions?.map(option => option.text);\n  if (overflowItems && allowHomeScreen) {\n    overflowItems.splice(0, 0, languagePack.homeScreen_overflowMenuHomeScreen);\n  } else if (!overflowItems && allowHomeScreen && hasChatHeaderObjects) {\n    overflowItems = [ languagePack.homeScreen_overflowMenuHomeScreen ];\n  }\n  useImperativeHandle(ref, () => headerRef.current);\n  return React.createElement(\"div\", {\n    className: \"WACHeader__Container\"\n  }, React.createElement(HeaderExport, {\n    ref: headerRef,\n    showCenter: true,\n    headerAvatarConfig: headerAvatarConfig,\n    displayName: headerDisplayName,\n    showBackButton: Boolean(allowHomeScreen && onToggleHomeScreen),\n    showRestartButton: showRestartButton,\n    useAITheme: useAITheme,\n    backContent: React.createElement(Home, null),\n    labelBackButton: languagePack.homeScreen_returnToHome,\n    onClickRestart: onRestart,\n    onClickClose: onClose,\n    onCloseAndRestart: onCloseAndRestart,\n    onClickBack: onToggleHomeScreen,\n    overflowItems: overflowItems,\n    overflowClicked: overflowClicked,\n    enableChatHeaderConfig: enableChatHeaderConfig,\n    testIdPrefix: testIdPrefix\n  }), includeWriteableElement && React.createElement(WriteableElement, {\n    slotName: WriteableElementName.HEADER_BOTTOM_ELEMENT,\n    id: `headerBottomElement${serviceManager.namespace.suffix}`,\n    className: \"WACHeader__HeaderBottomElement\"\n  }));\n}\n\nconst BotHeaderExport = React.memo(forwardRef(BotHeader));\n\nexport { BotHeaderExport as B };\n","import { useRef } from \"react\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ let nextNumber = 1;\n\nfunction useCounter() {\n  const counterRef = useRef();\n  if (counterRef.current === undefined) {\n    counterRef.current = nextNumber++;\n  }\n  return counterRef.current;\n}\n\nexport { useCounter as u };\n"],"names":["isNil","value","AvailabilityMessage","availability","fallbackText","availabilityKey","availabilityValues","availabilityText","estimated_wait_time","position_in_queue","message","position","time","React","RichTextExport","overrideSanitize","text","FormattedMessage","id","values","addHTMLSupport","ANNOUNCE_INPUT_TYPES","Set","ANNOUNCE_NODE_EXCLUDE_ATTRIBUTE","AriaAnnouncerComponent","constructor","super","arguments","this","ref1","ref2","useRef1","doAnnouncements","strings","pendingValues","forEach","elementToAnnounce","push","nodeToText","useElement","current","innerText","join","innerHTML","announceValue","setTimeout","undefined","nodeType","hasNodeType","messageID","formattedMessage","props","intl","formatMessage","messageValues","messageText","render","VisuallyHidden","className","ref","node","isElement","window","getComputedStyle","display","getAttribute","hasAttribute","trimAndPush","isInputNode","has","type","toLowerCase","placeholder","isTextAreaNode","isImageNode","alt","shadowRoot","childNodes","childNode","isTextNode","data","trim","replaceAll","FeedbackButtonsElement","LitElement","styles","css","unsafeCSS","__decorate","property","Boolean","attribute","reflect","prototype","String","Object","ThumbsDown16svg","toString","ThumbsDown16","ThumbsDownFilled16svg","ThumbsDownFilled16","ThumbsUp16svg","ThumbsUp16","ThumbsUpFilled16svg","ThumbsUpFilled16","FEEDBACK_BUTTONS_COMPONENT_TAG_NAME","CDSChatFeedbackButtonsElement","customElementClass","isPositiveOpen","isNegativeOpen","isPositiveSelected","isNegativeSelected","hasPositiveDetails","hasNegativeDetails","isPositiveDisabled","isNegativeDisabled","positiveLabel","negativeLabel","panelID","onClick","html","CSS_CLASS_PREFIX","nothing","unsafeSVG","enLanguagePack","feedback_positiveLabel","feedback_negativeLabel","feedbackButtonsElementTemplate","carbonElement","FeedbackButtonsComponent","createComponent","tagName","elementClass","react","TagListElement","selectedTags","updated","changedProperties","_setInitialValues","initialSelectedTags","_handleTagClick","event","tagValue","target","delete","add","onTagsChanged","Array","from","requestUpdate","state","TAG_LIST_TAG_NAME","WEB_COMPONENT_PREFIX","CDSTagListElement","tags","handleTagClick","map","tagListElementTemplate","ROUNDED_BUTTON_TAG_NAME","CDSRoundedButtonElement","CDSButton","FeedbackElement","showTextArea","showPrompt","initialValues","_textInput","_initialSelectedCategories","selectedCategories","_handleTextInput","currentTarget","_handleSubmit","onSubmit","_selectedCategories","_handleCancel","onClose","_handleCategoryChange","bind","FEEDBACK_COMPONENT_TAG_NAME","CDSChatFeedbackElement","handleCancel","handleSubmit","handleTextInput","initialSelectedCategories","textInput","handleCategoryChange","isReadonly","isOpen","title","prompt","categories","disclaimer","submitLabel","cancelLabel","cx","feedback_defaultTitle","feedback_defaultPrompt","length","feedback_defaultPlaceholder","feedback_cancelLabel","feedback_submitLabel","feedbackElementTemplate","FeedbackComponent","ResponseStopped","messages_responseStopped","useLanguagePack","EndAgentChatModal","onConfirm","onCancel","languagePack","serviceManager","useServiceManager","isConnected","isSuspended","useSelector","persistedToBrowserStorage","chatState","agentState","useTitle","agent_endChat","agent_confirmCancelRequestTitle","useMessage","agent_confirmEndChat","agent_confirmCancelRequestMessage","cancelButtonLabel","agent_confirmEndChatNo","confirmButtonLabel","agent_confirmEndSuspendedYes","agent_confirmEndChatYes","agent_confirmCancelRequestYes","ConfirmModal","modalAnnounceMessage","Checkmark$1","carbonIconToReact","Checkmark16","Headset","Headset16","HelpDesk","HelpDesk16","Logout","Logout16","RealConnectToAgent","localMessage","originalMessage","disableUserInputs","requestFocus","agentDisplayState","persistedAgentState","activeLocalMessageID","isConnecting","showConfirmSuspended","setShowConfirmSuspended","useState","doStartChat","humanAgentService","startChat","history","agent_availability","AgentsOnlineStatus","OFFLINE","agentUnavailableMessage","item","agent_unavailable","default_agent_unavailableMessage","textFromMessage","agent_available","default_agent_availableMessage","ButtonIcon","buttonText","showDisabled","isConnectingOrConnected","messageToUser","ui_state","agent_cardButtonChatRequested","agent_connectWaiting","agent_cardButtonConnected","agent_cardMessageConnected","wasAgentChatEnded","agent_cardButtonChatEnded","agent_cardMessageChatEnded","agent_startChat","Tile","agent_chatTitle","Button","size","disabled","slot","agent_suspendedWarning","agent_confirmSuspendedEndChatTitle","agent_confirmSuspendedEndChatMessage","ConnectToAgent","config","childDisableUserInputs","hasServiceDesk","AudioComponent","source","isMixCloud","startsWith","MediaPlayerExport","MessageResponseTypes","AUDIO","isMixcloud","AudioComponentExport","ClickableImage","buttonAltText","isLink","imageProps","href","displayURL","rel","ImageExport","BaseButtonItemComponent","label","kind","url","renderIcon","imageURL","altText","errors_imageSource","useAITheme","theme","linkTarget","imageError","RenderIcon","buttonKind","style","ButtonItemKind","LINK","TERTIARY","DEFAULT","SECONDARY","DANGER","getButtonKind","ButtonItemCustomEventComponent","localMessageItem","fullMessage","messageItem","image_url","alt_text","isDisabled","optionSelected","onClickHandler","useCallback","async","fire","BusEventType","MESSAGE_ITEM_CUSTOM","TouchInteraction","ButtonItemPostBackComponent","isMessageForInput","fullMessageID","input","messageRequest","createMessageRequestForButtonItemOption","store","dispatch","actions","messageSetOptionSelected","sendWithCatch","MessageSendSource","POST_BACK_BUTTON","consoleError","WA_CONSOLE_PREFIX","Send","ButtonItemShowPanelComponent","setResponsePanelIsOpen","setResponsePanelContent","ArrowRight","Link","CarbonLinkElement","LaunchIcon","Launch16","ButtonItemURLComponent","ButtonItemComponent","button_type","ButtonItemType","URL","SHOW_PANEL","CUSTOM_EVENT","CardItemComponent","ignoreMaxWidth","WACMaxWidthSmall","max_width","WidthOptions","SMALL","WACMaxWidthMedium","MEDIUM","WACMaxWidthLarge","LARGE","BodyWithFooterComponent","renderMessageComponent","CardComponentExport","Carousel$1","lazyCarousel","CarouselItemComponent","allMessageItemsByID","itemsLocalMessageItemIDs","Suspense","fallback","SkeletonPlaceholder","nestedLocalMessageItemID","key","useCallbackOnChange","callback","doDebounced","useMemo","debounce","maxWait","leading","usePrevious","WindowSizeContext","CitationType","CitationCardContent","citation","setIsExpandable","isExpandable","width","useContext","conversationalSearch_viewSourceDocument","useRef","icon","useLayoutEffect","clientHeight","scrollHeight","hostname","Link$1","Maximize","CitationClickableCard","onSelectCitation","children","onFocus","ExpandToPanelCard","relatedSearchResult","body","renderTile","EXPAND_IF_NEEDED","setViewSourcePanelIsOpen","CitationCard","isSelected","isValidURL","CitationCardExport","OperationalTag","CarbonOperationalTagElement","ChevronUp","ChevronUp16","ChevronDown","ChevronDown16","ConversationalSearchText","highlightCitation","onToggleCitations","citationsOpen","searchItem","showCitationsToggle","streamingState","toggleID","useCounter","namespace","suffix","setHtml","isDone","chunks","chunk","useEffect","newHtml","ranges","pieces","startIndex","range","beforeHighlight","substring","start","highlight","end","HIGHLIGHT_TOKEN_START","HIGHLIGHT_TOKEN_END","lastPiece","md","sanitzeHTML","tokenTree","getMarkdownWorker","result","container","document","createElement","htmlString","templateToString","renderTokenTree","processMarkdown","afterMarkdownHTML","sanitizeHTML","rootElement","insertHighlights","error","createHTMLWithHighlights","getHtml","MarkdownText","markdown","onKeyDown","e","preventDefault","conversationalSearch_citationsLabel","conversationalSearch_toggleCitations","HIGHLIGHT_TOKEN_REGEXP","parent","isInHighlight","child","Text","textContent","tokenMatches","matchAll","match","isInHighlightHere","index","addTextSegment","remove","Element","getAttributeNames","name","setAttribute","highlighted","beforeChild","textNode","createTextNode","highlightNode","appendChild","insertBefore","ConversationalSearchTextExport","Carousel","ConversationalSearch","scrollElementIntoView","isStreamingError","doAutoScroll","selectedCitationIndex","setSelectedCitationIndex","setCitationsOpen","scrollIntoViewArea","swiperRef","sortedCitations","citations","withRanges","filter","withoutRanges","concat","sortCitations","scrollCitations","InlineError","conversationalSearch_streamingIncomplete","tiles","swiper","slideTo","search_results","search_result_idx","initialSlide","onSlideChange","renderCitations","UserDefinedResponse","userDefinedRegistryItem","getOrCreateUserDefinedElement","localMessageID","slotName","UserDefinedResponse$1","UNWANTED_CHARACTERS_REGEX","RegExp","RIGHT_TO_LEFT_MARK","Checkmark","Checkmark32","DatePickerComponent","useIntl","webChatLocale","locale","allMessagesByID","uuidRef","uuid","UUIDType","MISCELLANEOUS","isCalendarOpen","setIsCalendarOpen","userDisplayValue","setUserDisplayValue","flatpickrFormat","setFlatpickrFormat","userDisplayFormat","setUserDisplayFormat","flatpickrLocale","setFlatpickrLocale","dayjsLocale","setDayjsLocale","datePickerHostElement","setDatePickerHostElement","valueForAssistantRef","isInputPointerDownEventFiredRef","inputLabel","format","isDateInfoReady","setDateInfoForLocale","dateFormat","replace","includes","sanitizeDateFormat","dayjs","formats","L","toLocaleLowerCase","ENGLISH_US_DATE_FORMAT","localeValue","split","dash","firstChar","Error","getFlatpickrDateFormat","handlerSendDate","responseID","console","log","request","createMessageRequestForDate","DATE_PICKER","setValueSelectedForMessageID","doScrollElementIntoView","useOnMount","localeFromMessage","originalUserText","from_history","loadDayjsLocale","then","Layer$1","DatePicker","datePickerType","allowInput","appendTo","onChange","dates","date","day","getDate","padStart","month","getMonth","getFullYear","toAssistantDateFormat","year","toUserDateFormat","onOpen","DatePickerInput","labelText","onPointerDown","DatePickerComponentExport","VALID_COLUMN_WIDTH_REGEX","GridItemComponent","appConfig","inputState","selectInputState","columns","horizontal_alignment","vertical_alignment","gridTemplateColumns","column","gridLocalMessageItemIDs","row","rowIndex","cell","columnIndex","cellData","rows","cells","isPixelValue","columnWidthString","endsWith","flex","Number","alignItems","getFlexAlignment","justifyContent","localMessageItemID","itemIndex","requestInputFocus","THROW_ERROR","isNestedMessageItem","hideFeedback","allowNewFeedback","GridItemComponentExport","IFramePreviewCardComponent","description","urlHostName","getURLHostName","iframe_ariaImageAltText","iframeAriaClickPreviewCardMessage","onImageLoad","setIFrameContent","preventInlineError","IFramePreviewCardExport","InlineIFrame","ariaAnnouncer","useAriaAnnouncer","errors_iframeSource","isError","setIsError","baseHeight","getMediaDimensions","base_height","paddingTop","getResponsiveElementPaddingValue","inlineStyles","useDynamicCSSProperties","iframeTitle","onTimeoutOverride","IFrameComponent","onLoad","IFrameMessage","displayOverride","IFrameItemDisplayOption","INLINE","Description","shouldRemoveHTMLBeforeMarkdownConversion","Metablock","Layer","CarbonLayerElement","Dropdown","CarbonDropdownElement","events","onBeingSelected","onToggled","DropdownItem","CarbonDropdownItemElement","SelectComponent","options","isBeingOpened","setIsBeingOpened","rootRef","listBox","querySelector","blockSize","maxBlockSize","WAC__customSelectTemporaryPadding","level","options_select","hideLabel","options_ariaOptionsDisabled","handleToggle","requestAnimationFrame","detail","selectedItem","option","OptionComponent","Component","onOptionSelected","selectedOption","createMessageRequestForChoice","OPTION_BUTTON","OPTION_DROP_DOWN","onButtonClick","onSelectChange","preference","getOptionType","ChatButton","CHAT_BUTTON_KIND","isQuickAction","CHAT_BUTTON_SIZE","Download16svg","Download16","attrs","tableTemplate","tableElement","tableTitle","tableDescription","headers","containerWidth","filterPlaceholderText","_handleDownload","handleDownload","_rowsWithIDs","tableRowsWithIDs","_allowFiltering","allowTableFiltering","_handleFilterEvent","handleFilterEvent","header","repeat","POSSIBLE_PAGE_SIZES","TABLE_COMPONENT_TAG_NAME","TableElement","_isValid","_currentPageNumber","_rowsPerPageChanged","_calcIsTableValid","_initializeRowsArrays","_currentPageSize","chatHeight","get","_initializePageSize","columnCount","some","_filterVisibleRowIDs","_updateVisibleRows","_handlePageChangeEvent","page","pageSize","stopPropagation","_handlePageSizeChangeEvent","unfilteredRows","renderRoot","querySelectorAll","setProperty","filterVisibleRows","pageEnd","removeAttribute","tableArray","stringifiedTable","stringify","blob","Blob","link","createObjectURL","visibility","click","removeChild","loading","currentPageSize","currentPageNumber","filterVisibleRowIDs","previousPageText","nextPageText","itemsPerPageText","getPaginationSupplementalText","getPaginationStatusText","handlePageChangeEvent","handlePageSizeChangeEvent","totalVisibleRows","totalRows","supportedPageSizes","Math","ceil","tablePaginationTemplate","Function","Table","TableContainer","tableItem","carbonTheme","tableContainerRef","tableContainerWidth","setTableContainerWidth","onResize","clientWidth","ResizeObserver","observe","isValid","Theme","LIGHT_THEMES","table_filterPlaceholder","table_previousPage","table_nextPage","table_itemsPerPage","count","pagesCount","TableContainerExport","TourCard","tour_resumeButton","tour_restartButton","tour_startButton","activeTourID","persistedTourState","isCurrentTour","tourTitle","user_defined","card_title","tourDescription","card_description","Button$1","changeView","ViewType","TOUR","mainWindowCloseReason","MainWindowCloseReason","TOUR_CARD_RESUMED_TOUR","Restart","TOUR_CARD_RESTARTED_TOUR","tour","changeStepInTour","newStepIndex","startTour","TourStartReason","START_TOUR_CLICKED","TOUR_CARD_STARTED_TOUR","TourCardExport","StreamingRichText","removeHTML","textToUse","stepTitleFormatter","createEnglishFormat","ChainOfThoughtElement","open","formatStepLabelText","stepNumber","stepTitle","inputLabelText","chainOfThought_inputLabel","outputLabelText","chainOfThought_outputLabel","toolLabelText","chainOfThought_toolLabel","explainabilityText","chainOfThought_explainabilityLabel","statusSucceededLabelText","chainOfThought_statusSucceededLabel","statusFailedLabelText","chainOfThought_statusFailedLabel","statusProcessingLabelText","chainOfThought_statusProcessingLabel","_chainOfThoughtPanelID","firstUpdated","_changedProperties","_steps","steps","CSS_CLASS_ITEM_PREFIX","CSS_CLASS_STATUS_PREFIX","ChevronRight16svg","ChevronRight16","CheckmarkFilled16svg","CheckmarkFilled16","ErrorFilled16svg","ErrorFilled16","renderToolData","classPostfix","content","parseUnknownDataToMarkdown","renderToolDataAsMarkdown","CHAIN_OF_THOUGHT_COMPONENT_TAG_NAME","CDSChatChainOfThoughtElement","onToggle","onStepToggle","content_id","element","status","ChainOfThoughtStepStatus","PROCESSING","FAILURE","SUCCESS","stepStatus","tool_name","args","response","accordionItemContent","accordionContent","chainOfThoughtElementTemplate","ChainOfThought","MessageTypeComponent","feedbackDetailsRef","selectAgentDisplayState","shallowEqual","feedbackID","message_options","feedback","feedbackPanelID","useUUID","feedbackHistory","feedbackInitialValues","isFeedbackOpen","setIsFeedbackOpen","isPositiveFeedbackSelected","setIsPositiveFeedbackSelected","is_positive","isNegativeFeedbackSelected","setIsNegativeFeedbackSelected","isFeedbackSubmitted","setIsFeedbackSubmitted","renderRichText","is_streaming_error","renderUserDefinedResponse","scrollChainOfThought","isRequest","isTextItem","userText","message_type","InternalMessageRequestType","FILE","Attachment","fileSharing_fileIcon","role","renderRequest","isResponse","renderAsTour","renderTour","renderAsUserDefinedMessage","responseType","response_type","withHumanAgent","agent_message_type","TEXT","renderText","IMAGE","getState","needsAnnouncement","renderImage","OPTION","renderOption","CONNECT_TO_AGENT","renderConnectToAgent","INLINE_ERROR","renderInlineError","IFRAME","renderIFrameMessage","VIDEO","VideoComponentExport","ariaLabel","renderVideoMessage","renderAudioMessage","DATE","renderDateMessage","CONVERSATIONAL_SEARCH","renderConversationalSearchMessage","TABLE","renderTable","CARD","childProps","renderCard","CAROUSEL","renderCarouselMessage","BUTTON","renderButtonItem","GRID","renderGrid","renderResponse","isResponseStopped","streaming_metadata","stream_stopped","chainOfThought","chain_of_thought","renderChainOfThought","feedbackOptions","is_on","show_positive_details","show_negative_details","show_text_area","show_prompt","updateHistory","mergeMessageHistory","onFeedbackClicked","isPositive","toggleToSelected","openDetails","FEEDBACK","interactionType","FeedbackInteractionType","SUBMITTED","DETAILS_OPENED","DETAILS_CLOSED","renderFeedbackPopup","class","details","renderFeedback","renderSpecificMessage","height","fill","i","elem","Loading","CarbonLoadingElement","iframe_ariaSourceLoaded","showSpinner","setShowSpinner","showError","setShowError","handleIFrameTimeout","handleIFrameLoaded","errorTimeout","RESPONSE_TYPE_TIMEOUT_MS","clearTimeout","errorText","src","sandbox","referrerPolicy","MountChildrenOnDelay","delay","active","overlay","CarbonChatButtonElement","BodyMessageComponents","bodyLocalMessageItemIDs","messageComponents","nestedMessageID","nestedLocalMessage","isFullWidthMessage","isFullWidthResponseType","nextLocalMessageID","nextLocalMessage","isNextMessageFullWidth","withShortBottomPadding","USER_DEFINED","BodyMessageTypeComponentsExport","FooterButtonComponents","buttonComponents","footerLocalMessageItemIDs","totalButtons","isColumnList","getBotInputState","botInputState","getAgentInputState","getAgentState","getPersistedAgent","persisted","disableInput","isAgentTyping","inputPlaceholderKey","isReconnecting","selectIsInputToAgent","BotHeader","onCloseAndRestart","onRestart","onToggleHomeScreen","headerDisplayName","includeWriteableElement","enableChatHeaderConfig","headerAvatarConfig","testIdPrefix","homeScreenIsOn","homeScreenConfig","allow_return","publicConfig","public","customMenuOptions","maxVisibleHeaderObjects","chatHeaderState","leftObjectsLength","left","rightObjectsLength","right","headerRef","hasChatHeaderObjects","showRestartButton","headerConfig","allowHomeScreen","overflowClicked","handler","overflowItems","splice","homeScreen_overflowMenuHomeScreen","useImperativeHandle","HeaderExport","showCenter","displayName","showBackButton","backContent","Home","labelBackButton","homeScreen_returnToHome","onClickRestart","onClickClose","onClickBack","WriteableElement","WriteableElementName","HEADER_BOTTOM_ELEMENT","BotHeaderExport","forwardRef","nextNumber","counterRef"],"sourceRoot":""}