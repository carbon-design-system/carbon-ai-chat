/*! For license information please see 2865.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[2865],{171:function(e,t,n){n.d(t,{U:function(){return r},u:function(){return o}});var r,a=n(5745);function o(e){return(0,a.A)()}!function(e){e[e.MISCELLANEOUS=1]="MISCELLANEOUS",e[e.LOCAL_MESSAGE=2]="LOCAL_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.COMPONENT=4]="COMPONENT",e[e.USER=6]="USER",e[e.DEVICE_ID=8]="DEVICE_ID",e[e.FILE=9]="FILE"}(r||(r={}))},481:function(e,t,n){n.d(t,{I:function(){return u},a:function(){return p},b:function(){return d},c:function(){return c},d:function(){return m},e:function(){return _},g:function(){return E}});var r=n(4880),a=n(711);const o="undefined"!=typeof window&&"undefined"!=typeof navigator,s=o?(0,r.o0)():void 0;let i=0,l=0;o&&(i=window.screen.width,l=window.screen.height);const c="iOS"===s?.os,u=c||"Android OS"===s?.os,d=u&&(i<500||l<500),m=d&&i<500,p=(0,a.A)(function(){if(!o||!window.sessionStorage)return!1;try{return window.sessionStorage.setItem("web-chat-test-item","true"),window.sessionStorage.getItem("web-chat-test-item"),window.sessionStorage.removeItem("web-chat-test-item"),!0}catch{return!1}});function E(e){try{return new URL(e).hostname}catch{return e}}function _(e,t){return t?setTimeout(e,t):(e(),null)}},1036:function(e,t,n){n.d(t,{B:function(){return s}});var r=n(3210),a=n(3696),o=(n(3030),n(5222));const s=(0,r.a)({tagName:"cds-custom-button",elementClass:o.Ay,react:a})},1517:function(e,t,n){n.d(t,{$:function(){return w},A:function(){return ne},B:function(){return M},C:function(){return J},D:function(){return y},E:function(){return G},F:function(){return te},G:function(){return B},H:function(){return v},I:function(){return R},J:function(){return N},K:function(){return g},L:function(){return H},M:function(){return O},N:function(){return S},O:function(){return $},P:function(){return l},Q:function(){return i},R:function(){return ce},S:function(){return _e},T:function(){return Z},U:function(){return fe},V:function(){return s},W:function(){return o},X:function(){return T},Y:function(){return h},Z:function(){return A},_:function(){return L},a:function(){return Ce},a0:function(){return E},a1:function(){return C},a2:function(){return f},a3:function(){return _},a4:function(){return I},a5:function(){return P},a6:function(){return F},a7:function(){return p},a8:function(){return m},a9:function(){return d},aa:function(){return u},ab:function(){return D},ac:function(){return c},ad:function(){return a},b:function(){return Ee},c:function(){return pe},d:function(){return me},e:function(){return de},f:function(){return oe},g:function(){return ie},h:function(){return se},i:function(){return ae},j:function(){return re},k:function(){return ue},l:function(){return le},m:function(){return ee},n:function(){return Q},o:function(){return q},p:function(){return X},q:function(){return j},r:function(){return k},s:function(){return U},t:function(){return W},u:function(){return z},v:function(){return K},w:function(){return Y},x:function(){return V},y:function(){return x},z:function(){return b}});var r=n(171);const a="CHANGE_STATE",o="UPDATE_BOT_NAME",s="UPDATE_BOT_AVATAR_URL",i="UPDATE_LAUNCHER_AVATAR_URL",l="UPDATE_MAIN_HEADER_TITLE",c="HYDRATE_CHAT",u="HYDRATE_MESSAGE_HISTORY",d="ADD_LOCAL_MESSAGE_ITEM",m="REMOVE_MESSAGES",p="UPDATE_LOCAL_MESSAGE_ITEM",E="SET_APP_STATE_VALUE",_="ADD_IS_TYPING_COUNTER",f="ADD_IS_LOADING_COUNTER",C="ADD_IS_HYDRATING_COUNTER",A="SET_VIEW_STATE",h="SET_VIEW_CHANGING",T="SET_INITIAL_VIEW_CHANGE_COMPLETE",S="UPDATE_CSS_VARIABLES",I="MESSAGE_SET_OPTION_SELECTED",g="SET_MESSAGE_UI_PROPERTY",N="SET_MESSAGE_HISTORY_PROPERTY",O="MERGE_HISTORY",y="SET_LAUNCHER_PROPERTY",M="SET_LAUNCHER_CONFIG_PROPERTY",R="ANNOUNCE_MESSAGE",b="SET_CHAT_MESSAGES_PROPERTY",D="RESTART_CONVERSATION",v="ACCEPTED_DISCLAIMER",P="ADD_MESSAGE",H="UPDATE_HOME_SCREEN_CONFIG",L="UPDATE_HAS_SENT_NON_WELCOME_MESSAGE",w="UPDATE_PERSISTED_CHAT_STATE",W="SET_TOUR_DATA",U="CLEAR_TOUR_DATA",k="CHANGE_STEP_IN_TOUR",B="SET_HOME_SCREEN_IS_OPEN",G="UPDATE_LAUNCHER_CONFIG",F="UPDATE_MESSAGE",x="SET_LAUNCHER_MINIMIZED",V="CLOSE_IFRAME_PANEL",$="OPEN_IFRAME_CONTENT",Y="SET_CONVERSATIONAL_SEARCH_CITATION_PANEL_IS_OPEN",z="SET_CUSTOM_PANEL_OPTIONS",K="SET_CUSTOM_PANEL_OPEN",Z="GO_BACK_TO_HOME",j="UPDATE_INPUT_STATE",X="SET_IS_PAGE_VISIBLE",q="ADD_INPUT_FILE",J="CLEAR_INPUT_FILES",Q="REMOVE_INPUT_FILE",ee="REMOVE_LOCAL_MESSAGE_ITEM",te="FILE_UPLOAD_INPUT_ERROR",ne="ADD_NESTED_MESSAGES",re="SET_RESPONSE_PANEL_IS_OPEN",ae="SET_PANEL_RESPONSE_CONTENT",oe="STREAMING_ADD_CHUNK",se="STREAMING_START",ie="STREAMING_MERGE_HISTORY",le="ADD_NOTIFICATION",ce="REMOVE_ALL_NOTIFICATIONS",ue="REMOVE_NOTIFICATIONS",de="UPDATE_CHAT_HEADER_CONFIG",me="UPDATE_MAX_VISIBLE_HEADER_OBJECTS",pe="SET_STOP_STREAMING_BUTTON_VISIBLE",Ee="SET_STOP_STREAMING_BUTTON_DISABLED",_e="SET_STREAM_ID",fe="UPDATE_MAIN_HEADER_AVATAR",Ce={changeState(e){return{type:a,partialState:e}},chatWasHydrated(){return{type:c}},hydrateMessageHistory(e){return{type:u,messageHistory:e}},removeMessages(e){return{type:m,messageIDs:e}},restartConversation(){return{type:D}},addLocalMessageItem(e,t,n,r){return{type:d,messageItem:e,message:t,addMessage:n,addAfterID:r}},addMessage(e){return{type:P,message:e}},updateLocalMessageItem(e){return{type:p,messageItem:e}},updateMessage(e){return{type:F,message:e}},messageSetOptionSelected(e,t){return{type:I,messageID:e,sentMessage:t}},updatePersistedChatState(e){return{type:w,chatState:e}},setTourData(e){return{type:W,newActiveTourMessageID:e}},clearTourData(){return{type:U}},changeStepInTour(e){return{type:k,newStepNumber:e}},updateHasSentNonWelcomeMessage(e){return{type:L,hasSentNonWelcomeMessage:e}},setAppStateValue(e,t){return{type:E,key:e,value:t}},addIsTypingCounter(e){return{type:_,addToIsTyping:e}},addIsLoadingCounter(e){return{type:f,addToIsLoading:e}},addIsHydratingCounter(e){return{type:C,addToIsHydrating:e}},updateBotName(e){return{type:o,name:e}},updateMainHeaderTitle(e){return{type:l,title:e}},updateBotAvatarURL(e){return{type:s,url:e}},updateCSSVariables(e,t,n){return{type:S,variables:e,publicVars:t,whiteLabelVariables:n}},updateHomeScreenConfig(e){return{type:H,homeScreenConfig:e}},setViewState(e){return{type:A,viewState:e}},setViewChanging(e){return{type:h,viewChanging:e}},setInitialViewChangeComplete(e){return{type:T,changeComplete:e}},setMessageUIProperty(e,t,n){return{type:g,localMessageID:e,propertyName:t,propertyValue:n}},setLauncherProperty(e,t){return{type:y,propertyName:e,propertyValue:t}},setLauncherConfigProperty(e,t,n){return{type:M,propertyName:e,propertyValue:t,launcherType:n}},setMessageHistoryProperty(e,t,n){return{type:N,messageID:e,propertyName:t,propertyValue:n}},mergeMessageHistory(e,t){return{type:O,messageID:e,history:t}},setMessageErrorState(e,t){return Ce.setMessageHistoryProperty(e,"error_state",t)},setMessageWasAnnounced(e){return Ce.setMessageUIProperty(e,"needsAnnouncement",!1)},announceMessage(e){return{type:R,message:e}},setChatMessagesStateProperty(e,t){return{type:b,propertyName:e,propertyValue:t}},addNotification(e){const t=(0,r.u)();return{type:le,notificationID:t,notification:e}},removeNotifications({groupID:e,notificationID:t}){return{type:ue,groupID:e,notificationID:t}},removeAllNotifications(){return{type:ce}},acceptDisclaimer(){return{type:v}},setHomeScreenIsOpen(e){return{type:B,isOpen:e}},updateLauncherConfig(e){return{type:G,launcherConfig:e}},setLauncherMinimized(){return{type:x}},closeIFramePanel(){return{type:V}},setIFrameContent(e){return{type:$,messageItem:e}},setViewSourcePanelIsOpen(e,t,n){return{type:Y,isOpen:e,citationItem:t,relatedSearchResult:n}},setCustomPanelConfigOptions(e){return{type:z,options:e}},setCustomPanelOpen(e){return{type:K,isOpen:e}},toggleHomeScreen(){return{type:Z}},updateInputState(e,t){return{type:j,newState:e,isInputToAgent:t}},setIsBrowserPageVisible(e){return{type:X,isVisible:e}},addInputFile(e,t){return{type:q,file:e,isInputToAgent:t}},removeFileUpload(e,t){return{type:Q,fileID:e,isInputToAgent:t}},removeLocalMessageItem(e){return{type:ee,localMessageItemID:e}},fileUploadInputError(e,t,n){return{type:te,fileID:e,errorMessage:t,isInputToAgent:n}},clearInputFiles(e){return{type:J,isInputToAgent:e}},addNestedMessages(e){return{type:ne,localMessageItems:e}},setResponsePanelIsOpen(e){return{type:re,isOpen:e}},setResponsePanelContent(e,t=!1){return{type:ae,localMessageItem:e,isMessageForInput:t}},streamingStart(e){return{type:se,messageID:e}},streamingMergeHistory(e,t){return{type:ie,messageID:e,history:t}},streamingAddChunk(e,t,n,r){return{type:oe,fullMessageID:e,chunkItem:t,isCompleteItem:n,disableFadeAnimation:r}},updateChatHeaderConfig(e){return{type:de,chatHeaderConfig:e}},setMaxVisibleHeaderObjects(e){return{type:me,maxTotal:e}},setStopStreamingButtonVisible(e){return{type:pe,isVisible:e}},setStopStreamingButtonDisabled(e){return{type:Ee,isDisabled:e}},setStreamID(e){return{type:_e,currentStreamID:e}},updateMainHeaderAvatar(e){return{type:fe,config:e}}}},2865:function(e,t,n){n.d(t,{A:function(){return B},B:function(){return x},C:function(){return K},H:function(){return de},M:function(){return Y},W:function(){return U},a:function(){return $},b:function(){return W},c:function(){return V},d:function(){return F},u:function(){return Z}}),n(712);var r=n(2794),a=n(8799),o=n(2642),s=n(7395),i=n(2629),l=n(4573),c=n(2213),u=n(1746),d=n(9417),m=n(445),p=n(4452),E=n(3696),_=n(5022),f=n(8241),C=n(3210),A=n(4629),h=n(3539),T=(n(6677),n(3192)),S=n(1536),I=n(9890),g=n(619),N=(n(236),n(1162),n(7073)),O=n(112),y=n(3407),M=n(171),R=n(8213),b=n(9708),D=n(3744),v=n(1517),P=n(1036),H=n(4544),L=n(8325),w=(n(4776),n(3716));const W="cds--aichat",U="cds-aichat";function k(e){const t=(0,E.useContext)(D.A);return(0,E.useEffect)(()=>{t(e.message)},[t,e.message]),E.createElement("div",null)}const B=E.memo(k);function G({slotName:e,id:t,className:n}){return E.createElement("div",{className:n,id:t,"data-floating-menu-container":!0},E.createElement("slot",{name:e}))}var F,x,V,$=E.memo(G);!function(e){e.WHITE="cds--white",e.G10="cds--g10",e.G90="cds--g90",e.G100="cds--g100"}(F||(F={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.DANGER="danger",e.GHOST="ghost",e.DANGER_PRIMARY="danger--primary",e.DANGER_GHOST="danger--ghost",e.DANGER_TERTIARY="danger--tertiary",e.TERTIARY="tertiary"}(x||(x={})),function(e){e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg",e.XLARGE="xl",e.XXLARGE="2xl"}(V||(V={}));const Y=E.createContext(null);class z extends E.Component{constructor(){super(...arguments),this.state={attachedToHost:null},this.modalElement=document.createElement("div")}componentDidMount(){this.attachIfNeeded()}componentDidUpdate(){this.attachIfNeeded()}componentWillUnmount(){this.state.attachedToHost&&this.state.attachedToHost.removeChild(this.modalElement)}attachIfNeeded(){const e=this.context;e&&!this.state.attachedToHost&&(this.setState({attachedToHost:e}),e.appendChild(this.modalElement))}render(){return this.state.attachedToHost?L.createPortal(this.props.children,this.modalElement):null}}z.contextType=Y;class K extends E.Component{constructor(e){super(e),this.onYesClick=()=>{this.props.onConfirm()},this.onNoClick=()=>{this.props.onCancel()},this.onKeyDown=e=>{"Escape"===e.key&&this.props.onCancel()},this.state={focusTrapActive:!1}}componentDidMount(){customElements.whenDefined("cds-custom-button").then(()=>{this.setState({focusTrapActive:!0})})}render(){const{title:e,message:t,cancelButtonLabel:n,confirmButtonLabel:r,modalAnnounceMessage:a,serviceManager:o}=this.props;return E.createElement(z,null,E.createElement(H,{active:this.state.focusTrapActive,focusTrapOptions:{initialFocus:!1,tabbableOptions:{getShadowRoot:!0}}},E.createElement("div",{className:"WACConfirmModal",role:"dialog","aria-labelledby":`WACConfirmModal__title${o.namespace.suffix}`,"aria-describedby":`WACConfirmModal__message${o.namespace.suffix}`},E.createElement("div",{className:"WACConfirmModal__container"},E.createElement(B,{message:a}),E.createElement("div",{className:"WACConfirmModal__title",id:`WACConfirmModal__title${o.namespace.suffix}`},e),E.createElement("div",{className:"WACConfirmModal__message",id:`WACConfirmModal__message${o.namespace.suffix}`},t),E.createElement("div",{className:"WACConfirmModal__buttonContainer"},E.createElement(P.B,{className:"WACConfirmModal__NoButton",kind:"secondary",onClick:this.onNoClick,onKeyDown:this.onKeyDown,size:"md","tab-index":"0"},n),E.createElement(P.B,{className:"WACConfirmModal__YesButton",onClick:this.onYesClick,onKeyDown:this.onKeyDown,size:"md","tab-index":"0"},r))))))}}function Z(){const e=(0,E.useRef)();return void 0===e.current&&(e.current=(0,M.u)(M.U.COMPONENT)),e.current}class j extends T.WF{constructor(){super(...arguments),this.isLoaded=!1}_handleOnError(){this.onError?.()}}j.styles=T.AH`
    ${(0,T.iz)(".cds--aichat-chat-header-avatar{\n  display:block;\n  block-size:20px;\n  max-block-size:20px;\n}\n\n.cds--aichat-chat-header-avatar--round{\n  border-radius:10px;\n}")}
  `,(0,A.Cg)([(0,g.MZ)({type:String})],j.prototype,"url",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],j.prototype,"corners",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],j.prototype,"alt",void 0),(0,A.Cg)([(0,g.MZ)({type:Object})],j.prototype,"onError",void 0),(0,A.Cg)([(0,g.wk)()],j.prototype,"isLoaded",void 0),(0,A.Cg)([I.oI],j.prototype,"_handleOnError",null);const X="cds-aichat-chat-header-avatar";let q=class extends j{render(){return function(e){const{url:t,corners:n,alt:r,onError:a}=e;return T.qy`
    <img
      class="${p(`${W}-chat-header-avatar`,{[`${W}-chat-header-avatar--round`]:n===S.a.ROUND})}"
      src="${t}"
      alt="${r}"
      @error="${a}"
    />
  `}(this)}};q=(0,A.Cg)([(0,h.c)(X)],q);const J=(0,C.a)({tagName:X,elementClass:q,react:E});let Q=class extends T.WF{constructor(){super(...arguments),this.isNewTab=!0}render(){return function(e){const{label:t,url:n,isNewTab:r}=e;return T.qy`<cds-custom-button
    class="WACChatHeaderLink"
    href="${n}"
    target="${r?"_blank":"_self"}"
    kind="${x.GHOST}"
    size="md"
    >${t}</cds-custom-button
  >`}(this)}};(0,A.Cg)([(0,g.MZ)({type:String})],Q.prototype,"url",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],Q.prototype,"label",void 0),(0,A.Cg)([(0,g.MZ)({type:Boolean})],Q.prototype,"isNewTab",void 0),Q=(0,A.Cg)([(0,h.c)(`${U}-chat-header-link`)],Q);const ee=(0,C.a)({tagName:`${U}-chat-header-link`,elementClass:Q,react:E});function te({id:e,className:t,label:n,isOpen:r,target:a,children:o,menuAlignment:s,containerRef:i}){return E.createElement(u.W1t,{id:e,className:t,open:r,target:a,label:n,size:"md",menuAlignment:s,mode:"full",legacyAutoalign:!1,containerRef:i},o)}function ne(e){const[t,n]=(0,E.useState)(!1),{refs:r,context:a}=(0,y.we)({open:t,onOpenChange:n}),{getReferenceProps:o,getFloatingProps:s}=(0,y.bv)([(0,y.kp)(a),(0,y.s9)(a)]),i=Z();return E.createElement("div",{ref:r.setReference,"aria-owns":i,...o()},E.createElement(u.$nd,{size:V.MEDIUM,kind:x.GHOST,onClick:()=>n(!t),renderIcon:t?O.A:N.A,onMouseDown:e=>e.preventDefault(),"aria-label":e.ariaLabel,"aria-haspopup":!0,"aria-expanded":t,"aria-controls":i},e.label),E.createElement(te,{id:i,isOpen:t,target:r.floating.current,label:e.label,containerRef:e.containerRef,menuAlignment:e.menuAlignment},e.children),E.createElement("div",{ref:r.setFloating,className:"WAChatHeaderMenuButton_HostElement",...s()}))}function re({label:e,url:t,isNewTab:n=!0,onClick:r,children:a}){return E.createElement(u.Drp,{label:e,onClick:()=>{r?.(),t&&window.open(t,n?"_blank":"_self")}},a)}function ae(e){const{label:t,items:n,defaultSelectedItem:r,selectedItem:a,onChange:o}=e;return E.createElement(u.nU_,{label:t,items:n,defaultSelectedItem:r,selectedItem:a,onChange:e=>{e.preventDefault||o(e)},itemToString:e=>"string"==typeof e?e:e.label||e.value})}function oe(e){const[t,n]=(0,E.useState)(!1),{refs:r,context:a}=(0,y.we)({open:t,onOpenChange:t=>{n(t),t?e.onOpen?.():e.onClose?.()}}),{getReferenceProps:o,getFloatingProps:s}=(0,y.bv)([(0,y.kp)(a),(0,y.s9)(a)]),i=Z();return E.createElement("div",{ref:r.setReference,"aria-owns":i,...o()},E.createElement(u.$nd,{className:p("WACChatHeaderOverflowMenu__Button",e.className),size:V.MEDIUM,kind:x.GHOST,onClick:()=>n(!t),tooltipPosition:e.tooltipPosition,renderIcon:e.renderIcon,onMouseDown:e=>e.preventDefault(),iconDescription:e.iconDescription,hasIconOnly:!0,"aria-label":e.ariaLabel,"aria-haspopup":!0,"aria-expanded":t,"aria-controls":i}),E.createElement(te,{id:i,label:e.ariaLabel,isOpen:t,target:r.floating.current,containerRef:e.containerRef,menuAlignment:e.menuAlignment},e.children),E.createElement("div",{ref:r.setFloating,className:"WACChatHeaderOverflowMenu__HostElement",...s()}))}let se=class extends T.WF{render(){return function(e){const{title:t,name:n}=e;return T.qy`<div class="WACChatHeaderTitle">
    <span className="WACChatHeaderTitle__Title" ?hidden="${!t}"
      >${t}</span
    >
    <span class="WACChatHeaderTitle__Name">${n}</span>
  </div>`}(this)}};se.styles=T.AH`
    ${(0,T.iz)("cds-chat-header-title{\n  text-align:center;\n}\n\n.WACChatHeaderTitle{\n  overflow:hidden;\n  font-size:var(--cds-chat-BASE-font-size-med);\n  font-weight:400;\n  line-height:var(--cds-chat-BASE-line-height-med);\n  overflow-wrap:break-word;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  word-wrap:break-word;\n}\n\n.WACChatHeaderTitle .WACChatHeaderTitle__Title:only-child{\n  padding-inline-end:0.25rem;\n}\n\n.WACChatHeaderTitle__Name{\n  font-weight:var(--cds-chat-BASE-weight-semibold);\n}")}
  `,(0,A.Cg)([(0,g.MZ)({type:String})],se.prototype,"title",void 0),(0,A.Cg)([(0,g.MZ)({type:String})],se.prototype,"name",void 0),se=(0,A.Cg)([(0,h.c)(`${U}-chat-header-title`)],se);const ie=(0,C.a)({tagName:`${U}-chat-header-title`,elementClass:se,react:E}),le=(0,C.a)({tagName:"cds-custom-ai-label",elementClass:w.A,react:E});function ce(e,t){const{displayName:n,backContent:C,showRestartButton:A,showBackButton:h,useAITheme:T,labelBackButton:I,onClickClose:g,onClickRestart:N,onCloseAndRestart:O,onClickBack:y,overflowItems:M,overflowClicked:P,backButtonType:H,showCenter:L,hideCloseButton:w,hideCloseAndRestartButton:W,brandColor:U="primary",enableChatHeaderConfig:k,headerAvatarConfig:B,testIdPrefix:G}=e,F=(0,E.useRef)(),Y=(0,E.useRef)(),z=(0,E.useRef)(),Z=(0,E.useRef)(),j=(0,E.useRef)(),X=(0,E.useRef)(),q=(0,E.useRef)(),Q=(0,D.u)(),te=(0,b.u)(),se=(0,_.d4)(e=>e.config.public),ce=(0,_.d4)(e=>e.chatHeaderState.config),de=(0,_.d4)(e=>e.chatWidthBreakpoint),me=(0,_.d4)(e=>e.chatHeaderState.maxVisibleHeaderObjects),[pe,Ee]=(0,E.useState)(!1),[_e,fe]=(0,E.useState)(!1),[Ce,Ae]=(0,E.useState)({}),[he,Te]=(0,E.useState)(!1),Se=Boolean(B)&&!he,Ie=(0,E.useContext)(R.a),ge=(0,D.b)(B?.url),{headerConfig:Ne}=se,Oe=de===b.C.WIDE,ye=k?ce?.headerTitle?.title:void 0,Me=(k?ce?.headerTitle?.name:void 0)||n,Re=(0,E.useCallback)(()=>{fe(!1)},[]),be=Ne?.showCloseAndRestartButton&&!W&&O,De=Ne?.hideMinimizeButton||w;let ve,Pe=!1,He=!0;const Le=Ne?.minimizeButtonIconType;switch(Le){case S.M.CLOSE:ve=E.createElement(a.A,{className:"WACIcon__Close",size:16});break;case S.M.MINIMIZE:ve=E.createElement(c.A,{className:"WACIcon__Subtract",size:16});break;case S.M.SIDE_PANEL_LEFT:He=!1,ve=E.createElement(l.A,{className:"WACIcon__SidePanelClose"});break;case S.M.SIDE_PANEL_RIGHT:He=!1,Pe=!0,ve=E.createElement(l.A,{className:"WACIcon__SidePanelClose"});break;default:ve=E.createElement(c.A,{className:"WACIcon__Subtract",size:16})}if(be&&A)throw new Error("You cannot enable both the restart button and the close-and-restart buttons.");const we=(0,E.useCallback)(()=>{fe(!1),O()},[O]);function We(e,t,n){switch(e.type){case f.C.LINK:return E.createElement(re,{key:t,label:e.label,url:e.url,isNewTab:e.isNewTab,onClick:()=>{(0,D.d)(q)}});case f.C.BUTTON:return E.createElement(re,{key:t,label:e.label,onClick:()=>{e.onClick?.(),(0,D.d)(q)}});case f.C.RADIO_GROUP:{const r=n[t+1];return E.createElement(E.Fragment,{key:t},0!==t&&E.createElement(u.OHP,null),E.createElement(ae,{label:e.label,items:e.items,defaultSelectedItem:e.defaultSelectedItem,selectedItem:Ce[e.label],onChange:t=>{Ae(n=>({...n,[e.label]:t})),e.onChange?.(t)}}),Boolean(r)&&r.type!==f.C.RADIO_GROUP&&E.createElement(u.OHP,null))}case f.C.MENU:return E.createElement(re,{key:t,label:e.label},e.items.filter(e=>e.type!==f.C.MENU).map(We));default:return null}}function Ue(e,t){switch(e.type){case f.C.LINK:return E.createElement(ee,{key:t,label:e.label,url:e.url,isNewTab:e.isNewTab});case f.C.MENU:return E.createElement(ne,{key:t,label:e.label,menuAlignment:"bottom-start"},e.items.map(We));case f.C.BUTTON:return E.createElement(u.$nd,{key:t,kind:x.GHOST,size:V.MEDIUM,onClick:e.onClick},e.label);default:return null}}(0,E.useImperativeHandle)(t,()=>({requestFocus:()=>Z.current?((0,D.d)(Z,!1,!0),!0):F.current?((0,D.d)(F,!1,!0),!0):!!Y.current&&((0,D.d)(Y,!1,!0),!0)}));let ke=0,Be=0;k&&(ke=ce?.left?.length??0,Be=ce?.right?.length??0);const Ge=ke>me,Fe=Be>me,xe=(ke||Be)&&(!Oe||Ge||Fe),Ve=Boolean(M?.length)||xe,$e="rtl"===document.dir;let Ye,ze=null,Ke=null,Ze=null,je=null;return k&&(ze=ce?.left?.slice(0,Ge?me:void 0).map(Ue),Ke=ce?.right?.slice(0,Fe?me:void 0).map(Ue),Ze=Ge&&ce?.left?.slice(me).map(We),je=Fe&&ce?.right?.slice(me).map(We)),Ve?Ye=E.createElement(oe,{className:"WACHeader__OverflowMenu",renderIcon:pe?r.A:s.A,iconDescription:te.header_overflowMenu_options,ariaLabel:te.components_overflow_ariaLabel,containerRef:q,tooltipPosition:$e?"left":"right",menuAlignment:"bottom-start",onOpen:()=>{setTimeout(()=>{Ee(!0)})},onClose:()=>{Ee(!1)}},M?.map((e,t)=>E.createElement(u.Drp,{key:e,label:e,onClick:()=>{(0,D.d)(q),P(t)}})),Ze,je):h&&(Ye=E.createElement(ue,{className:"WACHeader__BackButton",label:I,onClick:y,buttonRef:F,buttonKind:H,tooltipPosition:$e?"left":"right"},C||E.createElement(o.A,null))),(0,E.useEffect)(()=>{if(!Oe)return void Q.store.dispatch(v.a.setMaxVisibleHeaderObjects(0));if(!k)return;const e=new ResizeObserver(()=>{const e=X.current;if(e&&(e.offsetWidth>100||0===e.offsetWidth)){let e=Math.floor((j.current.offsetWidth-100)/200);e<0&&(e=0),setTimeout(()=>{Q.store.dispatch(v.a.setMaxVisibleHeaderObjects(e))})}});return e.observe(j.current),()=>{e.disconnect()}},[Oe,k,Q]),(0,E.useEffect)(()=>{he&&ge!==B?.url&&Te(!1)},[ge,B?.url,he]),E.createElement("div",{className:p("WACHeader",`WAC--${U}Color`,{"WACHeader--withAvatar":Se})},E.createElement("div",{className:p("WACHeader--content",`WAC--${U}Color`),"data-floating-menu-container":!0},Ye&&E.createElement("div",{className:"WACHeader__Buttons WACHeader__LeftButtons"},Ye),L&&E.createElement("div",{className:"WACHeader__CenterContainer"},Se&&E.createElement(J,{url:B.url,corners:B.corners,alt:te.header_ariaBotAvatar,onError:()=>Te(!0)}),(ye||Me)&&E.createElement("div",{className:"WACHeader__TitleContainer"},E.createElement(ie,{title:ye,name:Me})),Oe&&Boolean(ke)&&E.createElement("div",{className:"WACHeader__Separator"}),E.createElement("div",{ref:j,className:"WACHeader__HeaderObjects"},Oe&&Boolean(ke)&&E.createElement("div",{className:"WACHeader__LeftItems"},ze),E.createElement("div",{ref:X,className:"WACHeader__CenterGap"}),Oe&&Boolean(Be)&&E.createElement("div",{className:"WACHeader__RightItems"},Ke))),E.createElement("div",{className:"WACHeader__Buttons WACHeader__RightButtons"},T&&E.createElement(le,{className:"WACHeader__Slug",size:d.G.EXTRA_SMALL,alignment:$e?m.U.BOTTOM_LEFT:m.U.BOTTOM_RIGHT},E.createElement("div",{slot:"body-text"},E.createElement("h4",{className:"WACHeader__Slug-title"},te.ai_slug_title),E.createElement("div",{className:"WACHeader__Slug-description"},E.createElement("div",null,te.ai_slug_description),!Ie&&E.createElement($,{slotName:S.W.AI_TOOLTIP_AFTER_DESCRIPTION_ELEMENT,id:`aiTooltipAfterDescription${Q.namespace.suffix}`})))),A&&E.createElement(ue,{className:"WACHeader__RestartButton",label:te.buttons_restart,onClick:N,buttonRef:Y,tooltipPosition:$e?"right":"left"},E.createElement(i.A,null)),!De&&E.createElement(ue,{className:p("WACHeader__CloseButton",{WACReverseIcon:Pe}),isReversible:He,label:te.launcher_isOpen,onClick:async()=>{g()},buttonRef:Z,tooltipPosition:$e?"right":"left",testId:(0,f.m)(f.P.CLOSE_CHAT,G)},ve),be&&E.createElement(ue,{className:"WACHeader__CloseAndRestartButton",label:te.header_ariaCloseRestart,onClick:()=>fe(!0),buttonRef:z,tooltipPosition:$e?"right":"left"},E.createElement(a.A,{className:"WACIcon__Close"}))),_e&&E.createElement(K,{title:te.closeAndRestartModal_title,message:te.closeAndRestartModal_message,onConfirm:we,onCancel:Re,cancelButtonLabel:te.closeAndRestartModal_cancel,confirmButtonLabel:te.closeAndRestartModal_confirm,modalAnnounceMessage:te.closeAndRestartModal_message,serviceManager:Q})))}function ue({onClick:e,buttonRef:t,label:n,className:r,children:a,buttonKind:o,isReversible:s=!0,tooltipPosition:i,testId:l}){return E.createElement(u.$nd,{ref:t,className:p(r,{WACDirectionHasReversibleSVG:s}),onClick:e,hasIconOnly:!0,iconDescription:n,size:V.MEDIUM,kind:o||x.GHOST,tooltipPosition:i,"data-testid":l},a)}const de=E.memo((0,E.forwardRef)(ce))},3744:function(e,t,n){n.d(t,{A:function(){return g},S:function(){return i},a:function(){return d},b:function(){return N},c:function(){return c},d:function(){return p},e:function(){return E},f:function(){return h},g:function(){return I},h:function(){return f},i:function(){return S},j:function(){return A},k:function(){return C},l:function(){return _},m:function(){return u},u:function(){return l}});var r=n(3696),a=n(2271),o=n(711),s=n(3066);const i=r.createContext(null);function l(){return(0,r.useContext)(i)}const c=(0,o.A)(function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n});function u(e,t=!1,n){e&&(0,a.O)(e,{boundary:n,scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:e,top:n,left:r})=>{d(e,Math.round(n),Math.round(r),t)})}function d(e,t,n,r=!1){setTimeout(()=>{e&&(r&&e.scroll?e.scroll({top:t,left:n,behavior:"smooth"}):(e.scrollTop=t,e.scrollLeft=n))})}function m(e,t=!1){e&&document.activeElement!==e&&(0,s.tabbable)(e,{getShadowRoot:!0})&&e.focus({preventScroll:t})}function p(e,t=!1,n=!1){e&&(t?setTimeout(()=>{p(e)}):e.current&&m(e.current,n))}function E(e){return 1===e?.nodeType}function _(e){return 3===e?.nodeType}function f(e){return"INPUT"===e?.tagName}function C(e){return"IMG"===e?.tagName}function A(e){return"TEXTAREA"===e?.tagName}function h(e){for(let t=0;t<e.length;t++)if(T(e[t]))return!0;return!1}function T(e){const t=(0,s.tabbable)(e,{getShadowRoot:!0});return!!t?.length&&(m(t[0]),!0)}function S(e){return"Enter"===e.key&&!function(e){return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey}(e)&&!(e.isComposing||229===e.keyCode)}function I(e){return e?e.scrollHeight-e.offsetHeight-e.scrollTop:0}const g=r.createContext(null);function N(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},8213:function(e,t,n){n.d(t,{H:function(){return s},a:function(){return o}});var r=n(4452),a=n(3696);const o=a.createContext(!1);function s(e){const{hidden:t,children:n,className:s,...i}=e;return a.createElement(o.Provider,{value:t},a.createElement("div",{className:r(s,{WAC__hidden:t}),...i},n))}},8241:function(e,t,n){n.d(t,{A:function(){return a},C:function(){return s},O:function(){return o},P:function(){return i},a:function(){return m},b:function(){return r},m:function(){return p}});var r,a,o,s,i,l=n(4452),c=n(3696),u=n(481),d=n(8213);!function(e){e.NONE="none",e.FADE_IN="fadeIn",e.SLIDE_IN_FROM_LEFT="slideInFromLeft",e.SLIDE_IN_FROM_RIGHT="slideInFromRight",e.SLIDE_IN_FROM_BOTTOM="slideInFromBottom",e.BRANDING_SLIDE_IN_FROM_BOTTOM="brandingSlideInFromBottom"}(r||(r={})),function(e){e.NONE="none",e.FADE_OUT="fadeOut",e.SLIDE_OUT_TO_LEFT="slideOutToLeft",e.SLIDE_OUT_TO_RIGHT="slideOutToRight",e.SLIDE_OUT_TO_TOP="slideOutToTop",e.SLIDE_OUT_TO_BOTTOM="slideOutToBottom"}(a||(a={})),function(e){e.MAIN="main",e.DISCLAIMER="disclaimer",e.HOME_SCREEN="home_screen",e.HYDRATING="hydrating",e.CATASTROPHIC="catastrophic",e.IFRAME="iframe",e.CONVERSATIONAL_SEARCH_CITATION="conversational_search_citation",e.CUSTOM="custom",e.SHOW_PANEL="show_panel",e.PANEL_RESPONSE="panel_response"}(o||(o={}));class m extends c.PureComponent{constructor(){super(...arguments),this.state={isClosing:!1,isOpening:!1},this.openPanelTimeout=null,this.closePanelTimeout=null,this.openPanel=()=>{const{onOpenEnd:e,onOpenStart:t,animationOnOpen:n,animationDurationOpen:a}=this.props;t?.(),this.setState({isClosing:!1,isOpening:!0});const o=n===r.NONE?0:a||240;this.openPanelTimeout=(0,u.e)(()=>{this.setState({isClosing:!1,isOpening:!1}),e?.()},o)},this.closePanel=()=>{const{onCloseEnd:e,onCloseStart:t,animationOnClose:n,animationDurationClose:r}=this.props;t?.(),this.setState({isClosing:!0,isOpening:!1});const o=n===a.NONE?0:r||240;this.closePanelTimeout=(0,u.e)(()=>{this.setState({isClosing:!1,isOpening:!1}),e?.()},o)}}componentDidMount(){const{shouldOpen:e}=this.props;e&&this.openPanel()}componentDidUpdate(e){const{shouldOpen:t}=this.props;t!==e.shouldOpen&&(t?this.openPanel():this.closePanel())}componentWillUnmount(){this.openPanelTimeout&&clearTimeout(this.openPanelTimeout),this.closePanelTimeout&&clearTimeout(this.closePanelTimeout),this.props.shouldOpen&&(this.props.onCloseStart&&this.props.onCloseStart(),this.props.onCloseEnd&&this.props.onCloseEnd())}render(){const{children:e,className:t,shouldOpen:n,animationOnClose:r,animationOnOpen:a,overlayPanelName:o}=this.props,{isClosing:s,isOpening:i}=this.state;return c.createElement(d.H,{hidden:!s&&!n,className:l("WAC__overlay-panelContainer",`WAC__overlay--${o}`,t,{"WAC__overlay-panelContainer--animating":i||s})},c.createElement("div",{className:l("WAC__overlay-panel",`WAC__overlay-panel--${o}`,{[`WAC__overlay-panel--closing--${r}`]:s,"WAC__overlay-panel--closed":!s&&!n,[`WAC__overlay-panel--opening--${a}`]:i,"WAC__overlay-panel--open":!i&&n})},e))}}function p(e,t){return t?`${t}-${e}`:e}!function(e){e.LINK="link",e.MENU="menu",e.BUTTON="button",e.RADIO_GROUP="radio-group"}(s||(s={})),function(e){e.CLOSE_CHAT="close_chat",e.LAUNCHER="launcher_open_chat",e.INPUT="input_field",e.INPUT_SEND="input_send"}(i||(i={}))},9708:function(e,t,n){n.d(t,{C:function(){return s},L:function(){return a},u:function(){return o}});var r=n(3696);const a=r.createContext(null);function o(){return(0,r.useContext)(a)}var s;!function(e){e.NARROW="narrow",e.STANDARD="standard",e.WIDE="wide"}(s||(s={}))}}]);
//# sourceMappingURL=2865.bundle.js.map