/*! For license information please see 2223.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[2223],{1200:function(e,t,n){n(7181)},2117:function(e,t,n){n.d(t,{A:function(){return c}});var o,a,r,l,s=n(3696),i=n(1709);const c=s.forwardRef(function({children:e,size:t=16,...n},c){return 16===t||"16"===t||"16px"===t?s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...n},o||(o=s.createElement("path",{d:"M9.3 3.7L13.1 7.5 1 7.5 1 8.5 13.1 8.5 9.3 12.3 10 13 15 8 10 3z"})),e):20===t||"20"===t||"20px"===t?s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n},a||(a=s.createElement("path",{d:"M11.8 2.8L10.8 3.8 16.2 9.3 1 9.3 1 10.7 16.2 10.7 10.8 16.2 11.8 17.2 19 10z"})),e):24===t||"24"===t||"24px"===t?s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},r||(r=s.createElement("path",{d:"M14 4L12.9 5.1 18.9 11.2 2 11.2 2 12.8 18.9 12.8 12.9 18.9 14 20 22 12z"})),e):s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},l||(l=s.createElement("path",{d:"M18 6L16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6z"})),e)})},2223:function(e,t,n){n.r(t),n.d(t,{HomeScreenContainer:function(){return H}});var o,a=n(3696),r=n(5022),l=n(5608),s=n(6683),i=n(4271),c=n(4458),u=n(2117),m=n(4013),d=n(4452),p=n(8710),C=n(6254),_=n(5822),A=n(2870),h=n(6574),f=n(8205),S=n(5884);!function(e){e.NONE="none",e.SOLID="solid",e.BOTTOM_UP="bottom_up"}(o||(o={}));var E=n(6543),g=n(8795);function b({botName:e,botAvatarURL:t,homeScreenConfig:n,homeScreenMessageInputRef:i,onStarterClick:c,onSendInput:b,isHydrated:v,onClose:w,onCloseAndRestart:H,onRestart:N,onToggleHomeScreen:W}){const T=(0,p.A)(),R=(0,C.D)(),I=(0,s.O)(),[L,x]=(0,a.useState)(!1),{showBackToBot:B}=(0,r.d4)(e=>e.persistedToBrowserStorage.chatState.homeScreenState),y=(0,l.Z)(v),k=(0,r.d4)(e=>e.theme.useAITheme),M=I.writeableElements[g.t.HOME_SCREEN_AFTER_STARTERS_ELEMENT].hasChildNodes(),{greeting:O,starters:$,bot_avatar_url:F,background:U,custom_content_only:z}=n,D=$?.is_on&&Boolean($.buttons?.length),{suffix:P}=I.namespace,Z=P?`--${P}`:"",K=F||t,V=T.formatMessage({id:"header_ariaBotAvatar"},{botName:e}),G=!k&&U===o.SOLID,Q=!k&&U===o.BOTTOM_UP,q=K&&!L&&!k&&!z,j=v&&!y;return a.createElement("div",{className:d("WACHomeScreen",{"WACHomeScreen--backgroundAITheme":k,"WACHomeScreen--hydrationComplete":v,"WACHomeScreen--firstRender":j,"WACHomeScreen--backgroundSolid":G,"WACHomeScreen--backgroundGradientBottomUp":Q})},a.createElement(S.Z,{brandColor:G?_.L4.ACCENT:_.L4.PRIMARY,onRestart:N,onClose:w,onCloseAndRestart:H}),a.createElement(f.A,{slotName:g.t.HOME_SCREEN_HEADER_BOTTOM_ELEMENT,className:"WACHomeScreen__HomeScreenBottomElement",id:`homeScreenHeaderBottomElement${I.namespace.suffix}`}),a.createElement("div",{className:"WACPanelContent WACHomeScreen__content"},a.createElement("div",{className:"WACHomeScreen__bodyWrapper"},a.createElement("div",{className:d("WACHomeScreen__body",{"WACHomeScreen__body--noCustomContent":!M,"WACHomeScreen__body--customContent":M,"WACHomeScreen__body--customContentOnly":z,"WACHomeScreen__body--noAvatar":!q})},q&&a.createElement("div",{className:"WACHomeScreen__avatarHolder"},a.createElement("img",{className:"WACHomeScreen__botAvatar",src:K,alt:V,onError:()=>{x(!0),(0,A.yA)("The bot avatar URL failed to load.")}})),a.createElement("div",{className:"WACHomeScreen__initialContent"},!z&&a.createElement("div",{className:"WACHomeScreen__greeting"},O),!z&&D&&a.createElement("div",{className:d("WACHomeScreen__starters",{"WACHomeScreen__starters--animateGroup":$.buttons.length>5})},$.buttons.map((e,t)=>a.createElement(m.bJ3,{type:"button",size:E.Ni.SMALL,kind:E.wQ.TERTIARY,isQuickAction:!0,key:t,id:`WACHomeScreen__starter-${t}${Z}`,className:"WACHomeScreen__starter",onClick:()=>c(e)},e.label))))),a.createElement("div",{className:d("WACHomeScreen__customContent",{"WACHomeScreen__customContent--customContentOnly":z,"WACHomeScreen__customContent--animation":(M||z)&&!G})},a.createElement(f.A,{slotName:g.t.HOME_SCREEN_AFTER_STARTERS_ELEMENT,id:`homeScreenAfterStartersElement${I.namespace.suffix}`}))),a.createElement("div",{className:d("WACHomeScreen__inputContainerWrapper",{"WACHomeScreen__inputContainerWrapper--noCustomContent":!M&&!z})},B&&a.createElement(m.bJ3,{type:"button",size:E.Ni.SMALL,kind:E.wQ.SECONDARY,id:"WACHomeScreen__backButton",className:"WACHomeScreen__backButton",onClick:W},a.createElement("span",{className:"WACHomeScreen__backButtonContent"},a.createElement("span",{className:"WACHomeScreen__backButtonContentText"},R.homeScreen_returnToAssistant),a.createElement(u.A,null))),a.createElement(f.A,{slotName:g.t.HOME_SCREEN_BEFORE_INPUT_ELEMENT,id:`homeScreenBeforeInputElement${I.namespace.suffix}`}),a.createElement("div",{className:"WACHomeScreen__inputContainer"},a.createElement(h.p,{ref:i,onSendInput:b,disableInput:!1,isInputVisible:!0,disableSend:!1,inputType:"homeScreen",languagePack:R,serviceManager:I})))))}const v=a.memo(b);var w=n(7391);function H({onClose:e,onCloseAndRestart:t,onPanelCloseStart:n,onPanelOpenStart:o,onPanelCloseEnd:u,onPanelOpenEnd:m,onSendBotInput:d,onSendButtonInput:p,onRestart:C,showHomeScreen:_,isHydrationAnimationComplete:A,homeScreenInputRef:h,onToggleHomeScreen:f}){const S=(0,s.O)(),E=(0,r.d4)(e=>e.homeScreenConfig),g=(0,r.d4)(e=>e.botAvatarURL),b=(0,r.d4)(e=>e.botName),H=(0,r.d4)(e=>e.customPanelState.isOpen),N=(0,l.Z)(A),W=H,T=_&&A&&N,R=(0,a.useCallback)(e=>{d(e)},[d]),I=(0,a.useCallback)(e=>{p({label:e.label,value:{input:{text:e.label}}},w.R2)},[p]);return a.createElement(c.j,{onOpenStart:o,onOpenEnd:m,onCloseStart:n,onCloseEnd:u,animationOnOpen:T?i.K.FADE_IN:i.K.NONE,animationOnClose:i.v.FADE_OUT,shouldOpen:_,shouldHide:W,serviceManager:S,overlayPanelName:c.G.HOME_SCREEN},a.createElement(v,{botName:b,botAvatarURL:g,isHydrated:A,homeScreenMessageInputRef:h,homeScreenConfig:E,onSendInput:R,onStarterClick:I,onClose:e,onCloseAndRestart:t,onRestart:C,onToggleHomeScreen:f}))}},2417:function(e,t,n){n.d(t,{A:function(){return l}});var o,a=n(3696),r=n(1709);const l=a.forwardRef(function({children:e,size:t=16,...n},l){return a.createElement(r.A,{width:t,height:t,ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},o||(o=a.createElement("path",{d:"M28.1,18.9L13.1,3.9c-2.5-2.6-6.6-2.6-9.2-0.1S1.3,10.5,3.9,13c0,0,0.1,0.1,0.1,0.1L6.8,16l1.4-1.4l-2.9-2.9 C3.6,10,3.6,7.1,5.3,5.4s4.6-1.8,6.3-0.1c0,0,0,0,0.1,0.1l14.9,14.9c1.8,1.7,1.8,4.6,0.1,6.3c-1.7,1.8-4.6,1.8-6.3,0.1 c0,0,0,0-0.1-0.1l-7.4-7.4c-1-1-0.9-2.6,0-3.5c1-0.9,2.5-0.9,3.5,0l4.1,4.1l1.4-1.4c0,0-4.2-4.2-4.2-4.2c-1.8-1.7-4.6-1.6-6.3,0.2 c-1.6,1.7-1.6,4.4,0,6.2l7.5,7.5c2.5,2.6,6.6,2.6,9.2,0.1S30.7,21.5,28.1,18.9C28.1,19,28.1,18.9,28.1,18.9L28.1,18.9z"})),e)})},6574:function(e,t,n){n.d(t,{p:function(){return $}});var o,a=n(2417),r=n(6854),l=n(3696),s=n(1709);const i=l.forwardRef(function({children:e,size:t=16,...n},a){return l.createElement(s.A,{width:t,height:t,ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},o||(o=l.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L6.69,15H18v2H6.69L4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Z"})),e)});var c=n(4013),u=n(4452),m=n(3210),d=n(4629),p=n(3981),C=(n(1200),n(1523)),_=n(3192),A=n(4574),h=n(404),f=n(6543);const S=(0,C.dI)({elem:"svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},content:[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M11,10c0,0.6-0.4,1-1,1H6c-0.6,0-1-0.4-1-1V6c0-0.6,0.4-1,1-1h4\tc0.6,0,1,0.4,1,1V10z"}}],name:"stop--filled",size:16});var E=n(9890),g=n(619);class b extends _.WF{_handleOnClick(){this.onClick()}}b.styles=_.AH`
    ${(0,_.iz)(".cds--aichat-stop-icon svg{\n  fill:var(--cds-icon-disabled, rgba(22, 22, 22, 0.25));\n}")}
  `,(0,d.Cg)([(0,g.MZ)({type:String,attribute:"label"})],b.prototype,"label",void 0),(0,d.Cg)([(0,g.MZ)({type:String,attribute:"tooltip-alignment"})],b.prototype,"tooltipAlignment",void 0),(0,d.Cg)([(0,g.MZ)({type:Boolean,attribute:"disabled"})],b.prototype,"disabled",void 0),(0,d.Cg)([(0,g.MZ)({type:Object})],b.prototype,"onClick",void 0),(0,d.Cg)([E.oI],b.prototype,"_handleOnClick",null);let v=class extends b{render(){return function({label:e,disabled:t,tooltipAlignment:n,onClick:o}){return _.qy`
    <cds-custom-icon-button
      class="${h.o}-stop-streaming-button"
      align="${n}"
      kind="${f.wQ.GHOST}"
      size="${f.Ni.SMALL}"
      ?disabled=${t}
      @click="${o}"
    >
      <span
        class="${t?`${h.o}-stop-icon`:""}"
        slot="icon"
        >${(0,A.T)(S)}</span
      >
      <span slot="tooltip-content">${e}</span>
    </cds-custom-icon-button>
  `}(this)}};v=(0,d.Cg)([(0,p.Q)("cds-aichat-stop-streaming-button")],v);const w=(0,m.a)({tagName:"cds-aichat-stop-streaming-button",elementClass:v,react:l});var H=n(7113),N=n(1748),W=n(9049),T=n(5230),R=n(7338),I=n(6753);class L{constructor(){this.listeners=[]}addListener(e){this.listeners=[...this.listeners,e]}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}fireListeners(...e){this.listeners.length&&this.listeners.forEach(t=>t(...e))}}var x=n(2870);class B extends l.PureComponent{constructor(){super(...arguments),this.textAreaRef=l.createRef()}getHTMLElement(){return this.textAreaRef.current}takeFocus(){(0,R.Ht)(this.textAreaRef,!1,!0)}doBlur(){this.textAreaRef.current.blur()}render(){const{isRequired:e,name:t,id:n,onFocus:o,onBlur:a,onClick:r,onChange:s,onKeyDown:i,rows:c,value:m,autoSize:d,maxLength:p,disabled:C,placeholder:_,ariaLabel:A,testId:h,onSelect:f}=this.props;return l.createElement("div",{className:u("WAC__TextArea",{"WAC__TextArea--autoSize":d,"WAC__TextArea--disabled":C})},l.createElement("textarea",{ref:this.textAreaRef,"aria-label":A,"aria-required":e,className:"WAC__TextArea-textarea",disabled:C,id:n,maxLength:p,name:t,onFocus:o,onBlur:a,onClick:r,onChange:s,onKeyDown:i,onSelect:f,placeholder:_,rows:c,value:m||"","data-enable-grammarly":!1,"data-test-id":h}),d&&l.createElement("div",{className:"WAC__TextArea-sizer"},m||_||" "))}}B.defaultProps={isRequired:!1,maxLength:1e4};var y=n(5505),k=n(6895),M=n(577);function O(e,t){const{inputType:n,isInputVisible:o,placeholder:s,disableInput:m,disableSend:d,disableUploadButton:p,pendingUploads:C,allowedFileUploadTypes:_,allowMultipleFileUploads:A,showUploadButton:h,onFilesSelectedForUpload:S,onSendInput:E,blurOnSend:g,serviceManager:b,onUserTyping:v,languagePack:O,isStopStreamingButtonVisible:$,isStopStreamingButtonDisabled:F}=e,U=`${b.namespace.suffix}-${(0,H.I)()}`,[z,D]=(0,l.useState)(!1),[P,Z]=(0,l.useState)(""),K=(0,l.useRef)(!0),V=(0,l.useRef)(null),G=(0,l.useRef)(),Q=(0,l.useRef)(),q=(0,l.useRef)(new L),j=(0,l.useRef)(""),Y=(0,l.useRef)({getHTMLElement:()=>G?.current?.getHTMLElement(),setValue:e=>Z(e),setEnableEnterKey:e=>{K.current=e},addChangeListener:e=>q.current.addListener(e),removeChangeListener:e=>q.current.removeListener(e)});function J(){V.current&&(clearTimeout(V.current),V.current=null,v?.(!1))}function X(e){if(ne()){e.preventDefault(),J();const t=P.trim();E(t),Z(""),g?G.current.doBlur():G.current.takeFocus()}}function ee(){!T.yS&&o&&G.current.takeFocus()}function te(e,t){return`${e}${n?`--${n}`:""}${t?"":b.namespace.suffix}`}function ne(){const e=Boolean(C?.length);return(!e||!C.find(e=>!(0,x.tk)(e)))&&(Boolean(P.trim())||e)}z&&m&&D(!1),(0,l.useImperativeHandle)(t,()=>({takeFocus:ee,getMessageInput:()=>Y.current}));const{input_buttonLabel:oe,input_placeholder:ae,input_ariaLabel:re,input_uploadButtonLabel:le,input_stopResponse:se}=O,ie=m?"":P,ce=ne(),ue=!ce||m||d,me=p||m,de=`WACInputContainer__UploadInput-${U}`,pe="rtl"===document.dir,Ce=s||(m?void 0:ae);return j.current!==P&&(j.current=P,q.current.fireListeners(P)),o&&l.createElement("div",{className:"WACInputAndCompletions"},l.createElement("div",{className:u("WACInputContainer",{"WACInputContainer--hasFocus":z,"WACInputContainer--showUploadButton":h})},l.createElement("div",{className:"WACInputContainer__LeftContainer"},l.createElement("div",{className:"WACInputContainer__TextAndUpload"},h&&l.createElement("div",{className:"WACInputContainer__UploadButtonContainer"},l.createElement("input",{ref:Q,accept:_,id:de,className:"WACVisuallyHidden WACInputContainer__UploadInput",type:"file","aria-label":le,onChange:function(e){const t=(0,W.PK)(b.store.getState()),{dispatch:n}=b.store,{files:o}=e.target,a=[];for(let e=0;e<o.length;e++){const r={id:(0,I.u)(M.y.FILE),status:k.aT.EDIT,file:o[e]};a.push(r),n(N.Ay.addInputFile(r,t))}S?.(a),Q.current.value=null},multiple:A,disabled:me}),l.createElement("label",{className:u("WACInputContainer__UploadButton",{"WACInputContainer__UploadButton--disabled":me}),htmlFor:de},l.createElement(a.A,null))),l.createElement(B,{autoSize:!0,ariaLabel:re,disabled:m,maxLength:2048,onChange:function(e){const t=e.target.value;v&&(V.current?clearTimeout(V.current):v(!0),V.current=setTimeout(J,5e3)),Z(t)},onKeyDown:function(e){(0,R.Ci)(e)&&(d||!K.current?e.preventDefault():X(e))},placeholder:Ce,value:ie,ref:G,onFocus:function(){D(!0)},onBlur:function(){D(!1)},id:te("WACInputContainer-TextArea"),testId:te("WACInputContainer-TextArea",!0)})),Boolean(C?.length)&&l.createElement("div",{className:"WACInputContainer__FilesContainer"},C.map((e,t)=>l.createElement(c.ssm,{key:t,iconDescription:O.fileSharing_removeButtonTitle,name:e.file.name,status:k.aT.EDIT,errorSubject:e.errorMessage,invalid:e.isError,size:f.Ni.SMALL,onDelete:()=>function(e){const t=(0,W.PK)(b.store.getState());b.store.dispatch(N.Ay.removeFileUpload(e,t)),G.current.takeFocus()}(e.id)})))),l.createElement("div",{className:"WACInputContainer__SendButtonContainer"},$&&l.createElement(w,{label:se,disabled:F,tooltipAlignment:"top",onClick:()=>{const{store:e}=b;e.dispatch(N.Ay.setStopStreamingButtonDisabled(!0)),b.fire({type:y.xp.STOP_STREAMING})}}),l.createElement(c.$nd,{className:"WACInputContainer__SendButton",kind:f.wQ.GHOST,size:f.Ni.SMALL,id:te("WACInputContainer__SendButton"),type:"button",onClick:X,"aria-label":oe,disabled:ue,renderIcon:ce?i:r.A,iconDescription:oe,tooltipAlignment:pe?"start":"end",tooltipPosition:"top",hasIconOnly:!0}))))}const $=l.memo((0,l.forwardRef)(O))},6854:function(e,t,n){n.d(t,{A:function(){return l}});var o,a=n(3696),r=n(1709);const l=a.forwardRef(function({children:e,size:t=16,...n},l){return a.createElement(r.A,{width:t,height:t,ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},o||(o=a.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L7,16,4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Zm-20.9,10L8.76,17H18V15H8.76L6.55,6.89,24.76,16Z"})),e)})},7113:function(e,t,n){n.d(t,{I:function(){return r}});var o=n(3696);let a=1;function r(){const e=(0,o.useRef)();return void 0===e.current&&(e.current=a++),e.current}}}]);
//# sourceMappingURL=2223.bundle.js.map