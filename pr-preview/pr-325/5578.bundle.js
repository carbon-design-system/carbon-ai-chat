/*! For license information please see 5578.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[5578],{3926:function(e,t,n){n.d(t,{I:function(){return O}});var s=n(2417),a=n(6854),r=n(2554),i=n(3210),o=n(3696),l=n(1263),c=n(1807),d=n(4307),m=n(4452),u=n(4629),g=n(1536),p=(n(1200),n(1523)),f=n(7924),h=n(3192),C=n(4574),E=n(2865),A=n(4720),_=n(9890),b=n(619),v=n(9473),y=n(1517),S=n(9124),M=n(481),I=n(3744),W=n(171),N=n(4859),R=n(8241);const k=(0,i.a)({tagName:"cds-custom-file-uploader-item",elementClass:c.Ay,react:o,events:{onBeingDeleted:"cds-custom-file-uploader-item-beingdeleted",onDelete:"cds-custom-file-uploader-item-deleted"}}),T=(0,p.dI)(f.A);class w extends h.WF{_handleOnClick(){this.onClick()}}w.styles=h.AH`
    ${(0,h.iz)(".cds--aichat-stop-icon svg{\n  fill:var(--cds-icon-disabled, rgba(22, 22, 22, 0.25));\n}")}
  `,(0,u.Cg)([(0,b.MZ)({type:String,attribute:"label"})],w.prototype,"label",void 0),(0,u.Cg)([(0,b.MZ)({type:String,attribute:"tooltip-alignment"})],w.prototype,"tooltipAlignment",void 0),(0,u.Cg)([(0,b.MZ)({type:Boolean,attribute:"disabled"})],w.prototype,"disabled",void 0),(0,u.Cg)([(0,b.MZ)({type:Object})],w.prototype,"onClick",void 0),(0,u.Cg)([_.oI],w.prototype,"_handleOnClick",null);let x=class extends w{render(){return function({label:e,disabled:t,tooltipAlignment:n,onClick:s}){return h.qy`
    <cds-custom-icon-button
      class="${E.b}-stop-streaming-button"
      align="${n}"
      kind="${A.B.GHOST}"
      size="${A.a.SMALL}"
      ?disabled=${t}
      @click="${s}"
    >
      <span
        class="${t?`${E.b}-stop-icon`:""}"
        slot="icon"
        >${(0,C.T)(T)}</span
      >
      <span slot="tooltip-content">${e}</span>
    </cds-custom-icon-button>
  `}(this)}};x=(0,u.Cg)([(0,g.c)("cds-aichat-stop-streaming-button")],x);const F=(0,i.a)({tagName:"cds-aichat-stop-streaming-button",elementClass:x,react:o});class B{constructor(){this.listeners=[]}addListener(e){this.listeners=[...this.listeners,e]}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}fireListeners(...e){this.listeners.length&&this.listeners.forEach(t=>t(...e))}}class H extends o.PureComponent{constructor(){super(...arguments),this.textAreaRef=o.createRef()}getHTMLElement(){return this.textAreaRef.current}takeFocus(){(0,I.d)(this.textAreaRef,!1,!0)}doBlur(){this.textAreaRef.current.blur()}render(){const{isRequired:e,name:t,id:n,onFocus:s,onBlur:a,onClick:r,onChange:i,onKeyDown:l,rows:c,value:d,autoSize:u,maxLength:g,disabled:p,placeholder:f,ariaLabel:h,testId:C,onSelect:E}=this.props;return o.createElement("div",{className:m("WAC__TextArea",{"WAC__TextArea--autoSize":u,"WAC__TextArea--disabled":p})},o.createElement("textarea",{ref:this.textAreaRef,"aria-label":h,"aria-required":e,className:"WAC__TextArea-textarea",disabled:p,id:n||C,maxLength:g,name:t,onFocus:s,onBlur:a,onClick:r,onChange:i,onKeyDown:l,onSelect:E,placeholder:f,rows:c,value:d||"","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false","data-testid":C}),u&&o.createElement("div",{className:"WAC__TextArea-sizer"},d||f||" "))}}function U(e,t){const{isInputVisible:n,placeholder:i,disableInput:c,disableSend:u,disableUploadButton:p,pendingUploads:f,allowedFileUploadTypes:h,allowMultipleFileUploads:C,showUploadButton:E,onFilesSelectedForUpload:_,onSendInput:b,blurOnSend:T,serviceManager:w,onUserTyping:x,languagePack:U,isStopStreamingButtonVisible:O,isStopStreamingButtonDisabled:D,testIdPrefix:L}=e,$=`${w.namespace.suffix}-${(0,v.u)()}`,[z,P]=(0,o.useState)(!1),[q,G]=(0,o.useState)(""),V=(0,o.useRef)(!0),Z=(0,o.useRef)(null),K=(0,o.useRef)(),X=(0,o.useRef)(),j=(0,o.useRef)(new B),Y=(0,o.useRef)(""),J=(0,o.useRef)({getHTMLElement:()=>K?.current?.getHTMLElement(),setValue:e=>G(e),setEnableEnterKey:e=>{V.current=e},addChangeListener:e=>j.current.addListener(e),removeChangeListener:e=>j.current.removeListener(e)});function Q(){Z.current&&(clearTimeout(Z.current),Z.current=null,x?.(!1))}function ee(e){if(ne()){e.preventDefault(),Q();const t=q.trim();b(t),G(""),T?K.current.doBlur():K.current.takeFocus()}}function te(){!M.I&&n&&K.current.takeFocus()}function ne(){const e=Boolean(f?.length);return(!e||!f.find(e=>!(0,N.i)(e)))&&(Boolean(q.trim())||e)}z&&c&&P(!1),(0,o.useImperativeHandle)(t,()=>({takeFocus:te,getMessageInput:()=>J.current}));const{input_buttonLabel:se,input_placeholder:ae,input_ariaLabel:re,input_uploadButtonLabel:ie,input_stopResponse:oe}=U,le=c?"":q,ce=ne(),de=!ce||c||u,me=p||c,ue=`WACInputContainer__UploadInput-${$}`,ge="rtl"===document.dir,pe=i||(c?void 0:ae);return Y.current!==q&&(Y.current=q,j.current.fireListeners(q)),n&&o.createElement("div",{className:"WACInputAndCompletions"},o.createElement("div",{className:m("WACInputContainer",{"WACInputContainer--hasFocus":z,"WACInputContainer--showUploadButton":E})},o.createElement("div",{className:"WACInputContainer__LeftContainer"},o.createElement("div",{className:"WACInputContainer__TextAndUpload"},E&&o.createElement("div",{className:"WACInputContainer__UploadButtonContainer"},o.createElement("input",{ref:X,accept:h,id:ue,className:"WACVisuallyHidden WACInputContainer__UploadInput",type:"file","aria-label":ie,onChange:function(e){const t=(0,S.b)(w.store.getState()),{dispatch:n}=w.store,{files:s}=e.target,a=[];for(let e=0;e<s.length;e++){const r={id:(0,W.u)(W.U.FILE),status:g.F.EDIT,file:s[e]};a.push(r),n(y.a.addInputFile(r,t))}_?.(a),X.current.value=null},multiple:C,disabled:me}),o.createElement("label",{className:m("WACInputContainer__UploadButton",{"WACInputContainer__UploadButton--disabled":me}),htmlFor:ue},o.createElement(s.A,null))),o.createElement(H,{autoSize:!0,ariaLabel:re,disabled:c,maxLength:2048,onChange:function(e){const t=e.target.value;x&&(Z.current?clearTimeout(Z.current):x(!0),Z.current=setTimeout(Q,5e3)),G(t)},onKeyDown:function(e){(0,I.i)(e)&&(u||!V.current?e.preventDefault():ee(e))},placeholder:pe,value:le,ref:K,onFocus:function(){P(!0)},onBlur:function(){P(!1)},testId:(0,R.m)(R.P.INPUT,L)})),Boolean(f?.length)&&o.createElement("div",{className:"WACInputContainer__FilesContainer"},f.map((e,t)=>o.createElement(k,{key:t,iconDescription:U.fileSharing_removeButtonTitle,state:l.C.EDIT,errorSubject:e.errorMessage,invalid:e.isError,size:l.i.SMALL,onDelete:()=>function(e){const t=(0,S.b)(w.store.getState());w.store.dispatch(y.a.removeFileUpload(e,t)),K.current.takeFocus()}(e.id)},e.file.name)))),o.createElement("div",{className:"WACInputContainer__SendButtonContainer"},O&&o.createElement(F,{label:oe,disabled:D,tooltipAlignment:"top",onClick:()=>{const{store:e}=w;e.dispatch(y.a.setStopStreamingButtonDisabled(!0)),w.fire({type:g.B.STOP_STREAMING})}}),o.createElement(d.$nd,{className:"WACInputContainer__SendButton",kind:A.B.GHOST,size:A.a.SMALL,type:"button",onClick:ee,"aria-label":se,disabled:de,renderIcon:ce?r.A:a.A,iconDescription:se,tooltipAlignment:ge?"start":"end",tooltipPosition:"top",hasIconOnly:!0,"data-testid":(0,R.m)(R.P.INPUT_SEND,L)}))))}H.defaultProps={isRequired:!1,maxLength:1e4};const O=o.memo((0,o.forwardRef)(U))},5578:function(e,t,n){n.r(t),n.d(t,{ChatClass:function(){return fe},default:function(){return Ce}});var s=n(3696),a=n(2986),r=n(4869),i=n(5022),o=n(4452),l=n(2896),c=n(3210),d=n(4629),m=n(3192),u=n(619),g=n(1536),p=n(2865),f=n(9124),h=n(6595),C=n(4307),E=n(9708),A=n(3744),_=n(6874),b=n(3178),v=n(158),y=(n(7967),n(573)),S=n(6610),M=n(1517),I=n(5569),W=n(481),N=n(3167),R=n(307),k=n(4859),T=n(6537),w=n(1375),x=n(7052),F=n(4665),B=n(171),H=n(5550),U=n(5285),O=n(5564),D=n(711),L=n(9065),$=n(9426),z=n(3926),P=n(8241);n(712),n(9417),n(445),n(6677),n(9890),n(236),n(1162),n(4544),n(8325),n(4776),n(3716),n(8142),n(3820),n(8586),n(3150),n(700),n(7454),n(1200),n(8976),n(7190),n(8715),n(8761),n(4574),n(8407),n(5277),n(5222),n(9357),n(1264),n(7323),n(3082),n(9927),n(9112),n(1815),n(8568),n(4797),n(8516),n(1938),n(2404),n(4378),n(9624),n(4833),n(6073),n(7118),n(3967),n(644),n(6379),n(533),n(4346),n(3777),n(9133),n(6608),n(5244),n(2765),n(5669),n(1263),n(1807),n(7924);const q=`${p.W}-inline-loading`;let G=class extends m.WF{constructor(){super(...arguments),this.bounce=!1,this.loop=!1,this.quickLoad=!1,this.carbonTheme="g10"}getAnimationEffect(){const e=[];return!0===this.quickLoad&&e.push("quick-load"),!0===this.bounce&&!0===this.loop&&e.push("vertical"),!1===this.bounce&&!0===this.loop&&e.push("linear"),!0===this.bounce&&!1===this.loop&&e.push("vertical--no-loop"),e.length?e.join(" "):"linear--no-loop"}render(){return m.qy`<div
      data-carbon-theme=${this.carbonTheme}
      class=${this.getAnimationEffect()}
    >
      <svg class="dots" viewBox="0 0 32 32">
        <circle class="dot dot--left" cx="8" cy="16" />
        <circle class="dot dot--center" cx="16" cy="16" r="2" />
        <circle class="dot dot--right" cx="24" cy="16" r="2" />
      </svg>
    </div>`}};G.styles=m.AH`
    ${(0,m.iz)(".dots{\n  block-size:32px;\n  inline-size:32px;\n}\n\n.dot{\n  fill:none;\n  r:0;\n  stroke-width:0;\n  transform:translateY(0);\n}\n\n[data-carbon-theme=white] .dot,\n[data-carbon-theme=g10] .dot{\n  stroke:#001d6c;\n}\n\n[data-carbon-theme=g90] .dot,\n[data-carbon-theme=g100] .dot{\n  stroke:#f4f4f4;\n}\n\n@media screen and (prefers-reduced-motion: reduce){\n  .linear .dot--left{\n    animation:none;\n    animation-delay:1s, 1s, 2s, 2s;\n    animation-duration:1s;\n    animation-fill-mode:forwards;\n    animation-iteration-count:1, 1, infinite, infinite;\n    transform-origin:25% 50%;\n  }\n}\n.linear .dot--left{\n  animation:linear-load-size, linear-load-stroke, linear-loop-size, linear-loop-stroke;\n  animation-delay:1s, 1s, 2s, 2s;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:1, 1, infinite, infinite;\n  transform-origin:25% 50%;\n}\n@media screen and (prefers-reduced-motion: reduce){\n  .linear .dot--center{\n    animation:none;\n    animation-delay:1.167s, 1.167s, 2.167s, 2.167s;\n    animation-duration:1s;\n    animation-fill-mode:forwards;\n    animation-iteration-count:1, 1, infinite, infinite;\n    transform-origin:50% 50%;\n  }\n}\n.linear .dot--center{\n  animation:linear-load-size, linear-load-stroke, linear-loop-size, linear-loop-stroke;\n  animation-delay:1.167s, 1.167s, 2.167s, 2.167s;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:1, 1, infinite, infinite;\n  transform-origin:50% 50%;\n}\n@media screen and (prefers-reduced-motion: reduce){\n  .linear .dot--right{\n    animation:none;\n    animation-delay:1.334s, 1.334s, 2.334s, 2.334s;\n    animation-duration:1s;\n    animation-fill-mode:forwards;\n    animation-iteration-count:1, 1, infinite, infinite;\n    transform-origin:75% 50%;\n  }\n}\n.linear .dot--right{\n  animation:linear-load-size, linear-load-stroke, linear-loop-size, linear-loop-stroke;\n  animation-delay:1.334s, 1.334s, 2.334s, 2.334s;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:1, 1, infinite, infinite;\n  transform-origin:75% 50%;\n}\n\n[dir=rtl] .linear .dot--left{\n  animation-delay:1.334s, 1.334s, 2.334s, 2.334s, 7.334s, 7.334s;\n}\n[dir=rtl] .linear .dot--center{\n  animation-delay:1.167s, 1.167s, 2.167s, 2.167s, 7.167s, 7.167s;\n}\n[dir=rtl] .linear .dot--right{\n  animation-delay:1s, 1s, 2s, 2s, 7s, 7s;\n}\n\n@media screen and (prefers-reduced-motion: reduce){\n  .linear--no-loop .dot--left{\n    animation:none;\n    animation-delay:1s, 1s, 2s, 2s;\n    animation-duration:1s;\n    animation-fill-mode:forwards;\n    animation-iteration-count:1;\n    transform-origin:25% 50%;\n  }\n}\n.linear--no-loop .dot--left{\n  animation:linear-load-size, linear-load-stroke, linear-unload-size, linear-unload-stroke;\n  animation-delay:1s, 1s, 2s, 2s;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:1;\n  transform-origin:25% 50%;\n}\n@media screen and (prefers-reduced-motion: reduce){\n  .linear--no-loop .dot--center{\n    animation:none;\n    animation-delay:1.167s, 1.167s, 2.167s, 2.167s;\n    animation-duration:1s;\n    animation-fill-mode:forwards;\n    animation-iteration-count:1;\n    transform-origin:50% 50%;\n  }\n}\n.linear--no-loop .dot--center{\n  animation:linear-load-size, linear-load-stroke, linear-unload-size, linear-unload-stroke;\n  animation-delay:1.167s, 1.167s, 2.167s, 2.167s;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:1;\n  transform-origin:50% 50%;\n}\n@media screen and (prefers-reduced-motion: reduce){\n  .linear--no-loop .dot--right{\n    animation:none;\n    animation-delay:1.334s, 1.334s, 2.334s, 2.334s;\n    animation-duration:1s;\n    animation-fill-mode:forwards;\n    animation-iteration-count:1;\n    transform-origin:75% 50%;\n  }\n}\n.linear--no-loop .dot--right{\n  animation:linear-load-size, linear-load-stroke, linear-unload-size, linear-unload-stroke;\n  animation-delay:1.334s, 1.334s, 2.334s, 2.334s;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:1;\n  transform-origin:75% 50%;\n}\n\n[dir=rtl] .linear--no-loop .dot--left{\n  animation-delay:1.334s, 1.334s, 2.334s, 2.334s;\n}\n[dir=rtl] .linear--no-loop .dot--center{\n  animation-delay:1.167s, 1.167s, 2.167s, 2.167s;\n}\n[dir=rtl] .linear--no-loop .dot--right{\n  animation-delay:1s, 1s, 2s, 2s;\n}\n\n@keyframes linear-load-size{\n  0%{\n    animation-timing-function:cubic-bezier(0, 0, 0.3, 1);\n    r:0;\n  }\n  25%{\n    animation-timing-function:cubic-bezier(0, 0, 0.3, 1);\n    r:2.5px;\n  }\n  83.3%{\n    r:0.875px;\n  }\n  100%{\n    r:0.875px;\n  }\n}\n@keyframes linear-load-stroke{\n  0%{\n    animation-timing-function:cubic-bezier(0, 0, 0.3, 1);\n    stroke-width:0;\n  }\n  8.33%{\n    stroke-width:1.72;\n  }\n  100%{\n    stroke-width:1.72;\n  }\n}\n@keyframes linear-loop-size{\n  0%{\n    animation-timing-function:cubic-bezier(0, 0, 0.3, 1);\n    r:0.875px;\n  }\n  25%{\n    animation-timing-function:cubic-bezier(0, 0, 0.3, 1);\n    r:2.5px;\n  }\n  91.66%{\n    r:0.875px;\n  }\n  100%{\n    r:0.875px;\n  }\n}\n@keyframes linear-loop-stroke{\n  0%{\n    animation-timing-function:cubic-bezier(0.4, 0.14, 1, 1);\n    stroke-width:1.72;\n  }\n  100%{\n    stroke-width:1.72;\n  }\n}\n@keyframes linear-unload-size{\n  0%{\n    r:0.875px;\n  }\n  8.33%{\n    r:0.875px;\n  }\n  33.33%{\n    animation-timing-function:cubic-bezier(0.4, 0.14, 1, 1);\n    r:2.5px;\n  }\n  58.33%{\n    r:0;\n  }\n  100%{\n    r:0;\n  }\n}\n@keyframes linear-unload-stroke{\n  0%{\n    stroke-width:1.72;\n  }\n  50%{\n    stroke-width:1.72;\n  }\n  58.33%{\n    stroke-width:0;\n  }\n  100%{\n    stroke-width:0;\n  }\n}\n@media (prefers-reduced-motion: reduce){\n  .dot--left,\n  .dot--center,\n  .dot--right{\n    animation:none;\n    transition:none;\n  }\n}")}
  `,(0,d.Cg)([(0,u.MZ)({type:Boolean})],G.prototype,"bounce",void 0),(0,d.Cg)([(0,u.MZ)({type:Boolean})],G.prototype,"loop",void 0),(0,d.Cg)([(0,u.MZ)({type:Boolean})],G.prototype,"quickLoad",void 0),(0,d.Cg)([(0,u.MZ)({type:String})],G.prototype,"carbonTheme",void 0),G=(0,d.Cg)([(0,g.c)(q)],G);const V=(0,c.a)({tagName:q,elementClass:G,react:s});function Z(e){const{agentProfile:t,languagePack:n,width:a,height:r}=e,i=t?.nickname,o=(0,_.u)({width:a,height:r}),l=t?.profile_picture_url,[c,d]=(0,s.useState)(!1);let m;return(0,s.useEffect)(()=>{d(!1)},[l]),m=!c&&l?s.createElement("img",{src:l,alt:n.agent_ariaAgentAvatar,onError:()=>d(!0)}):i?.match(/^[\x20-\xFE]+$/)?s.createElement("div",{"aria-label":n.agent_ariaAgentAvatar,className:"WACAgentAvatar__Circle",style:o},s.createElement("div",{className:"WACAgentAvatar__Letter"},i.charAt(0))):s.createElement(b.A,{size:32,width:a?Number(a.replace("px","")):void 0,height:r?Number(r.replace("px","")):void 0,"aria-label":n.agent_ariaAgentAvatar}),s.createElement("div",{className:"WACAgentAvatar"},m)}function K(e,t){const{onButtonClick:n}=e,a=(0,E.u)(),r=(0,A.u)(),l=(0,i.d4)(e=>e.persistedToBrowserStorage.chatState.agentState),c=(0,i.d4)(e=>e.agentState),{isConnecting:d,availability:m,isScreenSharing:u}=c,g=(0,i.d4)(f.s,i.bN),{agentProfile:p}=l,b=(0,s.useRef)();let y,S,M,I,W;return d?(W=s.createElement("div",{className:"WACLoadingBar__ConnectingAnimation"}),y=a.agent_connecting,S=s.createElement(_.A,{announceOnce:a.agent_connecting},s.createElement(v.A,{availability:m,fallbackText:a.agent_connectWaiting})),I=a.agent_connectButtonCancel):(y=p?.nickname||a.agent_noName,I=a.agent_connectedButtonEndChat,M=s.createElement(Z,{agentProfile:p,languagePack:a,width:"32px",height:"32px"})),(0,s.useImperativeHandle)(t,()=>({requestFocus:()=>!!b.current&&((0,A.d)(b),!0)})),s.createElement("div",{className:o("WACAgentBanner",{"WACAgentBanner--connected":!d})},g.isConnectingOrConnected&&s.createElement("div",{className:"WACAgentBanner__Body"},M,s.createElement("div",{className:"WACAgentBanner__AgentInfo"},s.createElement("div",{className:"WACAgentBanner__AgentLine1"},y),S&&s.createElement("div",{className:"WACAgentBanner__AgentLine2"},S)),s.createElement(C.$nd,{ref:b,className:"WACAgentBanner__Button WACAgentBanner__CancelButton",onClick:n,size:"sm"},I)),u&&s.createElement(C.$nd,{className:"WACAgentBanner__Button WACAgentBanner__StopSharingButton",kind:"danger",size:"sm",renderIcon:h.A,onClick:()=>{r.humanAgentService.screenShareStop()}},a.agent_sharingStopSharingButton),W)}const X=s.memo((0,s.forwardRef)(K));function j({onButtonClick:e,bannerRef:t}){const n=(0,i.d4)(e=>e.agentState);return(0,i.d4)(f.s,i.bN).isConnectingOrConnected||n.isScreenSharing?s.createElement(X,{ref:t,onButtonClick:e}):null}function Y({children:e}){const{namespace:t}=(0,A.u)();return s.createElement(s.Fragment,null,s.createElement(p.a,{slotName:g.W.WELCOME_NODE_BEFORE_ELEMENT,id:`welcomeNodeBeforeElement${t.suffix}`}),e)}var J=s.memo(Y);const Q=(0,c.a)({tagName:"cds-custom-actionable-notification",elementClass:y.A,react:s,events:{onNotificationBeingClosed:"cds-custom-notification-beingclosed",onNotificationClosed:"cds-custom-notification-closed"}}),ee=(0,c.a)({tagName:"cds-custom-actionable-notification-button",elementClass:S.A,react:s});function te({notifications:e,serviceManager:t}){const n=(0,E.u)();return e.length?s.createElement("div",{className:"WACNotifications"},e.map(e=>{const a=e.notification,r=()=>{t.store.dispatch(M.a.removeNotifications({notificationID:e.id}))};let i,o;return a.actionButtonLabel&&a.onActionButtonClick&&(i=()=>{a.onActionButtonClick(),r()},o=a.actionButtonLabel),s.createElement("div",{className:"WACNotifications__Notification",key:e.id},s.createElement(Q,{"aria-label":n.notifications_toastClose,actionButtonLabel:o,kind:a.kind,onNotificationClosed:()=>{r(),a.onCloseButtonClick?.()},subtitle:a.message,title:a.title,hasFocus:!1},o&&s.createElement(ee,{slot:"action",onClick:i},o)))})):null}function ne({theme:e}){const t=`a-${(0,B.u)()}`,n=`b-${(0,B.u)()}`,a=`c-${(0,B.u)()}`,r=`d-${(0,B.u)()}`,i=`e-${(0,B.u)()}`;return e===g.f.WHITE||e===g.f.G10?s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:"cds--watsonx-avatar","aria-hidden":"true"},s.createElement("defs",null,s.createElement("linearGradient",{id:t,x1:"1186.526",y1:"2863.168",x2:"1199.825",y2:"2845.109",gradientTransform:"matrix(.8312 .55596 -.27409 .40979 -198.894 -1827.398)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".3"}),s.createElement("stop",{offset:"1",stopOpacity:"0"})),s.createElement("linearGradient",{id:n,x1:"1189.388",y1:"2911.794",x2:"1200.478",y2:"2896.735",gradientTransform:"rotate(146.223 380.87 -882.286) scale(1 -.493)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".3"}),s.createElement("stop",{offset:".9",stopOpacity:"0"})),s.createElement("linearGradient",{id:a,x1:"-4995.033",y1:"-20162.835",x2:"-4981.733",y2:"-20180.895",gradientTransform:"rotate(-146.223 -971.422 -5714.55) scale(1 .493)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".32"}),s.createElement("stop",{offset:".354",stopOpacity:".798"}),s.createElement("stop",{offset:".7",stopOpacity:"0"})),s.createElement("linearGradient",{id:r,x1:"0",y1:"32",x2:"32",y2:"0",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".1",stopColor:"#a56eff"}),s.createElement("stop",{offset:".9",stopColor:"#0f62fe"})),s.createElement("mask",{id:i,x:"0",y:"0",width:"32",height:"32",maskUnits:"userSpaceOnUse"},s.createElement("path",{d:"M16 1A14.915 14.915 0 0 0 5.502 5.286l1.4 1.429A12.922 12.922 0 0 1 16 3.001c.977 0 1.929.109 2.845.315-3.402.921-5.916 4.026-5.916 7.715 0 .782.118 1.537.328 2.252a7.978 7.978 0 0 0-2.188-.312c-3.704 0-6.819 2.534-7.726 5.957a12.954 12.954 0 0 1-.345-2.927c0-2.117.492-4.134 1.462-5.996l-1.773-.924A15.037 15.037 0 0 0 .999 16c0 8.271 6.729 15 15 15 3.949 0 7.678-1.522 10.498-4.286l-1.4-1.428A12.926 12.926 0 0 1 15.999 29c-3.648 0-6.945-1.516-9.309-3.945a5.959 5.959 0 0 1-1.621-4.086c0-3.309 2.691-6 6-6a6.006 6.006 0 0 1 5.897 7.107l1.967.367a7.971 7.971 0 0 0-.192-3.726 7.976 7.976 0 0 0 2.187.312c3.71 0 6.829-2.542 7.73-5.974.22.947.34 1.931.34 2.944 0 2.117-.492 4.134-1.462 5.995l1.773.924a15.034 15.034 0 0 0 1.688-6.919C31 7.729 24.272 1 16 1zm4.93 16.03c-3.309 0-6-2.692-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z",style:{fill:"#fff",strokeWidth:0}}),s.createElement("path",{style:{fill:`url(#${t})`,strokeWidth:0},d:"M8 9 0 0h16l2.305 3.304L8 9z"}),s.createElement("path",{style:{fill:`url(#${n})`,strokeWidth:0},d:"m12 31 4.386-9L6 21 2 31h10z"}),s.createElement("path",{style:{fill:`url(#${a})`,strokeWidth:0},d:"m24 23 8 9H16l-2.304-3.305L24 23z"}),s.createElement("path",{style:{strokeWidth:0},d:"M16 31h-4.283L15 22h2l-1 9z"}))),s.createElement("g",{style:{mask:`url(#${i})`}},s.createElement("path",{style:{fill:`url(#${r})`,strokeWidth:0},d:"M0 0h32v32H0z"})),s.createElement("circle",{cx:"6",cy:"6",r:"2",style:{fill:"#001d6c",strokeWidth:0}}),s.createElement("circle",{cx:"26",cy:"26",r:"2",style:{fill:"#001d6c",strokeWidth:0}}),s.createElement("path",{d:"M16 31c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5zm0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3z",style:{fill:"#001d6c",strokeWidth:0}})):s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:"cds--watsonx-avatar","aria-hidden":"true"},s.createElement("defs",null,s.createElement("linearGradient",{id:t,x1:"1196.653",y1:"2930.892",x2:"1209.953",y2:"2912.832",gradientTransform:"matrix(.8312 .55596 -.27409 .40979 -188.767 -1860.755)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".3"}),s.createElement("stop",{offset:"1",stopOpacity:"0"})),s.createElement("linearGradient",{id:n,x1:"1299.261",y1:"2844.072",x2:"1310.351",y2:"2829.012",gradientTransform:"rotate(146.223 440.869 -882.286) scale(1 -.493)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".3"}),s.createElement("stop",{offset:".9",stopOpacity:"0"})),s.createElement("linearGradient",{id:a,x1:"-4885.16",y1:"-20230.559",x2:"-4871.86",y2:"-20248.618",gradientTransform:"rotate(-146.223 -911.421 -5714.55) scale(1 .493)",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".32"}),s.createElement("stop",{offset:".354",stopOpacity:".798"}),s.createElement("stop",{offset:".7",stopOpacity:"0"})),s.createElement("linearGradient",{id:r,x1:"0",y1:"32",x2:"32",y2:"0",gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:".1",stopColor:"#be95ff"}),s.createElement("stop",{offset:".9",stopColor:"#4589ff"})),s.createElement("mask",{id:i,x:"0",y:"0",width:"32",height:"32",maskUnits:"userSpaceOnUse"},s.createElement("path",{d:"M16 1A14.915 14.915 0 0 0 5.502 5.286l1.4 1.429A12.922 12.922 0 0 1 16 3.001c.977 0 1.929.109 2.845.315-3.402.921-5.916 4.026-5.916 7.715 0 .782.118 1.537.328 2.252a7.978 7.978 0 0 0-2.188-.312c-3.704 0-6.819 2.534-7.726 5.957a12.954 12.954 0 0 1-.345-2.927c0-2.117.492-4.134 1.462-5.996l-1.773-.924A15.037 15.037 0 0 0 .999 16c0 8.271 6.729 15 15 15 3.949 0 7.678-1.522 10.498-4.286l-1.4-1.428A12.926 12.926 0 0 1 15.999 29c-3.648 0-6.945-1.516-9.309-3.945a5.959 5.959 0 0 1-1.621-4.086c0-3.309 2.691-6 6-6a6.006 6.006 0 0 1 5.897 7.107l1.967.367a7.971 7.971 0 0 0-.192-3.726 7.976 7.976 0 0 0 2.187.312c3.71 0 6.829-2.542 7.73-5.974.22.947.34 1.931.34 2.944 0 2.117-.492 4.134-1.462 5.995l1.773.924a15.034 15.034 0 0 0 1.688-6.919c0-8.271-6.729-15-15-15zm4.93 16.03c-3.309 0-6-2.692-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z",style:{fill:"#fff",strokeWidth:0}}),s.createElement("path",{style:{fill:`url(#${t})`,strokeWidth:0},d:"M8 9 0 0h16l2.305 3.305L8 9z"}),s.createElement("path",{style:{fill:`url(#${n})`,strokeWidth:0},d:"m12 31 4.386-9L6 21 2 31h10z"}),s.createElement("path",{style:{fill:`url(#${a})`,strokeWidth:0},d:"m24 23 8 9H16l-2.305-3.305L24 23z"}),s.createElement("path",{style:{strokeWidth:0},d:"M16 31h-4.283L15 22h2l-1 9z"}))),s.createElement("g",{style:{mask:`url(#${i})`}},s.createElement("path",{style:{fill:`url(#${r})`,strokeWidth:0},d:"M0 0h32v32H0z"})),s.createElement("circle",{cx:"6",cy:"6",r:"2",style:{fill:"#f4f4f4",strokeWidth:0}}),s.createElement("circle",{cx:"26",cy:"26",r:"2",style:{fill:"#f4f4f4",strokeWidth:0}}),s.createElement("path",{d:"M16 31c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5zm0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3z",style:{fill:"#f4f4f4",strokeWidth:0}}))}const se=s.memo(ne);function ae(e){return s.createElement("div",{className:"WACIconHolder"},e.icon)}function re(e){const{url:t,alt:n,fallback:a}=e,[r,i]=(0,s.useState)(!1);let o;return(0,s.useEffect)(()=>{i(!1)},[t]),o=!r&&t?s.createElement("img",{src:t,alt:n,onError:()=>i(!0)}):a,s.createElement("div",{className:"WACImageWithFallback"},o)}var ie;!function(e){e[e.FIRST=1]="FIRST",e[e.LAST=2]="LAST",e[e.NEXT=3]="NEXT",e[e.PREVIOUS=4]="PREVIOUS",e[e.INPUT=5]="INPUT"}(ie||(ie={}));class oe extends s.PureComponent{constructor(){super(...arguments),this.state={didRenderErrorOccur:!1,focusHandleHasFocus:!1},this.ref=s.createRef(),this.messageRef=s.createRef(),this.focusHandleRef=s.createRef(),this.getLocalMessage=()=>this.props.localMessageItem,this.onHandleFocus=()=>{this.setState({focusHandleHasFocus:!0})},this.onHandleBlur=()=>{this.setState({focusHandleHasFocus:!1})},this.onHandleKeyDown=e=>{if(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)return;let t;if("ArrowUp"===e.key)t=ie.PREVIOUS;else if("ArrowDown"===e.key)t=ie.NEXT;else if("Home"===e.key)t=ie.FIRST;else if("End"===e.key)t=ie.LAST;else if("Escape"===e.key)t=ie.INPUT;else if("Enter"===e.key||" "===e.key)return e.preventDefault(),void this.reAnnounceFocusHandle();t&&(e.preventDefault(),this.props.requestMoveFocus(t,this.props.messagesIndex))}}getWidgetSaidMessage(){const{intl:e,botName:t,localMessageItem:n}=this.props;let s;return n.item.agent_message_type?n.item.response_type===O.b.TEXT&&(s="messages_agentSaid"):s="messages_botSaid",s?e.formatMessage({id:s},{botName:t}):null}componentDidCatch(e,t){this.props.serviceManager.actions.errorOccurred((0,k.a)("Message",e,t)),this.setState({didRenderErrorOccur:!0})}componentDidMount(){const e=this.props.localMessageItem.ui_state;e.needsAnnouncement&&(this.props.ariaAnnouncer(this.ref.current),this.props.serviceManager.store.dispatch(M.a.setMessageWasAnnounced(e.id)))}componentDidUpdate(){const e=this.props.localMessageItem.ui_state;e.needsAnnouncement&&(this.props.ariaAnnouncer(this.ref.current),this.props.serviceManager.store.dispatch(M.a.setMessageWasAnnounced(e.id)))}shouldRenderFailedMessage(){if(this.state.didRenderErrorOccur)return!0;const{localMessageItem:e,message:t}=this.props;return(0,R.i)(e.item)&&t.history?.agent_no_service_desk}reAnnounceFocusHandle(){const e=this.focusHandleRef.current;e&&this.props.ariaAnnouncer(e.getAttribute("aria-label"))}requestHandleFocus(){const{languagePack:e,intl:t,message:n,botName:s}=this.props,a=[(0,R.a)(n)?e.messages_youSaid:t.formatMessage({id:"messages_botSaid"},{botName:s})];(0,v.n)(this.messageRef.current,a),this.focusHandleRef.current.setAttribute("aria-label",a.join(" ")),(0,A.d)(this.focusHandleRef,!0)}renderFailedRenderMessage(){const{messagesIndex:e}=this.props;return s.createElement("div",{className:`WAC__message WAC__message--inlineError WAC__message-${e} ${this.props.className||""}`,ref:this.ref},s.createElement("div",{className:"WAC__message--padding"},s.createElement("div",{className:"WAC__bot-message"},s.createElement(_.V,null,this.getWidgetSaidMessage()),s.createElement("div",{className:"WAC__received WAC__message-vertical-padding WAC__received--text"},s.createElement(H.I,{text:this.props.languagePack.errors_singleMessage})))))}renderAvatarLine(e,t){let n;const{languagePack:a,botAvatarURL:i,useAITheme:o,carbonTheme:l}=this.props,c=function(e){return U(e).format("LT")}(t.history.timestamp);let d,m,u="";if((0,R.b)(t)){const g=e.item.agent_message_type,p=t.history.agent_profile;if(le(g))return null;const f=g===O.A.FROM_AGENT;if(f||p?.profile_picture_url)n=s.createElement(re,{url:p?.profile_picture_url,alt:f?a.agent_ariaAgentAvatar:a.agent_ariaGenericAvatar,fallback:s.createElement(ae,{icon:s.createElement(x.A,null)})}),u="WACMessage__Avatar--agent";else{const e=o?s.createElement(se,{theme:l}):s.createElement(ae,{icon:s.createElement(T.A,null)}),t=o?void 0:i;n=s.createElement(re,{url:t,alt:a.agent_ariaGenericBotAvatar,fallback:e}),u="WACMessage__Avatar--bot"}f||p?.nickname?m=p?.nickname||a.agent_agentNoNameTitle:o&&(m="watsonx"),d=s.createElement("span",{"data-wac-exclude-node-read":!0},s.createElement(r.A,{id:"message_labelBot",values:{timestamp:c,actorName:m}}))}else d=s.createElement(r.A,{id:"message_labelYou",values:{timestamp:c}});return s.createElement("div",{className:"WACMessage__AvatarLine",key:`${t.id}-avatar-line`},n&&s.createElement("div",{className:`WACMessage__Avatar ${u}`},n),s.createElement("div",{className:"WACMessage__Label"},d))}renderMessageState(e){const{languagePack:t}=this.props;let n,a,r=!1;const i=e.history?.error_state,o=e.history?.file_upload_status;return i===I.M.FAILED?(n=s.createElement(H.I,{text:t.errors_singleMessage}),a="WAC__message-error-failed",r=!0):o===g.F.UPLOADING?(n=s.createElement(F.L,{active:!0,overlay:!1,small:!0,assistiveText:t.fileSharing_statusUploading}),a="WAC__message-status-file-uploading"):"success"===o&&(n=s.createElement(w.A,{"aria-label":t.fileSharing_statusUploading}),a="WAC__message-status-file-success"),n&&{element:s.createElement("div",{className:`WAC__message-status ${a}`},n),showBelowMessage:r}}renderFocusHandle(){return s.createElement("div",{className:"WACMessage--focusHandle",ref:this.focusHandleRef,tabIndex:-1,onFocus:this.onHandleFocus,onBlur:this.onHandleBlur,onKeyDown:e=>this.onHandleKeyDown(e),onClick:()=>this.reAnnounceFocusHandle(),role:"button"})}render(){if(this.shouldRenderFailedMessage())return this.renderFailedRenderMessage();const{serviceManager:e,config:t,localMessageItem:n,message:a,languagePack:r,requestInputFocus:i,messagesIndex:l,disableUserInputs:c,showAvatarLine:d,className:m,doAutoScroll:u,isMessageForInput:g,scrollElementIntoView:p,isFirstMessageItem:f,hideFeedback:h,allowNewFeedback:C}=this.props,{isIntermediateStreaming:E,isWelcomeResponse:A,disableFadeAnimation:b}=n.ui_state,y=n.item,S=y.response_type,M=y.agent_message_type,I=a.history.from_history,W=f;if(E&&!function(e){switch(e){case O.b.IMAGE:case O.b.VIDEO:case O.b.AUDIO:case O.b.OPTION:case O.b.IFRAME:case O.b.INLINE_ERROR:case O.b.CONVERSATIONAL_SEARCH:case O.b.USER_DEFINED:case O.b.TEXT:return!0;default:return!1}}(y.response_type))return!1;const N=s.createElement(v.M,{serviceManager:e,languagePack:r,requestInputFocus:i,message:n,originalMessage:a,disableUserInputs:c,isMessageForInput:g,config:t,doAutoScroll:u,scrollElementIntoView:p,hideFeedback:h,allowNewFeedback:C}),k=(0,R.r)(n.item),T=A||b,w=function(e,t,n){if(n)return"WAC__received--agentCustom";if(!t||t!==O.b.TEXT&&t!==O.b.BUTTON)return"";switch(e){case null:case void 0:case O.A.FROM_USER:return null;case O.A.RELOAD_WARNING:case O.A.DISCONNECTED:return"WAC__received--chatStatusMessage";case O.A.FROM_AGENT:return"WAC__received--fromAgent";default:return"WAC__received--agentStatusMessage"}}(M,S,k),x=(0,R.a)(a),F=le(n.item.agent_message_type);let B,H=!1;return(0,R.c)(n.item)&&(n.item.title||n.item.description||(H=!0)),x&&(B=this.renderMessageState(a)),s.createElement("div",{id:`WAC__message-${l}${e.namespace.suffix}`,className:o(`WAC__message WAC__message-${l}`,m,M&&"WAC__message--agentMessage",{"WAC__message--withAvatarLine":d,"WAC__message--request":x,"WAC__message--systemMessage":F,"WAC__message--response":!x,"WAC__message--no-animation":T,"WAC__message--custom":k,"WAC__message--disabled-inputs":c,"WAC__message--has-focus":this.state.focusHandleHasFocus,"WAC__message--option-response-without-title-or-description":H}),ref:this.ref},this.renderFocusHandle(),d&&this.renderAvatarLine(n,a),s.createElement("div",{className:"WAC__message--padding"},(0,R.b)(a)&&s.createElement("div",{className:"WAC__bot-message"},W&&s.createElement(_.V,null,this.getWidgetSaidMessage()),s.createElement("div",{className:o("WAC__received","WAC__message-vertical-padding",w,{"WAC__received--text":S===O.b.TEXT,"WAC__received--image":S===O.b.IMAGE,"WAC__received--options":S===O.b.OPTION,"WAC__received--inlineError":S===O.b.INLINE_ERROR,"WAC__received--iframePreviewCard":S===O.b.IFRAME,"WAC__received--video":S===O.b.VIDEO,"WAC__received--audio":S===O.b.AUDIO,"WAC__received--date":S===O.b.DATE,"WAC__received--card":S===O.b.CARD,"WAC__received--carousel":S===O.b.CAROUSEL,"WAC__received--conversationalSearch":S===O.b.CONVERSATIONAL_SEARCH,"WAC__received--carouselSingle":(0,R.e)(n.item),"WAC__received--button":S===O.b.BUTTON,"WAC__received--grid":S===O.b.GRID,"WAC__received--fullWidth":(0,R.d)(n.item),"WAC__message--historical":I}),ref:this.messageRef},s.createElement("div",{className:"WAC__received--inner"},N))),x&&s.createElement("div",{className:"WAC__sent-container"},s.createElement("div",{className:o("WAC__sentAndMessageState-container","WAC__message-vertical-padding",{"WAC__sentAndMessageState--belowMessage":B?.showBelowMessage})},!B?.showBelowMessage&&B?.element,s.createElement("div",{className:"WAC__sent"},s.createElement(_.V,null,r.messages_youSaid),s.createElement("div",{className:"WAC__sent--bubble"},s.createElement("div",{ref:this.messageRef},N))),B?.showBelowMessage&&B?.element))))}}function le(e){switch(e){case null:case void 0:case O.A.FROM_USER:case O.A.RELOAD_WARNING:case O.A.DISCONNECTED:case O.A.FROM_AGENT:case O.A.INLINE_ERROR:return!1;default:return!0}}var ce=(0,_.w)((0,a.Ay)(oe,{forwardRef:!0}));class de extends s.PureComponent{constructor(){super(...arguments),this.state={scrollHandleHasFocus:!1},this.messageRefs=new Map,this.messagesContainerWithScrollingRef=s.createRef(),this.scrollHandleRef=s.createRef(),this.agentBannerRef=s.createRef(),this.onResize=()=>{if(this.props.messageState.isScrollAnchored){const e=this.messagesContainerWithScrollingRef.current;e&&(e.scrollTop=e.scrollHeight)}},this.doAutoScroll=(0,l.A)((e={})=>{try{const{scrollToTop:t,scrollToBottom:n}=e,{localMessageItems:s,messageState:a,allMessagesByID:r}=this.props,{isTypingCounter:i,isLoadingCounter:o}=a,{isAgentTyping:l}=(0,f.s)(this.props),c=this.messagesContainerWithScrollingRef.current;if(void 0!==t)return void(0,A.a)(c,t,0,!1);if(void 0!==n){const e=c.scrollHeight-c.offsetHeight-n;return void(0,A.a)(c,e,0,!1)}let d,m=!0;const u=s.length-1,g=s.length?s[u]:null,p=r[g?.fullMessageID];if(g)if(i>0||o>0||l)d=c.scrollHeight;else{const e=(e,t)=>{if((0,R.b)(t)){const e=r[t?.request_id];return e?.history?.silent&&""!==e.input?.text}return(0,R.a)(t)};let t=s.length-1,n=s[t],a=this.messageRefs.get(n?.ui_state.id);for(;t>=1;){n=s[t];const i=r[n?.fullMessageID];if(e(n,i)){a=this.messageRefs.get(n?.ui_state.id),me(0,s[t]);break}t--}if(a){const e=a.ref.current?.offsetTop;d=e+N.A}else d=-1}else m=!1,d=0;-1!==d&&d>=c.scrollTop&&(p?.history?.from_history&&(m=!1),(0,A.a)(c,d,0,m),this.checkScrollAnchor(!0,d))}catch(e){(0,k.b)("An error occurred while attempting to scroll.",e)}},N.a),this.getContainerScrollBottom=()=>(0,A.g)(this.messagesContainerWithScrollingRef?.current),this.scrollElementIntoView=(e,t=8,n=8)=>{const s=this.messagesContainerWithScrollingRef.current,a=s.getBoundingClientRect(),r=e.getBoundingClientRect(),i=r.top-a.top+s.scrollTop-t,o=r.bottom-a.top+s.scrollTop+n,l=e.offsetHeight+t+n;i<s.scrollTop||l>s.offsetHeight?(0,A.a)(s,i,0):o>s.scrollTop+s.offsetHeight&&(0,A.a)(s,o-s.offsetHeight,0)},this.requestMoveFocus=(e,t)=>{if(e===ie.INPUT)this.props.requestInputFocus();else{const{localMessageItems:n}=this.props;let s;switch(e){case ie.LAST:s=n.length-1;break;case ie.NEXT:s=t+1,s>=n.length&&(s=0);break;case ie.PREVIOUS:s=t-1,s<0&&(s=n.length-1);break;default:s=0}const a=n[s],r=this.messageRefs.get(a?.ui_state.id);r&&r.requestHandleFocus()}}}componentDidMount(){this.scrollPanelObserver=new ResizeObserver(this.onResize),this.scrollPanelObserver.observe(this.messagesContainerWithScrollingRef.current),this.previousScrollOffsetHeight=this.messagesContainerWithScrollingRef.current.offsetHeight}componentDidUpdate(e){const t=this.props,n=e.localMessageItems.length!==t.localMessageItems.length,s=(0,f.s)(e),a=(0,f.s)(t),r=e.messageState.isTypingCounter!==t.messageState.isTypingCounter||e.messageState.isLoadingCounter!==t.messageState.isLoadingCounter||s.isAgentTyping!==a.isAgentTyping;(n||r)&&((0,R.f)(t.localMessageItems)!==(0,R.f)(e.localMessageItems)||r)&&this.doAutoScroll()}componentWillUnmount(){this.scrollPanelObserver.unobserve(this.messagesContainerWithScrollingRef.current)}checkScrollAnchor(e,t){const n=this.messagesContainerWithScrollingRef.current;if(e||this.previousScrollOffsetHeight===n.offsetHeight&&!this.props.suspendScrollDetection){const e=(void 0!==t?t:n.scrollTop)>=n.scrollHeight-n.offsetHeight;e!==this.props.messageState.isScrollAnchored&&this.props.serviceManager.store.dispatch(M.a.setChatMessagesStateProperty("isScrollAnchored",e))}this.previousScrollOffsetHeight=n.offsetHeight}requestAgentBannerFocus(){return!!this.agentBannerRef.current&&this.agentBannerRef.current.requestFocus()}doScrollToMessage(e,t=!0){try{const{localMessageItems:n}=this.props;let s;for(let t=0;t<=n.length;t++){const a=n[t];if(a.fullMessageID===e){s=this.messageRefs.get(a.ui_state.id);break}}if(s){const e=this.messagesContainerWithScrollingRef.current,n=s.ref.current.offsetTop;(0,A.a)(e,n,0,t),this.checkScrollAnchor(!0,n)}}catch(e){(0,k.b)("An error occurred while attempting to scroll.",e)}}getLastOutputMessageElements(){const{localMessageItems:e,allMessagesByID:t}=this.props,n=(0,R.f)(e),s=t[n?.fullMessageID];if((0,R.b)(s)){const t=[];let n=!1;for(let a=e.length-1;a>=0;a--){const r=e[a],i=this.messageRefs.get(r?.ui_state.id);if(i){const{getLocalMessage:e}=i;if(e().fullMessageID===s.id){n=!0;const e=i.ref?.current;if(!e)break;t.push(e)}else if(n)break}}return t.reverse()}return[]}renderTypingIndicator(e,t){return s.createElement("div",{className:`WAC__message WAC__message-${t} WAC__message--lastMessage`},s.createElement("div",{className:"WAC__message--padding"},e&&s.createElement(p.A,{message:e}),s.createElement("div",{className:"WAC__bot-message"},s.createElement("div",{className:"WAC__received WAC__received--loading WAC__message-vertical-padding"},s.createElement("div",{className:"WAC__received--inner"},s.createElement(V,{loop:!0,carbonTheme:this.props.carbonTheme}))))))}renderMessage(e,t,n,a,r,i,l){const{serviceManager:c,config:d,languagePack:m,requestInputFocus:u,persistedToBrowserStorage:p,botName:h,messageState:C,locale:E,botAvatarURL:A,carbonTheme:_,useAITheme:b}=this.props,v=(0,f.a)(this.props),{isAgentTyping:y}=(0,f.s)(this.props),{isTypingCounter:S,isLoadingCounter:M}=C,{chatState:I}=p,{disclaimersAccepted:W}=I;if(d.public.disclaimer?.is_on&&!W[window.location.hostname])return null;const N=this.props.localMessageItems.length+(S>0||M>0||y?1:0),R=o({"WAC__message--firstMessage":0===n,"WAC__message--lastMessage":n===N-1}),k=e.fullMessageID===l,T=e.ui_state.id,w=s.createElement(ce,{ref:e=>{e?this.messageRefs.set(T,e):this.messageRefs.delete(T)},className:R,config:d,localMessageItem:e,message:t,languagePack:m,requestInputFocus:u,serviceManager:c,messagesIndex:n,botName:h,disableUserInputs:v.isReadonly,isMessageForInput:r,showAvatarLine:i,botAvatarURL:A,requestMoveFocus:this.requestMoveFocus,doAutoScroll:this.doAutoScroll,scrollElementIntoView:this.scrollElementIntoView,isFirstMessageItem:i,locale:E,carbonTheme:_,useAITheme:b,allowNewFeedback:k,hideFeedback:!1});return a?s.createElement(J,{welcomeNodeBeforeElement:c.writeableElements[g.W.WELCOME_NODE_BEFORE_ELEMENT],key:T},w):s.createElement(s.Fragment,{key:T},w)}renderAgentBanner(){return s.createElement(j,{bannerRef:this.agentBannerRef,onButtonClick:this.props.onEndAgentChat})}renderScrollHandle(e){const{languagePack:t}=this.props;let n;n=W.I?e?"messages_scrollHandle":"messages_scrollHandleEnd":e?"messages_scrollHandleDetailed":"messages_scrollHandleEndDetailed";const a=W.I?void 0:()=>this.requestMoveFocus(e?ie.FIRST:ie.LAST,0);return s.createElement("button",{type:"button",className:"WACMessages--scrollHandle",ref:this.scrollHandleRef,tabIndex:0,"aria-label":t[n]||t.messages_scrollHandle,onClick:a,onFocus:()=>this.setState({scrollHandleHasFocus:!0}),onBlur:()=>this.setState({scrollHandleHasFocus:!1})})}getMessageIDForUserInput(){const{localMessageItems:e,allMessagesByID:t}=this.props;for(let n=e.length-1;n>=0;n--){const s=e[n],a=t[s.fullMessageID];if((0,R.a)(a)&&a?.history?.error_state!==I.M.FAILED)return null;if((0,R.b)(a))return s.fullMessageID}return null}renderMessages(e){const{localMessageItems:t,allMessagesByID:n}=this.props,s=[],a=(0,R.f)(t)?.fullMessageID;let r=null;for(let i=0;i<t.length;i++){const o=t[i],l=n[o.fullMessageID],c=e===o.fullMessageID,d=r!==o.fullMessageID,m=o.ui_state.isWelcomeResponse&&d;r=o.fullMessageID,s.push(this.renderMessage(o,l,i,m,c,d,a))}return s}render(){const{localMessageItems:e,messageState:t,intl:n,botName:a,serviceManager:r,notifications:i}=this.props,{isTypingCounter:l,isLoadingCounter:c}=t,{isAgentTyping:d}=(0,f.s)(this.props),{scrollHandleHasFocus:m}=this.state,u=this.getMessageIDForUserInput(),g=this.renderMessages(u);let p;return d?p=n.formatMessage({id:"messages_agentIsTyping"}):l?p=n.formatMessage({id:"messages_botIsTyping"},{botName:a}):c&&(p=n.formatMessage({id:"messages_botIsLoading"},{botName:a})),s.createElement("div",{id:`WACMessages--holder${r.namespace.suffix}`,className:"WACMessages--holder"},this.renderAgentBanner(),s.createElement("div",{className:o("WACMessages__Wrapper",{"WACMessages__Wrapper--scrollHandleHasFocus":m})},s.createElement("div",{id:`WAC__messages${r.namespace.suffix}`,className:"WAC__messages",ref:this.messagesContainerWithScrollingRef,onScroll:()=>this.checkScrollAnchor()},this.renderScrollHandle(!0),g,(Boolean(l)||Boolean(c)||d)&&this.renderTypingIndicator(p,e.length),s.createElement(te,{serviceManager:r,notifications:i}),this.renderScrollHandle(!1))))}}function me(e,...t){}var ue=function(e){const t=s.forwardRef((t,n)=>{const a=(0,s.useContext)(A.S);return s.createElement(e,{...t,ref:n,serviceManager:a})});return t.displayName=`withServiceManager(${e.displayName||e.name||"Component"})`,t}((0,i.Ng)(e=>e,null,null,{forwardRef:!0})(de));function ge(e,t){const[n,s]=e,[a,r]=t;if(n===a&&s===r)return!0;if(n.length!==a.length)return!1;for(let e=0;e<=n.length;e++){const t=n[e],i=a[e];if(t!==i)return!1;if(s[t]!==r[i])return!1}return!0}function pe(){const e=(0,A.u)(),t=(0,E.u)(),n=t.agent_sharingRequestTitle,a=t.agent_sharingRequestMessage,r=t.agent_sharingDeclineButton,i=t.agent_sharingAcceptButton;return s.createElement(p.C,{title:n,message:a,onConfirm:()=>{e.humanAgentService?.screenShareUpdateRequestState(I.S.ACCEPTED)},onCancel:()=>{e.humanAgentService?.screenShareUpdateRequestState(I.S.DECLINED)},cancelButtonLabel:r,confirmButtonLabel:i,modalAnnounceMessage:a,serviceManager:e})}class fe extends s.Component{constructor(){super(...arguments),this.state={showEndChatConfirmation:!1,hasCaughtError:!1},this.inputRef=s.createRef(),this.headerRef=s.createRef(),this.messagesRef=s.createRef(),this.messagesToArray=(0,D.A)((e,t)=>e.map(e=>t[e]),ge),this.hideConfirmEndChat=()=>{this.setState({showEndChatConfirmation:!1}),setTimeout(()=>{this.requestInputFocus()})},this.showConfirmEndChat=()=>{this.setState({showEndChatConfirmation:!0})},this.confirmAgentEndChat=()=>{this.hideConfirmEndChat(),this.props.serviceManager.humanAgentService.endChat(!0)},this.requestDefaultFocus=()=>{this.headerRef?.current?.requestFocus()||(0,A.d)(this.messagesRef.current?.scrollHandleRef)},this.requestInputFocus=()=>{const{agentDisplayState:e}=this.props;try{if(e.isConnectingOrConnected&&e.disableInput&&this.messagesRef.current.requestAgentBannerFocus())return;if(this.inputRef.current)if(this.props.inputState.fieldVisible&&!this.shouldDisableInput())this.inputRef.current.takeFocus();else{const e=this.messagesRef.current.getLastOutputMessageElements();(0,A.f)(e)||this.requestDefaultFocus()}else this.requestDefaultFocus()}catch(e){(0,k.b)("An error occurred in Chat.requestInputFocus",e)}},this.doAutoScroll=e=>{this.messagesRef.current?.doAutoScroll(e)},this.getMessagesScrollBottom=()=>this.messagesRef?.current?.getContainerScrollBottom(),this.onFilesSelectedForUpload=e=>{this.props.agentDisplayState.isConnectingOrConnected&&(this.props.serviceManager.humanAgentService.filesSelectedForUpload(e),this.props.inputState.allowMultipleFileUploads||this.requestInputFocus())}}async scrollOnHydrationComplete(){this.doAutoScroll()}componentDidMount(){this.props.isHydrationAnimationComplete&&setTimeout(()=>{this.scrollOnHydrationComplete()})}componentDidUpdate(e){const{isHydrationAnimationComplete:t,agentState:n}=this.props;t&&!e.isHydrationAnimationComplete&&setTimeout(()=>{this.scrollOnHydrationComplete()});const s=n.isConnecting!==e.agentState.isConnecting;this.state.showEndChatConfirmation&&s&&this.hideConfirmEndChat()}componentDidCatch(e,t){this.props.serviceManager.actions.errorOccurred((0,k.a)("Chat",e,t)),this.setState({hasCaughtError:!0})}doScrollToMessage(e,t=!0){this.messagesRef.current?.doScrollToMessage(e,t)}getMessageInput(){return this.inputRef.current?.getMessageInput()}shouldDisableInput(){return this.props.inputState.isReadonly||this.props.agentDisplayState.disableInput}shouldDisableSend(){const{isHydrated:e}=this.props;return this.shouldDisableInput()||!e}renderMessagesAndInput(){const{languagePack:e,messageState:t,intl:n,allMessageItemsByID:a,isHydrated:r,serviceManager:i,inputState:o,onUserTyping:l,agentState:c,botName:d,onSendInput:m,locale:u,useAITheme:f,carbonTheme:h,agentDisplayState:C}=this.props,{fieldVisible:E,files:A,allowFileUploads:_,allowedFileUploadTypes:b,allowMultipleFileUploads:y,stopStreamingButtonState:S}=o,{fileUploadInProgress:M}=c,{inputPlaceholderKey:I}=C,W=((A?.length??0)>0||M)&&!y;return s.createElement(s.Fragment,null,r&&s.createElement("div",{className:"WACMessagesContainer__NonInputContainer"},s.createElement(ue,{ref:this.messagesRef,messageState:t,localMessageItems:this.messagesToArray(t.localMessageIDs,a),requestInputFocus:this.requestInputFocus,botName:d,intl:n,onEndAgentChat:this.showConfirmEndChat,locale:u,useAITheme:f,carbonTheme:h})),s.createElement(p.a,{slotName:g.W.BEFORE_INPUT_ELEMENT,id:`beforeInputElement${i.namespace.suffix}`}),s.createElement(z.I,{ref:this.inputRef,languagePack:e,serviceManager:i,disableInput:this.shouldDisableInput(),disableSend:this.shouldDisableSend(),isInputVisible:E,onSendInput:m,onUserTyping:l,showUploadButton:_,disableUploadButton:W,allowedFileUploadTypes:b,allowMultipleFileUploads:y,pendingUploads:A,onFilesSelectedForUpload:this.onFilesSelectedForUpload,placeholder:e[I],isStopStreamingButtonVisible:S.isVisible,isStopStreamingButtonDisabled:S.isDisabled,testIdPrefix:P.O.MAIN}),this.state.showEndChatConfirmation&&s.createElement(v.E,{onConfirm:this.confirmAgentEndChat,onCancel:this.hideConfirmEndChat}),this.props.agentState.showScreenShareRequest&&s.createElement(pe,null))}render(){const{languagePack:e,onClose:t,onCloseAndRestart:n,onRestart:a,onToggleHomeScreen:r,botName:i,headerDisplayName:o,headerAvatarConfig:l}=this.props,{hasCaughtError:c}=this.state;return s.createElement("div",{className:"WAC"},s.createElement($.B,{ref:this.headerRef,onClose:t,onCloseAndRestart:n,onRestart:a,headerDisplayName:o,headerAvatarConfig:l,onToggleHomeScreen:r,enableChatHeaderConfig:!0,includeWriteableElement:!0,testIdPrefix:P.O.MAIN}),s.createElement(he,null),s.createElement("div",{className:"WACPanelContent WAC__ChatNonHeaderContainer"},c&&s.createElement("div",{className:"WAC__MessagesErrorHandler"},s.createElement(L.CatastrophicError,{languagePack:e,onRestart:a,showHeader:!1,botName:i,headerDisplayName:o})),!c&&s.createElement("div",{className:"WAC__messagesAndInputContainer"},this.renderMessagesAndInput())))}}function he(){return(0,i.d4)(e=>e.showNonHeaderBackgroundCover)?s.createElement("div",{className:"WACBackgroundCover WACBackgroundCover__NonHeader"}):null}var Ce=(0,a.Ay)(fe,{forwardRef:!0})},9065:function(e,t,n){n.r(t),n.d(t,{CatastrophicError:function(){return A},default:function(){return A}});var s=n(5669),a=n(9426),r=n(5230),i=n(4452),o=n(3696),l=n(8710),c=n(5022),d=n(171),m=n(893),u=n(8241),g=n(1536),p=n(8516);function f(){const e=(0,d.u)();return o.createElement("svg",{viewBox:"0 0 80 80"},o.createElement("defs",null,o.createElement("linearGradient",{id:`${e}-1`,x1:"38.91",y1:"4.92",x2:"38.91",y2:"73.85",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0",stopColor:"#262626"}),o.createElement("stop",{offset:"1",stopColor:"#393939"})),o.createElement("linearGradient",{id:`${e}-2`,x1:"12.44",y1:"71.21",x2:"76.34",y2:"34.31",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0",stopColor:"#525252"}),o.createElement("stop",{offset:"0.52",stopColor:"#393939"}),o.createElement("stop",{offset:"0.61",stopColor:"#393939"}),o.createElement("stop",{offset:"0.99",stopColor:"#161616"})),o.createElement("linearGradient",{id:`${e}-3`,x1:"39.38",y1:"50.63",x2:"52.04",y2:"72.55",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0.11",stopColor:"#6f6f6f",stopOpacity:"0"}),o.createElement("stop",{offset:"0.94",stopColor:"#6f6f6f"}))),o.createElement("rect",{width:"80",height:"80",fill:"none"}),o.createElement("polygon",{points:"59.91 78.34 16.91 53.51 21.77 50.7 64.77 75.53 59.91 78.34",opacity:"0.25",className:"error_message_isolate"}),o.createElement("path",{d:"M39,6.92c12.15,7,22,24,21.92,38S51,64.49,38.83,57.48s-22-24-21.92-38S26.83-.09,39,6.92Z",fill:`url(#${e}-1)`}),o.createElement("path",{d:"M42.85,4.68C36.74,1.15,31.2.82,27.2,3.15L23.54,5.28C27.52,3.08,33,3.45,39,6.92c12.15,7,22,24,21.92,38,0,6.77-2.35,11.58-6.13,13.94h-.07c-.32.2,3.66-2.1,3.66-2.1,4-2.3,6.39-7.18,6.41-14.12C64.81,28.7,55,11.69,42.85,4.68Z",fill:`url(#${e}-2)`}),o.createElement("path",{d:"M29.11,3.91v.36a19.59,19.59,0,0,1,9.68,3c12,6.94,21.78,23.84,21.74,37.65,0,9.4-4.56,15.23-11.83,15.23a19.59,19.59,0,0,1-9.68-3C27,50.21,17.24,33.32,17.28,19.5c0-9.39,4.56-15.23,11.83-15.23V3.91m0,0c-7.21,0-12.17,5.71-12.2,15.59,0,14,9.77,31,21.92,38a20.18,20.18,0,0,0,9.87,3c7.21,0,12.17-5.71,12.2-15.6C60.9,31,51.13,14,39,6.9a19.94,19.94,0,0,0-9.87-3Z",fill:`url(#${e}-3)`}),o.createElement("path",{className:"cls-6",d:"M38.93,49.79a6.83,6.83,0,0,1-2.66-2.51,6.19,6.19,0,0,1-.81-3v-1a2.26,2.26,0,0,1,.81-2c.54-.35,1.43-.17,2.66.54a6.67,6.67,0,0,1,2.61,2.5,6,6,0,0,1,.81,3v1a2.23,2.23,0,0,1-.81,2C41,50.66,40.13,50.49,38.93,49.79ZM37.77,38.16,36,22.77V13l5.81,3.36v9.73L40.17,39.55Z",fill:"#525252"}))}function h(){const e=(0,d.u)();return o.createElement("svg",{viewBox:"0 0 80 80"},o.createElement("defs",null,o.createElement("linearGradient",{id:`${e}-1`,x1:"29.96",y1:"36.32",x2:"53.15",y2:"-3.84",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0",stopColor:"#525252",stopOpacity:"0.05"}),o.createElement("stop",{offset:"1",stopOpacity:"0.1"})),o.createElement("linearGradient",{id:`${e}-2`,x1:"38.91",y1:"29.41",x2:"38.91",y2:"78.7",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0",stopColor:"#c6c6c6"}),o.createElement("stop",{offset:"0.78",stopColor:"#e0e0e0"})),o.createElement("linearGradient",{id:`${e}-3`,x1:"18.08",y1:"67.95",x2:"71.65",y2:"37.02",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0",stopColor:"#e0e0e0"}),o.createElement("stop",{offset:"0.13",stopColor:"#f4f4f4"}),o.createElement("stop",{offset:"0.56",stopColor:"#e0e0e0"}),o.createElement("stop",{offset:"0.62",stopColor:"#d8d8d8"}),o.createElement("stop",{offset:"0.7",stopColor:"#c6c6c6"}),o.createElement("stop",{offset:"0.89",stopColor:"#a8a8a8"}),o.createElement("stop",{offset:"1",stopColor:"#8d8d8d"})),o.createElement("linearGradient",{id:`${e}-4`,x1:"27.93",y1:"30.78",x2:"49.86",y2:"68.76",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0.54",stopColor:"#d0d0d0",stopOpacity:"0"}),o.createElement("stop",{offset:"0.82",stopColor:"#f1f1f1",stopOpacity:"0.7"}),o.createElement("stop",{offset:"0.94",stopColor:"#fff"})),o.createElement("linearGradient",{id:`${e}-5`,x1:"28.67",y1:"55.68",x2:"47.16",y2:"45.01",gradientTransform:"matrix(1, 0, 0, -1, 0, 82)",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{offset:"0",stopColor:"#fff"}),o.createElement("stop",{offset:"0.05",stopColor:"#fdfdfd"}),o.createElement("stop",{offset:"0.3",stopColor:"#f6f6f6"}),o.createElement("stop",{offset:"1",stopColor:"#f4f4f4"}))),o.createElement("rect",{width:"80",height:"80",fill:"none"}),o.createElement("polygon",{points:"59.91 78.34 16.91 53.51 21.77 50.7 64.77 75.53 59.91 78.34",fill:`url(#${e}-1)`}),o.createElement("path",{d:"M39,6.92c12.15,7,22,24,21.92,38S51,64.49,38.83,57.48s-22-24-21.92-38S26.83-.09,39,6.92Z",fill:`url(#${e}-2)`}),o.createElement("path",{d:"M42.85,4.68C36.74,1.15,31.2.82,27.2,3.15L23.54,5.28C27.52,3.08,33,3.45,39,6.92c12.15,7,22,24,21.92,38,0,6.77-2.35,11.58-6.13,13.94h-.07c-.32.2,3.66-2.1,3.66-2.1,4-2.3,6.39-7.18,6.41-14.12C64.81,28.7,55,11.69,42.85,4.68Z",fill:`url(#${e}-3)`}),o.createElement("path",{d:"M29.11,3.91v.36a19.59,19.59,0,0,1,9.68,3c12,6.94,21.78,23.84,21.74,37.65,0,9.4-4.56,15.23-11.83,15.23a19.59,19.59,0,0,1-9.68-3C27,50.21,17.24,33.32,17.28,19.5c0-9.39,4.56-15.23,11.83-15.23V3.91m0,0c-7.21,0-12.17,5.71-12.2,15.59,0,14,9.77,31,21.92,38a20.18,20.18,0,0,0,9.87,3c7.21,0,12.17-5.71,12.2-15.6C60.9,31,51.13,14,39,6.9a19.94,19.94,0,0,0-9.87-3Z",fill:`url(#${e}-4)`}),o.createElement("path",{d:"M38.93,49.79a6.83,6.83,0,0,1-2.66-2.51,6.19,6.19,0,0,1-.81-3v-1a2.26,2.26,0,0,1,.81-2c.54-.35,1.43-.17,2.66.54a6.67,6.67,0,0,1,2.61,2.5,6,6,0,0,1,.81,3v1a2.23,2.23,0,0,1-.81,2C41,50.66,40.13,50.49,38.93,49.79ZM37.77,38.16,36,22.77V13l5.81,3.36v9.73L40.17,39.55Z",fill:`url(#${e}-5)`}))}n(712),n(4307),n(9417),n(445),n(3210),n(6677),n(3192),n(9890),n(619),n(236),n(1162),n(4544),n(8325),n(4776),n(3716),n(1264),n(7323),n(3082);const C=(0,a.c)(s.A);function E({onClose:e,languagePack:t,onRestart:n,showHeader:s,botName:d,headerDisplayName:E}){const A=(0,l.A)(),_=(0,c.d4)(e=>e.theme.carbonTheme),b=_===g.f.G90||_===g.f.G100,v=A.formatMessage({id:"errors_communicating"},{botName:d});return o.createElement("div",{className:"WAC"},s&&o.createElement(a.B,{headerDisplayName:E,onClose:e,onToggleHomeScreen:null,includeWriteableElement:!1,testIdPrefix:u.O.CATASTROPHIC}),o.createElement("div",{className:i("WACCatastrophicError","WACPanelContent",{"WACCatastrophicError--withHeader":s})},o.createElement("div",{className:"WACCatastrophicError__ErrorTextContainer"},b&&o.createElement(f,null),!b&&o.createElement(h,null),o.createElement("div",{className:"WACCatastrophicError__ErrorHeading"},t.errors_somethingWrong),o.createElement("div",{className:"WACCatastrophicError__ErrorBody"},o.createElement(m.R,{text:v})),n&&o.createElement(r.C,{className:"WACCatastrophicError__RestartButton",kind:p.lD.TERTIARY,size:p.gD.SMALL,"aria-label":t.buttons_restart,onClick:n},o.createElement(C,{slot:"icon"}),t.buttons_retry))))}const A=o.memo(E)}}]);
//# sourceMappingURL=5578.bundle.js.map