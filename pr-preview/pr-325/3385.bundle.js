/*! For license information please see 3385.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[3385],{171:function(e,t,n){n.d(t,{U:function(){return r},u:function(){return i}});var r,o=n(5745);function i(e){return(0,o.A)()}!function(e){e[e.MISCELLANEOUS=1]="MISCELLANEOUS",e[e.LOCAL_MESSAGE=2]="LOCAL_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.COMPONENT=4]="COMPONENT",e[e.USER=6]="USER",e[e.DEVICE_ID=8]="DEVICE_ID",e[e.FILE=9]="FILE"}(r||(r={}))},481:function(e,t,n){n.d(t,{I:function(){return l},a:function(){return f},b:function(){return d},c:function(){return s},d:function(){return m},e:function(){return E},g:function(){return C}});var r=n(4880),o=n(711);const i="undefined"!=typeof window&&"undefined"!=typeof navigator,a=i?(0,r.o0)():void 0;let u=0,c=0;i&&(u=window.screen.width,c=window.screen.height);const s="iOS"===a?.os,l=s||"Android OS"===a?.os,d=l&&(u<500||c<500),m=d&&u<500,f=(0,o.A)(function(){if(!i||!window.sessionStorage)return!1;try{return window.sessionStorage.setItem("web-chat-test-item","true"),window.sessionStorage.getItem("web-chat-test-item"),window.sessionStorage.removeItem("web-chat-test-item"),!0}catch{return!1}});function C(e){try{return new URL(e).hostname}catch{return e}}function E(e,t){return t?setTimeout(e,t):(e(),null)}},3744:function(e,t,n){n.d(t,{A:function(){return A},S:function(){return u},a:function(){return d},b:function(){return S},c:function(){return s},d:function(){return f},e:function(){return C},f:function(){return w},g:function(){return v},h:function(){return h},i:function(){return g},j:function(){return p},k:function(){return _},l:function(){return E},m:function(){return l},u:function(){return c}});var r=n(3696),o=n(2271),i=n(711),a=n(3066);const u=r.createContext(null);function c(){return(0,r.useContext)(u)}const s=(0,i.A)(function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n});function l(e,t=!1,n){e&&(0,o.O)(e,{boundary:n,scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:e,top:n,left:r})=>{d(e,Math.round(n),Math.round(r),t)})}function d(e,t,n,r=!1){setTimeout(()=>{e&&(r&&e.scroll?e.scroll({top:t,left:n,behavior:"smooth"}):(e.scrollTop=t,e.scrollLeft=n))})}function m(e,t=!1){e&&document.activeElement!==e&&(0,a.tabbable)(e,{getShadowRoot:!0})&&e.focus({preventScroll:t})}function f(e,t=!1,n=!1){e&&(t?setTimeout(()=>{f(e)}):e.current&&m(e.current,n))}function C(e){return 1===e?.nodeType}function E(e){return 3===e?.nodeType}function h(e){return"INPUT"===e?.tagName}function _(e){return"IMG"===e?.tagName}function p(e){return"TEXTAREA"===e?.tagName}function w(e){for(let t=0;t<e.length;t++)if(T(e[t]))return!0;return!1}function T(e){const t=(0,a.tabbable)(e,{getShadowRoot:!0});return!!t?.length&&(m(t[0]),!0)}function g(e){return"Enter"===e.key&&!function(e){return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey}(e)&&!(e.isComposing||229===e.keyCode)}function v(e){return e?e.scrollHeight-e.offsetHeight-e.scrollTop:0}const A=r.createContext(null);function S(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},8213:function(e,t,n){n.d(t,{H:function(){return a},a:function(){return i}});var r=n(4452),o=n(3696);const i=o.createContext(!1);function a(e){const{hidden:t,children:n,className:a,...u}=e;return o.createElement(i.Provider,{value:t},o.createElement("div",{className:r(a,{WAC__hidden:t}),...u},n))}},9395:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r,o=n(6680),i=n(2629),a=n(4307),u=n(3210),c=n(3696),s=n(2712),l=n(8710),d=n(5022),m=n(3539),f=n(5550),C=n(9708),E=n(3744),h=n(6874),_=n(8213),p=n(2794),w=n(1709);const T=c.forwardRef(function({children:e,size:t=16,...n},o){return c.createElement(w.A,{width:t,height:t,ref:o,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},r||(r=c.createElement("path",{d:"M8 15H24V17H8z"})),e)});var g,v;const A=c.forwardRef(function({children:e,size:t=16,...n},r){return 16===t||"16"===t||"16px"===t?c.createElement(w.A,{width:t,height:t,ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...n},g||(g=c.createElement("path",{d:"M6.7 12.3L2.9 8.5 15 8.5 15 7.5 2.9 7.5 6.7 3.7 6 3 1 8 6 13z"})),e):c.createElement(w.A,{width:t,height:t,ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},v||(v=c.createElement("path",{d:"M14 26L15.41 24.59 7.83 17 28 17 28 15 7.83 15 15.41 7.41 14 6 4 16 14 26z"})),e)});var S,N,I=n(2117);const B=c.forwardRef(function({children:e,size:t=16,...n},r){return c.createElement(w.A,{width:t,height:t,ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},S||(S=c.createElement("path",{d:"M17.74,30,16,29l4-7h6a2,2,0,0,0,2-2V8a2,2,0,0,0-2-2H6A2,2,0,0,0,4,8V20a2,2,0,0,0,2,2h9v2H6a4,4,0,0,1-4-4V8A4,4,0,0,1,6,4H26a4,4,0,0,1,4,4V20a4,4,0,0,1-4,4H21.16Z"})),N||(N=c.createElement("path",{d:"M8 10H24V12H8zM8 16H18V18H8z"})),e)});var W=n(4452),y=n(307),b=n(4859),M=n(893),k=n(5564),x=n(1536);n(5285),n(8142),n(3820),n(8586),n(3150),n(700),n(3192),n(619),n(1264),n(7323),n(3082);const R=(0,u.a)({tagName:"cds-custom-inline-notification",elementClass:s.Ay,react:c});function O(e){const{hideMinimizeButton:t,onMinimizeClick:n,onCloseClick:r}=e,{tour_ariaMinimizeButton:o,tour_ariaCloseButton:i}=(0,C.u)();return c.createElement("div",{className:"WACTour__CloseMinimizeWrapper"},!t&&c.createElement(c.Fragment,null,c.createElement(a.$nd,{className:"WACTour__CloseMinimizeButton WACTour__MinimizeButton",kind:"ghost",hasIconOnly:!0,renderIcon:T,iconDescription:o,onClick:n,"aria-label":o}),c.createElement("div",{className:"WACTour__CloseMinimizeDivider"})),c.createElement(a.$nd,{className:"WACTour__CloseMinimizeButton WACTour__CloseButton",kind:"ghost",hasIconOnly:!0,renderIcon:p.A,iconDescription:i,onClick:r,"aria-label":i}))}function D(e,t){const{reservePreviousButtonSpace:n,hidePreviousButton:r,renderDoneButton:o,disableNextButton:i,hideButtons:u,hideChatButton:s,onOpenMainWindowClick:l,onNextClick:d,onPreviousClick:m,onDoneClick:f}=e,{tour_ariaChatButton:h,tour_ariaNextButton:_,tour_ariaPreviousButton:p,tour_doneButton:w}=(0,C.u)(),T=(0,c.useRef)(),g=(0,c.useRef)();return(0,c.useImperativeHandle)(t,()=>({requestFocus:()=>{setTimeout(()=>{g.current?(0,E.d)(g):(0,E.d)(T)})}})),c.createElement("div",{className:W("WACTour__Controls",{"WACTour__Controls--empty":u})},!s&&c.createElement("div",{className:"WACTour__ControlsButton"},c.createElement(a.$nd,{className:"WACTour__MainWindowButton",kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>c.createElement(B,{...e}),iconDescription:h,onClick:l,"aria-label":h})),n&&c.createElement("div",{className:"WACTour__ControlsButton"},c.createElement(a.$nd,{className:W("WACTour__PreviousButton",{"WACTour__ControlsButton--hidden":r}),kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>c.createElement(A,{...e}),iconDescription:p,onClick:m,"aria-label":p})),o&&c.createElement("div",{className:"WACTour__ControlsButton"},c.createElement(a.$nd,{ref:g,className:"WACTour__DoneButton",size:"md",onClick:f},w)),!o&&c.createElement("div",{className:"WACTour__ControlsButton"},c.createElement(a.$nd,{ref:T,className:"WACTour__NextButton",size:"md",hasIconOnly:!0,renderIcon:e=>c.createElement(I.A,{...e}),iconDescription:_,onClick:d,disabled:i,"aria-label":_})))}const z=c.forwardRef(D);function H(e){const{stepGenericItem:t,isCurrentStep:n}=e,r=(0,f.u)(),o=(0,c.useRef)();return(0,c.useEffect)(()=>{n&&setTimeout(()=>r(o.current))},[n,t.response_type,r]),c.createElement("div",{className:"WACTourStep__Wrapper",ref:o},c.createElement("div",{className:W("WACTourStep","WAC__message",{"WACTourStep--hidden":!n,WACTourStep__BottomBorder:function(){switch(t.response_type){case k.b.TEXT:return!0;case k.b.IMAGE:case k.b.VIDEO:return t?.description;default:return!0}}()})},function(){switch(t.response_type){case k.b.TEXT:return c.createElement(L,{messageItem:t});case k.b.IMAGE:return c.createElement(V,{messageItem:t});case k.b.VIDEO:return c.createElement(P,{messageItem:t,isCurrentStep:n});default:return c.createElement(U,{messageItem:t,isCurrentStep:n})}}()))}function L(e){const{messageItem:t}=e,{text:n}=t;return c.createElement("div",{className:"WACTourStep__Text"},c.createElement(M.R,{text:n}))}function V(e){const{messageItem:t}=e,{source:n,description:r,alt_text:o}=t,i=(0,C.u)();return c.createElement(h.I,{imageError:i.errors_imageSource,source:n,description:r,altText:o,hideIconAndTitle:!0})}function P(e){const{messageItem:t,isCurrentStep:n}=e,{source:r,description:o,alt_text:i}=t,{viewState:a}=(0,d.d4)(e=>e.persistedToBrowserStorage.launcherState),[u,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{n&&a.tour||s(!1)},[n,a.tour]),c.createElement(h.a,{source:r,description:o,baseHeight:(0,y.g)(t)?.base_height,ariaLabel:i,playing:u,onPlay:()=>s(!0),onPause:()=>s(!1),hideIconAndTitle:!0})}function U(e){const{messageItem:t,isCurrentStep:n}=e,r=(0,C.u)();return(0,c.useEffect)(()=>{n&&(0,b.b)(`The response type you tried to use "${t.response_type}" is not valid within a tour step. The supported response types in tour steps are text, video, and image.`)},[n,t.response_type]),c.createElement("div",{className:"WACTourStep__UnsupportedResponse"},c.createElement(f.I,{text:r.errors_generalContent}))}const F=c.memo(H);function G(){return c.createElement("div",{className:"WACTourStep WACTourStep__Skeleton"},c.createElement(h.S,{className:"WACTourStep__SkeletonPlaceholder"}))}function $(e,t){const n=(0,C.u)(),r=(0,E.u)(),u=(0,f.u)(),s=(0,l.A)(),p=(0,d.d4)(e=>e.config.public.tourConfig),{isHydrated:w}=(0,d.d4)(e=>e),{viewState:T}=(0,d.d4)(e=>e.persistedToBrowserStorage.launcherState),{activeTourCurrentStepIndex:g}=(0,d.d4)(e=>e.persistedToBrowserStorage.chatState.persistedTourState),{activeTourStepItems:v}=(0,d.d4)(e=>e.tourState),[A,S]=(0,c.useState)(!1),[N,I]=(0,c.useState)(!1),[B,W]=(0,c.useState)(!1),y=(0,c.useRef)(),b=(0,c.useRef)(),M=r.namespace.originalName,k=M?"window_ariaTourRegionNamespace":"window_ariaTourRegion",D=(0,h.f)(s,k,{namespace:M}),H=!T.tour;let L=!0,V=!1,P=!1,U=[];return w&&v?(L=v.length>1,V=g<=0,P=g>=v.length-1,U=v.map((e,t)=>c.createElement(F,{key:t,stepGenericItem:e,isCurrentStep:t===g}))):w||(U=[c.createElement(G,{key:0})]),(0,c.useImperativeHandle)(t,()=>b.current),(0,c.useEffect)(()=>{if(w&&!H&&!B){const e=s.formatMessage({id:"tour_instructions"},{chatButtonText:n.tour_ariaChatButton});u(e)}},[H,u,n,s,w,B]),(0,c.useEffect)(()=>{!w&&H||b.current?.requestFocus()},[H,w]),c.createElement(_.H,{hidden:H},c.createElement("div",{ref:y,className:"WACTour",role:"region","aria-label":D},c.createElement(O,{hideMinimizeButton:p?.hideMinimizeButton,onCloseClick:async function(){await r.actions.endTour({viewChangeReason:m.V.TOUR_CLOSED})},onMinimizeClick:async function(){await r.actions.changeView(x.V.LAUNCHER,{viewChangeReason:m.V.TOUR_MINIMIZED})}}),B&&c.createElement(h.A,null,c.createElement("div",{className:"WACTour__ErrorScreen"},c.createElement("div",{className:"WACTour__ErrorHeader"},c.createElement(o.A,{size:20,className:"WACTour__ErrorIcon"}),n.tour_errorTitle),c.createElement("div",{className:"WACTour__ErrorBody"},c.createElement("div",{className:"WACTour__ErrorText"},n.tour_errorBody),c.createElement(a.$nd,{className:"WACTour__ErrorButton",size:"sm",kind:"tertiary",renderIcon:e=>c.createElement(i.A,{size:32,...e})},n.buttons_retry)))),!B&&c.createElement(c.Fragment,null,U,c.createElement("div",{className:"WACTour__StatusContainer"},N&&c.createElement(h.A,null,c.createElement(R,{kind:"error",title:n.tour_errorFetchingStep,lowContrast:!0,hideCloseButton:!0,onClick:()=>I(!1)})),A&&c.createElement(f.M,{delay:500},c.createElement("div",{className:"WACLoadingBar__ConnectingAnimation"}))),c.createElement(z,{ref:b,hideChatButton:p?.hideChatButton,reservePreviousButtonSpace:L,hidePreviousButton:V,disableNextButton:A,hideButtons:!w,renderDoneButton:P,onNextClick:()=>{r.actions.changeStepInTour({nextStep:!0}),g+1===v.length-1&&b.current?.requestFocus()},onPreviousClick:()=>{r.actions.changeStepInTour({previousStep:!0}),g-1==0&&b.current?.requestFocus()},onOpenMainWindowClick:async function(){await r.actions.changeView(x.V.MAIN_WINDOW,{mainWindowOpenReason:m.b.TOUR_OPENED_OTHER_VIEW})},onDoneClick:async function(){await r.eventBus.fire({type:m.B.TOUR_END,reason:m.T.DONE_CLICKED},r.instance),await r.actions.endTour({viewChangeReason:m.V.TOUR_DONE})}}))))}const K=c.memo(c.forwardRef($))},9708:function(e,t,n){n.d(t,{C:function(){return a},L:function(){return o},u:function(){return i}});var r=n(3696);const o=r.createContext(null);function i(){return(0,r.useContext)(o)}var a;!function(e){e.NARROW="narrow",e.STANDARD="standard",e.WIDE="wide"}(a||(a={}))}}]);
//# sourceMappingURL=3385.bundle.js.map