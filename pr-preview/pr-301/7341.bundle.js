/*! For license information please see 7341.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[7341],{171:function(e,t,n){n.d(t,{U:function(){return r},u:function(){return i}});var r,o=n(5745);function i(e){return(0,o.A)()}!function(e){e[e.MISCELLANEOUS=1]="MISCELLANEOUS",e[e.LOCAL_MESSAGE=2]="LOCAL_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.COMPONENT=4]="COMPONENT",e[e.USER=6]="USER",e[e.DEVICE_ID=8]="DEVICE_ID",e[e.FILE=9]="FILE"}(r||(r={}))},481:function(e,t,n){n.d(t,{I:function(){return l},a:function(){return f},b:function(){return d},c:function(){return s},d:function(){return m},e:function(){return _},g:function(){return C}});var r=n(4880),o=n(711);const i="undefined"!=typeof window&&"undefined"!=typeof navigator,u=i?(0,r.o0)():void 0;let a=0,c=0;i&&(a=window.screen.width,c=window.screen.height);const s="iOS"===u?.os,l=s||"Android OS"===u?.os,d=l&&(a<500||c<500),m=d&&a<500,f=(0,o.A)(function(){if(!i||!window.sessionStorage)return!1;try{return window.sessionStorage.setItem("web-chat-test-item","true"),window.sessionStorage.getItem("web-chat-test-item"),window.sessionStorage.removeItem("web-chat-test-item"),!0}catch{return!1}});function C(e){try{return new URL(e).hostname}catch{return e}}function _(e,t){return t?setTimeout(e,t):(e(),null)}},3744:function(e,t,n){n.d(t,{A:function(){return v},S:function(){return a},a:function(){return d},b:function(){return I},c:function(){return s},d:function(){return f},e:function(){return C},f:function(){return T},g:function(){return g},h:function(){return E},i:function(){return S},j:function(){return h},k:function(){return p},l:function(){return _},m:function(){return l},u:function(){return c}});var r=n(3696),o=n(2271),i=n(711),u=n(3066);const a=r.createContext(null);function c(){return(0,r.useContext)(a)}const s=(0,i.A)(function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n});function l(e,t=!1,n){e&&(0,o.O)(e,{boundary:n,scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:e,top:n,left:r})=>{d(e,Math.round(n),Math.round(r),t)})}function d(e,t,n,r=!1){setTimeout(()=>{e&&(r&&e.scroll?e.scroll({top:t,left:n,behavior:"smooth"}):(e.scrollTop=t,e.scrollLeft=n))})}function m(e,t=!1){e&&document.activeElement!==e&&(0,u.tabbable)(e,{getShadowRoot:!0})&&e.focus({preventScroll:t})}function f(e,t=!1,n=!1){e&&(t?setTimeout(()=>{f(e)}):e.current&&m(e.current,n))}function C(e){return 1===e?.nodeType}function _(e){return 3===e?.nodeType}function E(e){return"INPUT"===e?.tagName}function p(e){return"IMG"===e?.tagName}function h(e){return"TEXTAREA"===e?.tagName}function T(e){for(let t=0;t<e.length;t++)if(A(e[t]))return!0;return!1}function A(e){const t=(0,u.tabbable)(e,{getShadowRoot:!0});return!!t?.length&&(m(t[0]),!0)}function S(e){return"Enter"===e.key&&!function(e){return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey}(e)&&!(e.isComposing||229===e.keyCode)}function g(e){return e?e.scrollHeight-e.offsetHeight-e.scrollTop:0}const v=r.createContext(null);function I(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},8031:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(6680),o=n(2629),i=n(1284),u=n(3696),a=n(8710),c=n(5022),s=n(3539),l=n(5550),d=n(8950),m=n(3744),f=n(6874),C=n(8213),_=n(2794),E=n(6564),p=n(8738),h=n(2117),T=n(8382),A=n(4452),S=n(307),g=n(4859),v=n(655),I=n(893),N=n(1536);function w(e){const{hideMinimizeButton:t,onMinimizeClick:n,onCloseClick:r}=e,{tour_ariaMinimizeButton:o,tour_ariaCloseButton:a}=(0,d.u)();return u.createElement("div",{className:"WACTour__CloseMinimizeWrapper"},!t&&u.createElement(u.Fragment,null,u.createElement(i.$nd,{className:"WACTour__CloseMinimizeButton WACTour__MinimizeButton",kind:"ghost",hasIconOnly:!0,renderIcon:E.A,iconDescription:o,onClick:n,"aria-label":o}),u.createElement("div",{className:"WACTour__CloseMinimizeDivider"})),u.createElement(i.$nd,{className:"WACTour__CloseMinimizeButton WACTour__CloseButton",kind:"ghost",hasIconOnly:!0,renderIcon:_.A,iconDescription:a,onClick:r,"aria-label":a}))}function B(e,t){const{reservePreviousButtonSpace:n,hidePreviousButton:r,renderDoneButton:o,disableNextButton:a,hideButtons:c,hideChatButton:s,onOpenMainWindowClick:l,onNextClick:f,onPreviousClick:C,onDoneClick:_}=e,{tour_ariaChatButton:E,tour_ariaNextButton:S,tour_ariaPreviousButton:g,tour_doneButton:v}=(0,d.u)(),I=(0,u.useRef)(),N=(0,u.useRef)();return(0,u.useImperativeHandle)(t,()=>({requestFocus:()=>{setTimeout(()=>{N.current?(0,m.d)(N):(0,m.d)(I)})}})),u.createElement("div",{className:A("WACTour__Controls",{"WACTour__Controls--empty":c})},!s&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{className:"WACTour__MainWindowButton",kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>u.createElement(T.A,{...e}),iconDescription:E,onClick:l,"aria-label":E})),n&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{className:A("WACTour__PreviousButton",{"WACTour__ControlsButton--hidden":r}),kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>u.createElement(p.A,{...e}),iconDescription:g,onClick:C,"aria-label":g})),o&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{ref:N,className:"WACTour__DoneButton",size:"md",onClick:_},v)),!o&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{ref:I,className:"WACTour__NextButton",size:"md",hasIconOnly:!0,renderIcon:e=>u.createElement(h.A,{...e}),iconDescription:S,onClick:f,disabled:a,"aria-label":S})))}n(5285),n(8142),n(3210),n(3192),n(619),n(1264),n(7323),n(3082),n(1357);const W=u.forwardRef(B);function y(e){const{stepGenericItem:t,isCurrentStep:n}=e,r=(0,l.u)(),o=(0,u.useRef)();return(0,u.useEffect)(()=>{n&&setTimeout(()=>r(o.current))},[n,t.response_type,r]),u.createElement("div",{className:"WACTourStep__Wrapper",ref:o},u.createElement("div",{className:A("WACTourStep","WAC__message",{"WACTourStep--hidden":!n,WACTourStep__BottomBorder:function(){switch(t.response_type){case N.e.TEXT:return!0;case N.e.IMAGE:case N.e.VIDEO:return t?.description;default:return!0}}()})},function(){switch(t.response_type){case N.e.TEXT:return u.createElement(k,{messageItem:t});case N.e.IMAGE:return u.createElement(b,{messageItem:t});case N.e.VIDEO:return u.createElement(M,{messageItem:t,isCurrentStep:n});default:return u.createElement(O,{messageItem:t,isCurrentStep:n})}}()))}function k(e){const{messageItem:t}=e,{text:n}=t;return u.createElement("div",{className:"WACTourStep__Text"},u.createElement(I.R,{text:n}))}function b(e){const{messageItem:t}=e,{source:n,description:r,alt_text:o}=t,i=(0,d.u)();return u.createElement(f.I,{imageError:i.errors_imageSource,source:n,description:r,altText:o,hideIconAndTitle:!0})}function M(e){const{messageItem:t,isCurrentStep:n}=e,{source:r,description:o,alt_text:i}=t,{viewState:a}=(0,c.d4)(e=>e.persistedToBrowserStorage.launcherState),[s,l]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{n&&a.tour||l(!1)},[n,a.tour]),u.createElement(f.a,{source:r,description:o,baseHeight:(0,S.g)(t)?.base_height,ariaLabel:i,playing:s,onPlay:()=>l(!0),onPause:()=>l(!1),hideIconAndTitle:!0})}function O(e){const{messageItem:t,isCurrentStep:n}=e,r=(0,d.u)();return(0,u.useEffect)(()=>{n&&(0,g.b)(`The response type you tried to use "${t.response_type}" is not valid within a tour step. The supported response types in tour steps are text, video, and image.`)},[n,t.response_type]),u.createElement("div",{className:"WACTourStep__UnsupportedResponse"},u.createElement(v.I,{text:r.errors_generalContent}))}const R=u.memo(y);function x(){return u.createElement("div",{className:"WACTourStep WACTourStep__Skeleton"},u.createElement(f.S,{className:"WACTourStep__SkeletonPlaceholder"}))}function D(e,t){const n=(0,d.u)(),_=(0,m.u)(),E=(0,l.u)(),p=(0,a.A)(),h=(0,c.d4)(e=>e.config.public.tourConfig),{isHydrated:T}=(0,c.d4)(e=>e),{viewState:A}=(0,c.d4)(e=>e.persistedToBrowserStorage.launcherState),{activeTourCurrentStepIndex:S}=(0,c.d4)(e=>e.persistedToBrowserStorage.chatState.persistedTourState),{activeTourStepItems:g}=(0,c.d4)(e=>e.tourState),[v,I]=(0,u.useState)(!1),[B,y]=(0,u.useState)(!1),[k,b]=(0,u.useState)(!1),M=(0,u.useRef)(),O=(0,u.useRef)(),D=_.namespace.originalName,z=D?"window_ariaTourRegionNamespace":"window_ariaTourRegion",L=(0,f.f)(p,z,{namespace:D}),P=!A.tour;let U=!0,V=!1,H=!1,F=[];return T&&g?(U=g.length>1,V=S<=0,H=S>=g.length-1,F=g.map((e,t)=>u.createElement(R,{key:t,stepGenericItem:e,isCurrentStep:t===S}))):T||(F=[u.createElement(x,{key:0})]),(0,u.useImperativeHandle)(t,()=>O.current),(0,u.useEffect)(()=>{if(T&&!P&&!k){const e=p.formatMessage({id:"tour_instructions"},{chatButtonText:n.tour_ariaChatButton});E(e)}},[P,E,n,p,T,k]),(0,u.useEffect)(()=>{!T&&P||O.current?.requestFocus()},[P,T]),u.createElement(C.H,{hidden:P},u.createElement("div",{ref:M,className:"WACTour",role:"region","aria-label":L},u.createElement(w,{hideMinimizeButton:h?.hideMinimizeButton,onCloseClick:async function(){await _.actions.endTour({viewChangeReason:s.V.TOUR_CLOSED})},onMinimizeClick:async function(){await _.actions.changeView(N.V.LAUNCHER,{viewChangeReason:s.V.TOUR_MINIMIZED})}}),k&&u.createElement(f.A,null,u.createElement("div",{className:"WACTour__ErrorScreen"},u.createElement("div",{className:"WACTour__ErrorHeader"},u.createElement(r.A,{size:20,className:"WACTour__ErrorIcon"}),n.tour_errorTitle),u.createElement("div",{className:"WACTour__ErrorBody"},u.createElement("div",{className:"WACTour__ErrorText"},n.tour_errorBody),u.createElement(i.$nd,{className:"WACTour__ErrorButton",size:"sm",kind:"tertiary",renderIcon:e=>u.createElement(o.A,{size:32,...e})},n.buttons_retry)))),!k&&u.createElement(u.Fragment,null,F,u.createElement("div",{className:"WACTour__StatusContainer"},B&&u.createElement(f.A,null,u.createElement(i.jeF,{kind:"error",title:n.tour_errorFetchingStep,lowContrast:!0,hideCloseButton:!0,onClick:()=>y(!1)})),v&&u.createElement(l.M,{delay:500},u.createElement("div",{className:"WACLoadingBar__ConnectingAnimation"}))),u.createElement(W,{ref:O,hideChatButton:h?.hideChatButton,reservePreviousButtonSpace:U,hidePreviousButton:V,disableNextButton:v,hideButtons:!T,renderDoneButton:H,onNextClick:()=>{_.actions.changeStepInTour({nextStep:!0}),S+1===g.length-1&&O.current?.requestFocus()},onPreviousClick:()=>{_.actions.changeStepInTour({previousStep:!0}),S-1==0&&O.current?.requestFocus()},onOpenMainWindowClick:async function(){await _.actions.changeView(N.V.MAIN_WINDOW,{mainWindowOpenReason:s.b.TOUR_OPENED_OTHER_VIEW})},onDoneClick:async function(){await _.eventBus.fire({type:s.B.TOUR_END,reason:s.T.DONE_CLICKED},_.instance),await _.actions.endTour({viewChangeReason:s.V.TOUR_DONE})}}))))}const z=u.memo(u.forwardRef(D))},8213:function(e,t,n){n.d(t,{H:function(){return u},a:function(){return i}});var r=n(4452),o=n(3696);const i=o.createContext(!1);function u(e){const{hidden:t,children:n,className:u,...a}=e;return o.createElement(i.Provider,{value:t},o.createElement("div",{className:r(u,{WAC__hidden:t}),...a},n))}},8950:function(e,t,n){n.d(t,{L:function(){return o},u:function(){return i}});var r=n(3696);const o=r.createContext(null);function i(){return(0,r.useContext)(o)}}}]);
//# sourceMappingURL=7341.bundle.js.map