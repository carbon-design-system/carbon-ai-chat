/*! For license information please see 5392.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[5392],{1485:function(e,t,n){n.d(t,{W:function(){return l}});var r=n(3696),a=n(6254),o=n(6680),s=n(4452);function i(e){return r.createElement(o.A,{className:s("WACErrorIcon",e.className)})}var c=n(369);function l({text:e}){const t=(0,a.D)();return r.createElement("div",{className:"WAC__inlineError"},r.createElement("div",{className:"WAC__inlineError--iconHolder"},r.createElement(i,{className:"WAC__inlineError--icon"})),r.createElement("div",{className:"WAC__inlineError--text"},r.createElement(c.s,{shouldRemoveHTMLBeforeMarkdownConversion:!0,text:e||t.errors_generalContent})))}},2510:function(e,t,n){n.d(t,{_:function(){return _}});var r=n(393),a=n(4452),o=n(3696),s=n(9705),i=n(5230),c=n(5822),l=n(1485),u=n(3561);function m(e){const{imageError:t,title:n,description:c,displayURL:m,hideIconAndTitle:_,needsAnnouncement:E,renderIcon:C,inline:p}=e,A=(0,s.q)(),[T,f]=(0,o.useState)(!1),[W,g]=(0,o.useState)(!1),h=(0,o.useRef)(),I=(0,o.useRef)(E),v=Boolean(n||c||m),N=C;return(0,o.useEffect)(()=>{T&&I.current&&A(h.current)},[A,T]),W?o.createElement(l.W,{text:t}):p?o.createElement(d,{...e,setIsError:g,setIsLoaded:f,isError:W,isLoaded:T}):o.createElement(r.FAs,{ref:h,className:a("WACImage",{WACImage__TextAndIcon:v&&Boolean(C),WACImage__IconOnly:!_&&!n&&!c&&Boolean(C)})},o.createElement("div",{className:"WACImage__ImageWrapper"},o.createElement(d,{...e,setIsError:g,setIsLoaded:f,isError:W,isLoaded:T})),v&&o.createElement(u.g,{title:n,description:c,displayURL:m,urlHostName:m&&(0,i.PB)(m),hideTitle:_}),Boolean(N)&&o.createElement(N,{className:a("WACImage__Icon","WACDirectionHasReversibleSVG",{"WACImage__Icon--link":m})}))}function d({source:e,title:t,description:n,altText:s,displayURL:i,preventInlineError:l,onImageLoad:u,useAITheme:m,isLoaded:d,isError:_,setIsLoaded:E,setIsError:C,className:p,inline:A}){const[T,f]=(0,o.useState)(!1),W=s||t||n||"",g=Boolean(t||n||i),h=(0,o.useCallback)(()=>{l&&g?f(!0):C(!0)},[l,g,C]);return(0,o.useEffect)(()=>{let e=null;return d||(e=setTimeout(h,c.S)),()=>{clearTimeout(e)}},[d,h]),o.createElement(o.Fragment,null,!d&&!T&&!A&&e&&(m?o.createElement(r.HOw,{className:"WACImage__Skeleton"}):o.createElement(r.PuA,{className:"WACImage__Skeleton"})),!_&&!T&&e&&o.createElement("img",{className:a("WACImage__Image",{[p]:p,"WACImage__Image--loaded":d}),src:e,alt:W,onLoad:()=>{u?.(),E(!0)},onError:h}))}const _=o.memo(m)},3415:function(e,t,n){n.d(t,{K:function(){return W}});var r=n(169),a=n(393),o=n(4452),s=n(3696),i=n(9705),c=n(6254),l=n(5608),u=n(5822),m=n(2870),d=n(5681),_=n(1485),E=n(3561),C=n(9633),p=n(5088),A=n(4432);const T=(0,p.kN)();function f({type:e,source:t,title:n,description:p,ariaLabel:f,isMixcloud:W,baseHeight:g,doAutoScroll:h,playing:I,onPlay:v,onPause:N,hideIconAndTitle:y,needsAnnouncement:S}){const[B,k]=(0,s.useState)(!1),[P,x]=(0,s.useState)(!1),{errors_audioSource:M,errors_videoSource:w}=(0,c.D)(),D=(0,i.q)(),R=(0,s.useRef)(),b=W?"120px":(0,m.rP)(g),O=(0,A.T)({paddingTop:b}),H=e===C.sP.AUDIO,L=H?M:w,z=(0,l.Z)(t),U=(0,s.useRef)(S),F=(0,s.useCallback)(()=>{x(!0),k(!0)},[]);(0,s.useEffect)(()=>{t!==z&&B&&k(!1)},[z,B,t]),(0,s.useEffect)(()=>{let e=null;return B||(e=setTimeout(F,u.S)),()=>{clearTimeout(e)}},[B,F]),(0,s.useEffect)(()=>{B&&U.current&&D(R.current)},[D,B]);const q=(0,s.useCallback)(()=>{B||(k(!0),h?.())},[h,B]);return s.createElement(s.Fragment,null,!B&&s.createElement(a.FAs,{className:"WACMediaPlayer__Skeleton"},s.createElement("div",{className:"WACMediaPlayer__SkeletonContainer",style:O},s.createElement(d.P,{className:"WACMediaPlayer__SkeletonPlayer"})),(n||p)&&s.createElement("div",{className:"WACMediaPlayer__SkeletonTextContainer"},s.createElement(d.r,{paragraph:!0,lineCount:2}))),s.createElement("div",{className:"WACMediaPlayer__Root",ref:R},P&&s.createElement(_.W,{text:L}),!P&&s.createElement(a.FAs,{className:o("WACMediaPlayer",{WAC__hidden:!B})},s.createElement("div",{className:"WACMediaPlayer__Wrapper",style:O},s.createElement("div",{className:o("WACMediaPlayer__Background",{"WACMediaPlayer__Background--audio":H})},H&&s.createElement(r.A,{size:32,className:"WACMediaPlayer__MusicIcon"})),s.createElement(s.Suspense,{fallback:s.createElement("div",null)},s.createElement(T,{className:"WACMediaPlayer__Player",url:t,controls:!0,width:"100%",height:"100%",config:{file:{forceVideo:!0,attributes:{controlsList:"nodownload","aria-label":f||p||n}}},playsinline:!0,playing:I,onPlay:v,onPause:N,onReady:q,onError:F,pip:!0}))),(n||p)&&s.createElement(E.g,{title:n,description:p,hideTitle:y}))))}const W=s.memo(f)},3561:function(e,t,n){n.d(t,{g:function(){return s}});var r=n(4452),a=n(3696),o=n(5112);function s({title:e,description:t,displayURL:n,urlHostName:s,hideTitle:i}){return a.createElement("div",{className:"WACTextHolderTile"},a.createElement("div",{className:r("WACTextHolderTile__Wrapper","WACWidget__textEllipsis",{WACTextHolderTile__IconMargin:!n})},!i&&e&&a.createElement("div",{className:"WACTextHolderTile__Title"},e),t&&a.createElement("div",{className:r("WACTextHolderTile__Description",{WACTextHolderTile__DescriptionMargin:e})},t),n&&a.createElement(a.Fragment,null,a.createElement(o.A,null,s),a.createElement("div",{className:r("WACTextHolderTile__Url","WACWidget__textEllipsis",{WACTextHolderTile__UrlMargin:e||t}),"aria-hidden":!0},n))))}},4051:function(e,t,n){n.d(t,{d:function(){return i}});var r=n(3696),a=n(3415),o=n(9633);function s({...e}){return r.createElement(a.K,{type:o.sP.VIDEO,...e})}const i=r.memo(s)},4432:function(e,t,n){n.d(t,{T:function(){return a}});var r=n(3696);const a=e=>(0,r.useMemo)(()=>{const t={};return Object.entries(e).forEach(([e,n])=>{if(null!=n){const r=e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`);t[`--${r}`]=n}}),t},[e])},5392:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r=n(6680),a=n(2629),o=n(393),s=n(3210),i=n(3696),c=n(829);const l=(0,s.a)({tagName:"cds-custom-inline-notification",elementClass:c.Ay,react:i});var u=n(8710),m=n(5022),d=n(5505),_=n(9705),E=n(6254),C=n(6683),p=n(5888),A=n(7429),T=n(6516),f=n(5005),W=n(2794),g=n(1802);function h(e){const{hideMinimizeButton:t,onMinimizeClick:n,onCloseClick:r}=e,{tour_ariaMinimizeButton:a,tour_ariaCloseButton:s}=(0,E.D)();return i.createElement("div",{className:"WACTour__CloseMinimizeWrapper"},!t&&i.createElement(i.Fragment,null,i.createElement(o.$nd,{className:"WACTour__CloseMinimizeButton WACTour__MinimizeButton",kind:"ghost",hasIconOnly:!0,renderIcon:g.A,iconDescription:a,onClick:n,"aria-label":a}),i.createElement("div",{className:"WACTour__CloseMinimizeDivider"})),i.createElement(o.$nd,{className:"WACTour__CloseMinimizeButton WACTour__CloseButton",kind:"ghost",hasIconOnly:!0,renderIcon:W.A,iconDescription:s,onClick:r,"aria-label":s}))}var I=n(8738),v=n(2117),N=n(8382),y=n(4452),S=n(7338);function B(e,t){const{reservePreviousButtonSpace:n,hidePreviousButton:r,renderDoneButton:a,disableNextButton:s,hideButtons:c,hideChatButton:l,onOpenMainWindowClick:u,onNextClick:m,onPreviousClick:d,onDoneClick:_}=e,{tour_ariaChatButton:C,tour_ariaNextButton:p,tour_ariaPreviousButton:A,tour_doneButton:T}=(0,E.D)(),f=(0,i.useRef)(),W=(0,i.useRef)();return(0,i.useImperativeHandle)(t,()=>({requestFocus:()=>{setTimeout(()=>{W.current?(0,S.Ht)(W):(0,S.Ht)(f)})}})),i.createElement("div",{className:y("WACTour__Controls",{"WACTour__Controls--empty":c})},!l&&i.createElement("div",{className:"WACTour__ControlsButton"},i.createElement(o.$nd,{className:"WACTour__MainWindowButton",kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>i.createElement(N.A,{...e}),iconDescription:C,onClick:u,"aria-label":C})),n&&i.createElement("div",{className:"WACTour__ControlsButton"},i.createElement(o.$nd,{className:y("WACTour__PreviousButton",{"WACTour__ControlsButton--hidden":r}),kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>i.createElement(I.A,{...e}),iconDescription:A,onClick:d,"aria-label":A})),a&&i.createElement("div",{className:"WACTour__ControlsButton"},i.createElement(o.$nd,{ref:W,className:"WACTour__DoneButton",size:"md",onClick:_},T)),!a&&i.createElement("div",{className:"WACTour__ControlsButton"},i.createElement(o.$nd,{ref:f,className:"WACTour__NextButton",size:"md",hasIconOnly:!0,renderIcon:e=>i.createElement(v.A,{...e}),iconDescription:p,onClick:m,disabled:s,"aria-label":p})))}const k=i.forwardRef(B);var P=n(7391),x=n(2870),M=n(1485),w=n(2510),D=n(369),R=n(4051),b=n(9633);function O(e){const{stepGenericItem:t,isCurrentStep:n}=e,r=(0,_.q)(),a=(0,i.useRef)();return(0,i.useEffect)(()=>{n&&setTimeout(()=>r(a.current))},[n,t.response_type,r]),i.createElement("div",{className:"WACTourStep__Wrapper",ref:a},i.createElement("div",{className:y("WACTourStep","WAC__message",{"WACTourStep--hidden":!n,WACTourStep__BottomBorder:function(){switch(t.response_type){case b.sP.TEXT:return!0;case b.sP.IMAGE:case b.sP.VIDEO:return t?.description;default:return!0}}()})},function(){switch(t.response_type){case b.sP.TEXT:return i.createElement(H,{messageItem:t});case b.sP.IMAGE:return i.createElement(L,{messageItem:t});case b.sP.VIDEO:return i.createElement(z,{messageItem:t,isCurrentStep:n});default:return i.createElement(U,{messageItem:t,isCurrentStep:n})}}()))}function H(e){const{messageItem:t}=e,{text:n}=t;return i.createElement("div",{className:"WACTourStep__Text"},i.createElement(D.s,{text:n}))}function L(e){const{messageItem:t}=e,{source:n,description:r,alt_text:a}=t,o=(0,E.D)();return i.createElement(w._,{imageError:o.errors_imageSource,source:n,description:r,altText:a,hideIconAndTitle:!0})}function z(e){const{messageItem:t,isCurrentStep:n}=e,{source:r,description:a,alt_text:o}=t,{viewState:s}=(0,m.d4)(e=>e.persistedToBrowserStorage.launcherState),[c,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n&&s.tour||l(!1)},[n,s.tour]),i.createElement(R.d,{source:r,description:a,baseHeight:(0,P.I3)(t)?.base_height,ariaLabel:o,playing:c,onPlay:()=>l(!0),onPause:()=>l(!1),hideIconAndTitle:!0})}function U(e){const{messageItem:t,isCurrentStep:n}=e,r=(0,E.D)();return(0,i.useEffect)(()=>{n&&(0,x.yA)(`The response type you tried to use "${t.response_type}" is not valid within a tour step. The supported response types in tour steps are text, video, and image.`)},[n,t.response_type]),i.createElement("div",{className:"WACTourStep__UnsupportedResponse"},i.createElement(M.W,{text:r.errors_generalContent}))}const F=i.memo(O);var q=n(5681);function $(){return i.createElement("div",{className:"WACTourStep WACTourStep__Skeleton"},i.createElement(q.P,{className:"WACTourStep__SkeletonPlaceholder"}))}var V=n(6895);function G(e,t){const n=(0,E.D)(),s=(0,C.O)(),c=(0,_.q)(),W=(0,u.A)(),g=(0,m.d4)(e=>e.config.public.tourConfig),{isHydrated:I}=(0,m.d4)(e=>e),{viewState:v}=(0,m.d4)(e=>e.persistedToBrowserStorage.launcherState),{activeTourCurrentStepIndex:N}=(0,m.d4)(e=>e.persistedToBrowserStorage.chatState.persistedTourState),{activeTourStepItems:y}=(0,m.d4)(e=>e.tourState),[S,B]=(0,i.useState)(!1),[P,x]=(0,i.useState)(!1),[M,w]=(0,i.useState)(!1),D=(0,i.useRef)(),R=(0,i.useRef)(),b=s.namespace.originalName,O=b?"window_ariaTourRegionNamespace":"window_ariaTourRegion",H=(0,p.hw)(W,O,{namespace:b}),L=!v.tour;let z=!0,U=!1,q=!1,G=[];return I&&y?(z=y.length>1,U=N<=0,q=N>=y.length-1,G=y.map((e,t)=>i.createElement(F,{key:t,stepGenericItem:e,isCurrentStep:t===N}))):I||(G=[i.createElement($,{key:0})]),(0,i.useImperativeHandle)(t,()=>R.current),(0,i.useEffect)(()=>{if(I&&!L&&!M){const e=W.formatMessage({id:"tour_instructions"},{chatButtonText:n.tour_ariaChatButton});c(e)}},[L,c,n,W,I,M]),(0,i.useEffect)(()=>{!I&&L||R.current?.requestFocus()},[L,I]),i.createElement(T.G,{hidden:L},i.createElement("div",{ref:D,className:"WACTour",role:"region","aria-label":H},i.createElement(h,{hideMinimizeButton:g?.hideMinimizeButton,onCloseClick:async function(){await s.actions.endTour({viewChangeReason:d.ey.TOUR_CLOSED})},onMinimizeClick:async function(){await s.actions.changeView(V.qi.LAUNCHER,{viewChangeReason:d.ey.TOUR_MINIMIZED})}}),M&&i.createElement(A.D,null,i.createElement("div",{className:"WACTour__ErrorScreen"},i.createElement("div",{className:"WACTour__ErrorHeader"},i.createElement(r.A,{size:20,className:"WACTour__ErrorIcon"}),n.tour_errorTitle),i.createElement("div",{className:"WACTour__ErrorBody"},i.createElement("div",{className:"WACTour__ErrorText"},n.tour_errorBody),i.createElement(o.$nd,{className:"WACTour__ErrorButton",size:"sm",kind:"tertiary",renderIcon:e=>i.createElement(a.A,{size:32,...e})},n.buttons_retry)))),!M&&i.createElement(i.Fragment,null,G,i.createElement("div",{className:"WACTour__StatusContainer"},P&&i.createElement(A.D,null,i.createElement(l,{kind:"error",title:n.tour_errorFetchingStep,lowContrast:!0,hideCloseButton:!0,onClick:()=>x(!1)})),S&&i.createElement(f.l,{delay:500},i.createElement("div",{className:"WACLoadingBar__ConnectingAnimation"}))),i.createElement(k,{ref:R,hideChatButton:g?.hideChatButton,reservePreviousButtonSpace:z,hidePreviousButton:U,disableNextButton:S,hideButtons:!I,renderDoneButton:q,onNextClick:()=>{s.actions.changeStepInTour({nextStep:!0}),N+1===y.length-1&&R.current?.requestFocus()},onPreviousClick:()=>{s.actions.changeStepInTour({previousStep:!0}),N-1==0&&R.current?.requestFocus()},onOpenMainWindowClick:async function(){await s.actions.changeView(V.qi.MAIN_WINDOW,{mainWindowOpenReason:d.eg.TOUR_OPENED_OTHER_VIEW})},onDoneClick:async function(){await s.eventBus.fire({type:d.xp.TOUR_END,reason:d.Uj.DONE_CLICKED},s.instance),await s.actions.endTour({viewChangeReason:d.ey.TOUR_DONE})}}))))}const K=i.memo(i.forwardRef(G))},5681:function(e,t,n){n.d(t,{P:function(){return i},r:function(){return s}});var r=n(393),a=n(3696),o=n(5022);function s(e){return(0,o.d4)(e=>e.theme.useAITheme)?a.createElement(r.Ty7,{...e}):a.createElement(r.rrI,{...e})}function i(e){return(0,o.d4)(e=>e.theme.useAITheme)?a.createElement(r.FKV,{...e}):a.createElement(r.PuA,{...e})}}}]);
//# sourceMappingURL=5392.bundle.js.map