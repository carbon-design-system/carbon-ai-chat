{"version":3,"file":"2048.bundle.js","mappings":"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","sources":["webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.IFramePanel.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.IFrameComponent.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.BasePanelComponent.js","webpack://@carbon/ai-chat-examples-demo/../packages/ai-chat/dist/es/chat.MountChildrenOnDelay.js"],"sourcesContent":["import React, { forwardRef } from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport { u as useServiceManager } from \"./chat.usePrevious.js\";\n\nimport { a as actions } from \"./chat.actions.js\";\n\nimport { B as BasePanelComponentExport } from \"./chat.BasePanelComponent.js\";\n\nimport { I as IFrameComponent } from \"./chat.IFrameComponent.js\";\n\nimport { O as OverlayPanelName } from \"./chat.PageObjectId.js\";\n\nimport \"./chat.dynamic-imports.js\";\n\nimport \"compute-scroll-into-view\";\n\nimport \"memoize-one\";\n\nimport \"tabbable\";\n\nimport \"./chat.uuid.js\";\n\nimport \"uuid\";\n\nimport \"focus-trap-react\";\n\nimport \"./chat.browserUtils.js\";\n\nimport \"detect-browser\";\n\nimport \"./chat.Header.js\";\n\nimport \"@carbon/web-components/es-custom/components/slug/index.js\";\n\nimport \"@carbon/icons-react/es/Close.js\";\n\nimport \"@carbon/icons-react/es/CloseLarge.js\";\n\nimport \"@carbon/icons-react/es/DownToBottom.js\";\n\nimport \"@carbon/icons-react/es/Menu.js\";\n\nimport \"@carbon/icons-react/es/Restart.js\";\n\nimport \"@carbon/icons-react/es/SidePanelClose.js\";\n\nimport \"@carbon/icons-react/es/SubtractLarge.js\";\n\nimport \"@carbon/react\";\n\nimport \"@carbon/web-components/es-custom/components/ai-label/defs.js\";\n\nimport \"@carbon/web-components/es-custom/components/popover/defs.js\";\n\nimport \"classnames\";\n\nimport \"@lit/react\";\n\nimport \"tslib\";\n\nimport \"./chat.customElement.js\";\n\nimport \"@carbon/web-components/es-custom/components/skeleton-icon/index.js\";\n\nimport \"lit\";\n\nimport \"bind-decorator\";\n\nimport \"lit/decorators.js\";\n\nimport \"@carbon/web-components/es-custom/components/button/index.js\";\n\nimport \"@carbon/web-components/es-custom/components/overflow-menu/index.js\";\n\nimport \"./chat.carbonTypes.js\";\n\nimport \"@carbon/icons-react/es/ChevronDown.js\";\n\nimport \"@carbon/icons-react/es/ChevronUp.js\";\n\nimport \"@floating-ui/react\";\n\nimport \"./chat.HideComponent.js\";\n\nimport \"./chat.constants.js\";\n\nimport \"react-dom\";\n\nimport \"@carbon/web-components/es-custom/components/ai-label/ai-label-action-button.js\";\n\nimport \"@carbon/web-components/es-custom/components/ai-label/ai-label.js\";\n\nimport \"@carbon/web-components/es-custom/components/loading/loading-icon.js\";\n\nimport \"@carbon/web-components/es-custom/components/loading/loading.js\";\n\nimport \"./chat.MountChildrenOnDelay.js\";\n\nimport \"@carbon/icons-react/es/ErrorFilled.js\";\n\nimport \"./chat.RichText.js\";\n\nimport \"lodash-es/throttle.js\";\n\nimport \"dompurify\";\n\nimport \"lit/directives/repeat.js\";\n\nimport \"lit/directives/unsafe-html.js\";\n\nimport \"./chat.htmlUtils.js\";\n\nimport \"./chat.stringUtils.js\";\n\nimport \"./chat.miscUtils.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function IFramePanelComponent(props, ref) {\n  const languagePack = useLanguagePack();\n  const {store: store} = useServiceManager();\n  const {isOpen: isOpen, messageItem: messageItem} = useSelector(state => state.iFramePanelState);\n  const iframeTitle = messageItem?.title || messageItem?.source;\n  return React.createElement(BasePanelComponentExport, {\n    ...props,\n    ref: ref,\n    className: \"WACIFramePanel\",\n    isOpen: isOpen,\n    onClickBack: () => store.dispatch(actions.closeIFramePanel()),\n    title: iframeTitle,\n    labelBackButton: languagePack.iframe_ariaClosePanel,\n    eventName: \"IFrame panel opened\",\n    eventDescription: \"A user has opened the IFrame panel\",\n    testIdPrefix: OverlayPanelName.IFRAME\n  }, React.createElement(\"div\", {\n    className: \"WACIFramePanel__Content\"\n  }, React.createElement(IFrameComponent, {\n    key: messageItem?.source,\n    source: messageItem?.source,\n    title: iframeTitle\n  })));\n}\n\nconst IFramePanelExport = React.memo(forwardRef(IFramePanelComponent));\n\nexport { IFramePanelExport as IFramePanel, IFramePanelExport as default };\n","import { createComponent } from \"@lit/react\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\n\nimport \"@carbon/web-components/es-custom/components/loading/loading-icon.js\";\n\nimport CarbonLoadingElement from \"@carbon/web-components/es-custom/components/loading/loading.js\";\n\nimport { u as useAriaAnnouncer, I as InlineError, M as MountChildrenOnDelay } from \"./chat.MountChildrenOnDelay.js\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport { b as RESPONSE_TYPE_TIMEOUT_MS } from \"./chat.constants.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ const Loading = createComponent({\n  tagName: \"cds-custom-loading\",\n  elementClass: CarbonLoadingElement,\n  react: React\n});\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function IFrameComponent({title: title, source: source, onTimeoutOverride: onTimeoutOverride, onLoad: onLoad}) {\n  const {errors_iframeSource: errors_iframeSource, iframe_ariaSourceLoaded: iframe_ariaSourceLoaded} = useLanguagePack();\n  const ariaAnnouncer = useAriaAnnouncer();\n  const [showSpinner, setShowSpinner] = useState(true);\n  const [showError, setShowError] = useState(false);\n  const handleIFrameTimeout = useCallback(() => {\n    setShowSpinner(false);\n    setShowError(true);\n    ariaAnnouncer(errors_iframeSource);\n  }, [ ariaAnnouncer, errors_iframeSource ]);\n  const handleIFrameLoaded = useCallback(() => {\n    setShowSpinner(false);\n    ariaAnnouncer(iframe_ariaSourceLoaded);\n    onLoad?.();\n  }, [ ariaAnnouncer, iframe_ariaSourceLoaded, onLoad ]);\n  useEffect(() => {\n    let errorTimeout = null;\n    if (showSpinner) {\n      const timeoutHandler = onTimeoutOverride || handleIFrameTimeout;\n      errorTimeout = setTimeout(timeoutHandler, RESPONSE_TYPE_TIMEOUT_MS);\n    }\n    return () => {\n      clearTimeout(errorTimeout);\n    };\n  }, [ showSpinner, handleIFrameTimeout, onTimeoutOverride ]);\n  return React.createElement(\"div\", {\n    className: \"WACIFrameComponent__Wrapper\"\n  }, showError && renderErrorMessage(errors_iframeSource), !showError && React.createElement(\"iframe\", {\n    className: \"WACIFrameComponent__IFrame\",\n    title: title,\n    src: source,\n    sandbox: \"allow-scripts allow-downloads allow-forms allow-same-origin allow-popups\",\n    referrerPolicy: \"origin\",\n    onLoad: handleIFrameLoaded\n  }), showSpinner && renderLoadingSpinner());\n}\n\nfunction renderLoadingSpinner() {\n  return React.createElement(MountChildrenOnDelay, {\n    delay: 1500\n  }, React.createElement(\"div\", {\n    className: \"WACIFrameComponent__StatusContainer\"\n  }, React.createElement(Loading, {\n    active: true,\n    overlay: false\n  })));\n}\n\nfunction renderErrorMessage(errorText) {\n  return React.createElement(\"div\", {\n    className: \"WACIFrameComponent__StatusContainer\"\n  }, React.createElement(InlineError, {\n    text: errorText\n  }));\n}\n\nexport { IFrameComponent as I, Loading as L };\n","import FocusTrap from \"focus-trap-react\";\n\nimport React, { useRef, useImperativeHandle } from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\nimport { I as IS_MOBILE } from \"./chat.browserUtils.js\";\n\nimport { H as HeaderExport } from \"./chat.Header.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function BasePanelComponent({className: className, children: children, isOpen: isOpen, hidePanelHeader: hidePanelHeader, labelBackButton: labelBackButton, title: title, hideBackButton: hideBackButton, useAITheme: useAITheme, onClickCloseAndRestart: onClickCloseAndRestart, onClickRestart: onClickRestart, testIdPrefix: testIdPrefix, ...headerProps}, ref) {\n  const showRestartButton = useSelector(state => state.config.public.headerConfig?.showRestartButton);\n  const headerRef = useRef();\n  useImperativeHandle(ref, () => headerRef.current);\n  return React.createElement(FocusTrap, {\n    active: isOpen,\n    focusTrapOptions: {\n      clickOutsideDeactivates: true,\n      returnFocusOnDeactivate: !IS_MOBILE,\n      preventScroll: true\n    }\n  }, React.createElement(\"div\", {\n    className: className\n  }, !hidePanelHeader && React.createElement(HeaderExport, {\n    ...headerProps,\n    ref: headerRef,\n    showRestartButton: showRestartButton,\n    onClickRestart: onClickRestart,\n    onCloseAndRestart: onClickCloseAndRestart,\n    showBackButton: !hideBackButton,\n    labelBackButton: labelBackButton,\n    displayName: title,\n    useAITheme: useAITheme,\n    testIdPrefix: testIdPrefix,\n    showCenter: true\n  }), React.createElement(\"div\", {\n    className: \"WACPanelContent\"\n  }, children)));\n}\n\nconst BasePanelComponentExport = React.memo(React.forwardRef(BasePanelComponent));\n\nexport { BasePanelComponentExport as B };\n","import React, { useContext, PureComponent } from \"react\";\n\nimport { u as useLanguagePack } from \"./chat.AppState.js\";\n\nimport ErrorFilled from \"@carbon/icons-react/es/ErrorFilled.js\";\n\nimport cx from \"classnames\";\n\nimport { R as RichTextExport } from \"./chat.RichText.js\";\n\nimport { A as AriaAnnouncerContext } from \"./chat.usePrevious.js\";\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function ErrorIcon(props) {\n  return React.createElement(ErrorFilled, {\n    className: cx(\"WACErrorIcon\", props.className)\n  });\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function InlineError({text: text}) {\n  const languagePack = useLanguagePack();\n  return React.createElement(\"div\", {\n    className: \"WAC__inlineError\"\n  }, React.createElement(\"div\", {\n    className: \"WAC__inlineError--iconHolder\"\n  }, React.createElement(ErrorIcon, {\n    className: \"WAC__inlineError--icon\"\n  })), React.createElement(\"div\", {\n    className: \"WAC__inlineError--text\"\n  }, React.createElement(RichTextExport, {\n    shouldRemoveHTMLBeforeMarkdownConversion: true,\n    text: text || languagePack.errors_generalContent\n  })));\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ function useAriaAnnouncer() {\n  return useContext(AriaAnnouncerContext);\n}\n\n/*\n *  Copyright IBM Corp. 2025\n *\n *  This source code is licensed under the Apache-2.0 license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  @license\n */ class MountChildrenOnDelay extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      showChildren: false\n    };\n  }\n  componentDidMount() {\n    this.onComponentDidMount = setTimeout(() => {\n      this.setState({\n        showChildren: true\n      });\n    }, this.props.delay);\n  }\n  componentWillUnmount() {\n    clearTimeout(this.onComponentDidMount);\n    this.onComponentDidMount = undefined;\n  }\n  render() {\n    if (!this.state.showChildren) {\n      return false;\n    }\n    return this.props.children;\n  }\n}\n\nMountChildrenOnDelay.defaultProps = {\n  delay: 500\n};\n\nexport { InlineError as I, MountChildrenOnDelay as M, useAriaAnnouncer as u };\n"],"names":["IFramePanelComponent","props","ref","languagePack","useLanguagePack","store","useServiceManager","isOpen","messageItem","useSelector","state","iFramePanelState","iframeTitle","title","source","React","BasePanelComponentExport","className","onClickBack","dispatch","actions","closeIFramePanel","labelBackButton","iframe_ariaClosePanel","eventName","eventDescription","testIdPrefix","OverlayPanelName","IFRAME","IFrameComponent","key","IFramePanelExport","forwardRef","Loading","createComponent","tagName","elementClass","CarbonLoadingElement","react","onTimeoutOverride","onLoad","errors_iframeSource","iframe_ariaSourceLoaded","ariaAnnouncer","useAriaAnnouncer","showSpinner","setShowSpinner","useState","showError","setShowError","handleIFrameTimeout","useCallback","handleIFrameLoaded","useEffect","errorTimeout","setTimeout","RESPONSE_TYPE_TIMEOUT_MS","clearTimeout","errorText","InlineError","text","src","sandbox","referrerPolicy","MountChildrenOnDelay","delay","active","overlay","BasePanelComponent","children","hidePanelHeader","hideBackButton","useAITheme","onClickCloseAndRestart","onClickRestart","headerProps","showRestartButton","config","public","headerConfig","headerRef","useRef","useImperativeHandle","current","FocusTrap","focusTrapOptions","clickOutsideDeactivates","returnFocusOnDeactivate","IS_MOBILE","preventScroll","HeaderExport","onCloseAndRestart","showBackButton","displayName","showCenter","ErrorIcon","ErrorFilled","cx","RichTextExport","shouldRemoveHTMLBeforeMarkdownConversion","errors_generalContent","useContext","AriaAnnouncerContext","PureComponent","constructor","super","arguments","this","showChildren","componentDidMount","onComponentDidMount","setState","componentWillUnmount","undefined","render","defaultProps"],"sourceRoot":""}