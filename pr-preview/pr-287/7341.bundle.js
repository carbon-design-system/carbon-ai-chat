/*! For license information please see 7341.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[7341],{171:function(e,t,n){n.d(t,{U:function(){return r},u:function(){return i}});var r,o=n(5745);function i(e){return(0,o.A)()}!function(e){e[e.MISCELLANEOUS=1]="MISCELLANEOUS",e[e.LOCAL_MESSAGE=2]="LOCAL_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.COMPONENT=4]="COMPONENT",e[e.USER=6]="USER",e[e.DEVICE_ID=8]="DEVICE_ID",e[e.FILE=9]="FILE"}(r||(r={}))},481:function(e,t,n){n.d(t,{I:function(){return l},a:function(){return f},b:function(){return d},c:function(){return s},d:function(){return m},e:function(){return E},g:function(){return C}});var r=n(4880),o=n(711);const i="undefined"!=typeof window&&"undefined"!=typeof navigator,a=i?(0,r.o0)():void 0;let u=0,c=0;i&&(u=window.screen.width,c=window.screen.height);const s="iOS"===a?.os,l=s||"Android OS"===a?.os,d=l&&(u<500||c<500),m=d&&u<500,f=(0,o.A)(function(){if(!i||!window.sessionStorage)return!1;try{return window.sessionStorage.setItem("web-chat-test-item","true"),window.sessionStorage.getItem("web-chat-test-item"),window.sessionStorage.removeItem("web-chat-test-item"),!0}catch{return!1}});function C(e){try{return new URL(e).hostname}catch{return e}}function E(e,t){return t?setTimeout(e,t):(e(),null)}},3744:function(e,t,n){n.d(t,{A:function(){return v},S:function(){return u},a:function(){return d},b:function(){return N},c:function(){return s},d:function(){return f},e:function(){return C},f:function(){return T},g:function(){return g},h:function(){return _},i:function(){return S},j:function(){return h},k:function(){return p},l:function(){return E},m:function(){return l},u:function(){return c}});var r=n(3696),o=n(2271),i=n(711),a=n(3066);const u=r.createContext(null);function c(){return(0,r.useContext)(u)}const s=(0,i.A)(function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n});function l(e,t=!1,n){e&&(0,o.O)(e,{boundary:n,scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:e,top:n,left:r})=>{d(e,Math.round(n),Math.round(r),t)})}function d(e,t,n,r=!1){setTimeout(()=>{e&&(r&&e.scroll?e.scroll({top:t,left:n,behavior:"smooth"}):(e.scrollTop=t,e.scrollLeft=n))})}function m(e,t=!1){e&&document.activeElement!==e&&(0,a.tabbable)(e,{getShadowRoot:!0})&&e.focus({preventScroll:t})}function f(e,t=!1,n=!1){e&&(t?setTimeout(()=>{f(e)}):e.current&&m(e.current,n))}function C(e){return 1===e?.nodeType}function E(e){return 3===e?.nodeType}function _(e){return"INPUT"===e?.tagName}function p(e){return"IMG"===e?.tagName}function h(e){return"TEXTAREA"===e?.tagName}function T(e){for(let t=0;t<e.length;t++)if(A(e[t]))return!0;return!1}function A(e){const t=(0,a.tabbable)(e,{getShadowRoot:!0});return!!t?.length&&(m(t[0]),!0)}function S(e){return"Enter"===e.key&&!function(e){return e.shiftKey||e.altKey||e.metaKey||e.ctrlKey}(e)&&!(e.isComposing||229===e.keyCode)}function g(e){return e?e.scrollHeight-e.offsetHeight-e.scrollTop:0}const v=r.createContext(null);function N(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},8031:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var r=n(6680),o=n(2629),i=n(408),a=n(3210),u=n(3696),c=n(829),s=n(8710),l=n(5022),d=n(3539),m=n(5550),f=n(9708),C=n(3744),E=n(6874),_=n(8213),p=n(2794),h=n(6564),T=n(8738),A=n(2117),S=n(8382),g=n(4452),v=n(307),N=n(4859),I=n(893),w=n(5564),W=n(1536);n(5285),n(8142),n(3192),n(619),n(1264),n(7323),n(3082);const B=(0,a.a)({tagName:"cds-custom-inline-notification",elementClass:c.Ay,react:u});function y(e){const{hideMinimizeButton:t,onMinimizeClick:n,onCloseClick:r}=e,{tour_ariaMinimizeButton:o,tour_ariaCloseButton:a}=(0,f.u)();return u.createElement("div",{className:"WACTour__CloseMinimizeWrapper"},!t&&u.createElement(u.Fragment,null,u.createElement(i.$nd,{className:"WACTour__CloseMinimizeButton WACTour__MinimizeButton",kind:"ghost",hasIconOnly:!0,renderIcon:h.A,iconDescription:o,onClick:n,"aria-label":o}),u.createElement("div",{className:"WACTour__CloseMinimizeDivider"})),u.createElement(i.$nd,{className:"WACTour__CloseMinimizeButton WACTour__CloseButton",kind:"ghost",hasIconOnly:!0,renderIcon:p.A,iconDescription:a,onClick:r,"aria-label":a}))}function b(e,t){const{reservePreviousButtonSpace:n,hidePreviousButton:r,renderDoneButton:o,disableNextButton:a,hideButtons:c,hideChatButton:s,onOpenMainWindowClick:l,onNextClick:d,onPreviousClick:m,onDoneClick:E}=e,{tour_ariaChatButton:_,tour_ariaNextButton:p,tour_ariaPreviousButton:h,tour_doneButton:v}=(0,f.u)(),N=(0,u.useRef)(),I=(0,u.useRef)();return(0,u.useImperativeHandle)(t,()=>({requestFocus:()=>{setTimeout(()=>{I.current?(0,C.d)(I):(0,C.d)(N)})}})),u.createElement("div",{className:g("WACTour__Controls",{"WACTour__Controls--empty":c})},!s&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{className:"WACTour__MainWindowButton",kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>u.createElement(S.A,{...e}),iconDescription:_,onClick:l,"aria-label":_})),n&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{className:g("WACTour__PreviousButton",{"WACTour__ControlsButton--hidden":r}),kind:"ghost",size:"md",hasIconOnly:!0,renderIcon:e=>u.createElement(T.A,{...e}),iconDescription:h,onClick:m,"aria-label":h})),o&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{ref:I,className:"WACTour__DoneButton",size:"md",onClick:E},v)),!o&&u.createElement("div",{className:"WACTour__ControlsButton"},u.createElement(i.$nd,{ref:N,className:"WACTour__NextButton",size:"md",hasIconOnly:!0,renderIcon:e=>u.createElement(A.A,{...e}),iconDescription:p,onClick:d,disabled:a,"aria-label":p})))}const k=u.forwardRef(b);function M(e){const{stepGenericItem:t,isCurrentStep:n}=e,r=(0,m.u)(),o=(0,u.useRef)();return(0,u.useEffect)(()=>{n&&setTimeout(()=>r(o.current))},[n,t.response_type,r]),u.createElement("div",{className:"WACTourStep__Wrapper",ref:o},u.createElement("div",{className:g("WACTourStep","WAC__message",{"WACTourStep--hidden":!n,WACTourStep__BottomBorder:function(){switch(t.response_type){case w.b.TEXT:return!0;case w.b.IMAGE:case w.b.VIDEO:return t?.description;default:return!0}}()})},function(){switch(t.response_type){case w.b.TEXT:return u.createElement(O,{messageItem:t});case w.b.IMAGE:return u.createElement(R,{messageItem:t});case w.b.VIDEO:return u.createElement(D,{messageItem:t,isCurrentStep:n});default:return u.createElement(x,{messageItem:t,isCurrentStep:n})}}()))}function O(e){const{messageItem:t}=e,{text:n}=t;return u.createElement("div",{className:"WACTourStep__Text"},u.createElement(I.R,{text:n}))}function R(e){const{messageItem:t}=e,{source:n,description:r,alt_text:o}=t,i=(0,f.u)();return u.createElement(E.I,{imageError:i.errors_imageSource,source:n,description:r,altText:o,hideIconAndTitle:!0})}function D(e){const{messageItem:t,isCurrentStep:n}=e,{source:r,description:o,alt_text:i}=t,{viewState:a}=(0,l.d4)(e=>e.persistedToBrowserStorage.launcherState),[c,s]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{n&&a.tour||s(!1)},[n,a.tour]),u.createElement(E.a,{source:r,description:o,baseHeight:(0,v.g)(t)?.base_height,ariaLabel:i,playing:c,onPlay:()=>s(!0),onPause:()=>s(!1),hideIconAndTitle:!0})}function x(e){const{messageItem:t,isCurrentStep:n}=e,r=(0,f.u)();return(0,u.useEffect)(()=>{n&&(0,N.b)(`The response type you tried to use "${t.response_type}" is not valid within a tour step. The supported response types in tour steps are text, video, and image.`)},[n,t.response_type]),u.createElement("div",{className:"WACTourStep__UnsupportedResponse"},u.createElement(m.I,{text:r.errors_generalContent}))}const z=u.memo(M);function L(){return u.createElement("div",{className:"WACTourStep WACTourStep__Skeleton"},u.createElement(E.S,{className:"WACTourStep__SkeletonPlaceholder"}))}function P(e,t){const n=(0,f.u)(),a=(0,C.u)(),c=(0,m.u)(),p=(0,s.A)(),h=(0,l.d4)(e=>e.config.public.tourConfig),{isHydrated:T}=(0,l.d4)(e=>e),{viewState:A}=(0,l.d4)(e=>e.persistedToBrowserStorage.launcherState),{activeTourCurrentStepIndex:S}=(0,l.d4)(e=>e.persistedToBrowserStorage.chatState.persistedTourState),{activeTourStepItems:g}=(0,l.d4)(e=>e.tourState),[v,N]=(0,u.useState)(!1),[I,w]=(0,u.useState)(!1),[b,M]=(0,u.useState)(!1),O=(0,u.useRef)(),R=(0,u.useRef)(),D=a.namespace.originalName,x=D?"window_ariaTourRegionNamespace":"window_ariaTourRegion",P=(0,E.f)(p,x,{namespace:D}),U=!A.tour;let V=!0,H=!1,F=!1,G=[];return T&&g?(V=g.length>1,H=S<=0,F=S>=g.length-1,G=g.map((e,t)=>u.createElement(z,{key:t,stepGenericItem:e,isCurrentStep:t===S}))):T||(G=[u.createElement(L,{key:0})]),(0,u.useImperativeHandle)(t,()=>R.current),(0,u.useEffect)(()=>{if(T&&!U&&!b){const e=p.formatMessage({id:"tour_instructions"},{chatButtonText:n.tour_ariaChatButton});c(e)}},[U,c,n,p,T,b]),(0,u.useEffect)(()=>{!T&&U||R.current?.requestFocus()},[U,T]),u.createElement(_.H,{hidden:U},u.createElement("div",{ref:O,className:"WACTour",role:"region","aria-label":P},u.createElement(y,{hideMinimizeButton:h?.hideMinimizeButton,onCloseClick:async function(){await a.actions.endTour({viewChangeReason:d.V.TOUR_CLOSED})},onMinimizeClick:async function(){await a.actions.changeView(W.V.LAUNCHER,{viewChangeReason:d.V.TOUR_MINIMIZED})}}),b&&u.createElement(E.A,null,u.createElement("div",{className:"WACTour__ErrorScreen"},u.createElement("div",{className:"WACTour__ErrorHeader"},u.createElement(r.A,{size:20,className:"WACTour__ErrorIcon"}),n.tour_errorTitle),u.createElement("div",{className:"WACTour__ErrorBody"},u.createElement("div",{className:"WACTour__ErrorText"},n.tour_errorBody),u.createElement(i.$nd,{className:"WACTour__ErrorButton",size:"sm",kind:"tertiary",renderIcon:e=>u.createElement(o.A,{size:32,...e})},n.buttons_retry)))),!b&&u.createElement(u.Fragment,null,G,u.createElement("div",{className:"WACTour__StatusContainer"},I&&u.createElement(E.A,null,u.createElement(B,{kind:"error",title:n.tour_errorFetchingStep,lowContrast:!0,hideCloseButton:!0,onClick:()=>w(!1)})),v&&u.createElement(m.M,{delay:500},u.createElement("div",{className:"WACLoadingBar__ConnectingAnimation"}))),u.createElement(k,{ref:R,hideChatButton:h?.hideChatButton,reservePreviousButtonSpace:V,hidePreviousButton:H,disableNextButton:v,hideButtons:!T,renderDoneButton:F,onNextClick:()=>{a.actions.changeStepInTour({nextStep:!0}),S+1===g.length-1&&R.current?.requestFocus()},onPreviousClick:()=>{a.actions.changeStepInTour({previousStep:!0}),S-1==0&&R.current?.requestFocus()},onOpenMainWindowClick:async function(){await a.actions.changeView(W.V.MAIN_WINDOW,{mainWindowOpenReason:d.b.TOUR_OPENED_OTHER_VIEW})},onDoneClick:async function(){await a.eventBus.fire({type:d.B.TOUR_END,reason:d.T.DONE_CLICKED},a.instance),await a.actions.endTour({viewChangeReason:d.V.TOUR_DONE})}}))))}const U=u.memo(u.forwardRef(P))},8213:function(e,t,n){n.d(t,{H:function(){return a},a:function(){return i}});var r=n(4452),o=n(3696);const i=o.createContext(!1);function a(e){const{hidden:t,children:n,className:a,...u}=e;return o.createElement(i.Provider,{value:t},o.createElement("div",{className:r(a,{WAC__hidden:t}),...u},n))}},9708:function(e,t,n){n.d(t,{C:function(){return a},L:function(){return o},u:function(){return i}});var r=n(3696);const o=r.createContext(null);function i(){return(0,r.useContext)(o)}var a;!function(e){e.NARROW="narrow",e.STANDARD="standard",e.WIDE="wide"}(a||(a={}))}}]);
//# sourceMappingURL=7341.bundle.js.map