/*! For license information please see 2223.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_carbon_ai_chat_examples_demo=self.webpackChunk_carbon_ai_chat_examples_demo||[]).push([[2223],{1200:function(e,t,n){n(7181)},2117:function(e,t,n){n.d(t,{A:function(){return c}});var a,o,r,l,s=n(3696),i=n(1709);const c=s.forwardRef(function({children:e,size:t=16,...n},c){return 16===t||"16"===t||"16px"===t?s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...n},a||(a=s.createElement("path",{d:"M9.3 3.7L13.1 7.5 1 7.5 1 8.5 13.1 8.5 9.3 12.3 10 13 15 8 10 3z"})),e):20===t||"20"===t||"20px"===t?s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n},o||(o=s.createElement("path",{d:"M11.8 2.8L10.8 3.8 16.2 9.3 1 9.3 1 10.7 16.2 10.7 10.8 16.2 11.8 17.2 19 10z"})),e):24===t||"24"===t||"24px"===t?s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n},r||(r=s.createElement("path",{d:"M14 4L12.9 5.1 18.9 11.2 2 11.2 2 12.8 18.9 12.8 12.9 18.9 14 20 22 12z"})),e):s.createElement(i.A,{width:t,height:t,ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},l||(l=s.createElement("path",{d:"M18 6L16.57 7.393 24.15 15 4 15 4 17 24.15 17 16.57 24.573 18 26 28 16 18 6z"})),e)})},2223:function(e,t,n){n.r(t),n.d(t,{HomeScreenContainer:function(){return N}});var a,o=n(3696),r=n(5022),l=n(5608),s=n(6683),i=n(4271),c=n(4458),u=n(2117),m=n(4013),d=n(4452),p=n(8710),C=n(6254),_=n(5822),h=n(2870),A=n(6574),E=n(8205),f=n(5884);!function(e){e.NONE="none",e.SOLID="solid",e.BOTTOM_UP="bottom_up"}(a||(a={}));var S=n(6543),g=n(8795);function b({botName:e,botAvatarURL:t,homeScreenConfig:n,homeScreenMessageInputRef:i,onStarterClick:b,onSendInput:v,isHydrated:w,onClose:N,onCloseAndRestart:H,onRestart:R,onToggleHomeScreen:I}){const T=(0,p.A)(),W=(0,C.D)(),L=(0,s.O)(),[x,B]=(0,o.useState)(!1),{showBackToBot:y}=(0,r.d4)(e=>e.persistedToBrowserStorage.chatState.homeScreenState),M=(0,l.Z)(w),k=(0,r.d4)(e=>e.theme.useAITheme),O=L.writeableElements[g.t.HOME_SCREEN_AFTER_STARTERS_ELEMENT].hasChildNodes(),{greeting:U,starters:F,bot_avatar_url:P,background:z,custom_content_only:D}=n,$=F?.is_on&&Boolean(F.buttons?.length),Z=P||t,K=T.formatMessage({id:"header_ariaBotAvatar"},{botName:e}),V=!k&&z===a.SOLID,G=!k&&z===a.BOTTOM_UP,Q=Z&&!x&&!k&&!D,q=w&&!M;return o.createElement("div",{className:d("WACHomeScreen",{"WACHomeScreen--backgroundAITheme":k,"WACHomeScreen--hydrationComplete":w,"WACHomeScreen--firstRender":q,"WACHomeScreen--backgroundSolid":V,"WACHomeScreen--backgroundGradientBottomUp":G})},o.createElement(f.Z,{brandColor:V?_.L4.ACCENT:_.L4.PRIMARY,onRestart:R,onClose:N,onCloseAndRestart:H}),o.createElement(E.A,{slotName:g.t.HOME_SCREEN_HEADER_BOTTOM_ELEMENT,className:"WACHomeScreen__HomeScreenBottomElement",id:`homeScreenHeaderBottomElement${L.namespace.suffix}`}),o.createElement("div",{className:"WACPanelContent WACHomeScreen__content"},o.createElement("div",{className:"WACHomeScreen__bodyWrapper"},o.createElement("div",{className:d("WACHomeScreen__body",{"WACHomeScreen__body--noCustomContent":!O,"WACHomeScreen__body--customContent":O,"WACHomeScreen__body--customContentOnly":D,"WACHomeScreen__body--noAvatar":!Q})},Q&&o.createElement("div",{className:"WACHomeScreen__avatarHolder"},o.createElement("img",{className:"WACHomeScreen__botAvatar",src:Z,alt:K,onError:()=>{B(!0),(0,h.yA)("The bot avatar URL failed to load.")}})),o.createElement("div",{className:"WACHomeScreen__initialContent"},!D&&o.createElement("div",{className:"WACHomeScreen__greeting"},U),!D&&$&&o.createElement("div",{className:d("WACHomeScreen__starters",{"WACHomeScreen__starters--animateGroup":F.buttons.length>5})},F.buttons.map((e,t)=>o.createElement(m.bJ3,{type:"button",size:S.Ni.SMALL,kind:S.wQ.TERTIARY,isQuickAction:!0,key:t,className:"WACHomeScreen__starter",onClick:()=>b(e)},e.label))))),o.createElement("div",{className:d("WACHomeScreen__customContent",{"WACHomeScreen__customContent--customContentOnly":D,"WACHomeScreen__customContent--animation":(O||D)&&!V})},o.createElement(E.A,{slotName:g.t.HOME_SCREEN_AFTER_STARTERS_ELEMENT,id:`homeScreenAfterStartersElement${L.namespace.suffix}`}))),o.createElement("div",{className:d("WACHomeScreen__inputContainerWrapper",{"WACHomeScreen__inputContainerWrapper--noCustomContent":!O&&!D})},y&&o.createElement(m.bJ3,{type:"button",size:S.Ni.SMALL,kind:S.wQ.SECONDARY,className:"WACHomeScreen__backButton",onClick:I},o.createElement("span",{className:"WACHomeScreen__backButtonContent"},o.createElement("span",{className:"WACHomeScreen__backButtonContentText"},W.homeScreen_returnToAssistant),o.createElement(u.A,null))),o.createElement(E.A,{slotName:g.t.HOME_SCREEN_BEFORE_INPUT_ELEMENT,id:`homeScreenBeforeInputElement${L.namespace.suffix}`}),o.createElement("div",{className:"WACHomeScreen__inputContainer"},o.createElement(A.p,{ref:i,onSendInput:v,disableInput:!1,isInputVisible:!0,disableSend:!1,languagePack:W,serviceManager:L,testIdPrefix:c.G.HOME_SCREEN})))))}const v=o.memo(b);var w=n(7391);function N({onClose:e,onCloseAndRestart:t,onPanelCloseStart:n,onPanelOpenStart:a,onPanelCloseEnd:u,onPanelOpenEnd:m,onSendBotInput:d,onSendButtonInput:p,onRestart:C,showHomeScreen:_,isHydrationAnimationComplete:h,homeScreenInputRef:A,onToggleHomeScreen:E}){const f=(0,s.O)(),S=(0,r.d4)(e=>e.homeScreenConfig),g=(0,r.d4)(e=>e.botAvatarURL),b=(0,r.d4)(e=>e.botName),N=(0,r.d4)(e=>e.customPanelState.isOpen),H=(0,l.Z)(h),R=N,I=_&&h&&H,T=(0,o.useCallback)(e=>{d(e)},[d]),W=(0,o.useCallback)(e=>{p({label:e.label,value:{input:{text:e.label}}},w.R2)},[p]);return o.createElement(c.j,{onOpenStart:a,onOpenEnd:m,onCloseStart:n,onCloseEnd:u,animationOnOpen:I?i.K.FADE_IN:i.K.NONE,animationOnClose:i.v.FADE_OUT,shouldOpen:_,shouldHide:R,serviceManager:f,overlayPanelName:c.G.HOME_SCREEN},o.createElement(v,{botName:b,botAvatarURL:g,isHydrated:h,homeScreenMessageInputRef:A,homeScreenConfig:S,onSendInput:T,onStarterClick:W,onClose:e,onCloseAndRestart:t,onRestart:C,onToggleHomeScreen:E}))}},2417:function(e,t,n){n.d(t,{A:function(){return l}});var a,o=n(3696),r=n(1709);const l=o.forwardRef(function({children:e,size:t=16,...n},l){return o.createElement(r.A,{width:t,height:t,ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},a||(a=o.createElement("path",{d:"M28.1,18.9L13.1,3.9c-2.5-2.6-6.6-2.6-9.2-0.1S1.3,10.5,3.9,13c0,0,0.1,0.1,0.1,0.1L6.8,16l1.4-1.4l-2.9-2.9 C3.6,10,3.6,7.1,5.3,5.4s4.6-1.8,6.3-0.1c0,0,0,0,0.1,0.1l14.9,14.9c1.8,1.7,1.8,4.6,0.1,6.3c-1.7,1.8-4.6,1.8-6.3,0.1 c0,0,0,0-0.1-0.1l-7.4-7.4c-1-1-0.9-2.6,0-3.5c1-0.9,2.5-0.9,3.5,0l4.1,4.1l1.4-1.4c0,0-4.2-4.2-4.2-4.2c-1.8-1.7-4.6-1.6-6.3,0.2 c-1.6,1.7-1.6,4.4,0,6.2l7.5,7.5c2.5,2.6,6.6,2.6,9.2,0.1S30.7,21.5,28.1,18.9C28.1,19,28.1,18.9,28.1,18.9L28.1,18.9z"})),e)})},6574:function(e,t,n){n.d(t,{p:function(){return F}});var a,o=n(2417),r=n(6854),l=n(3696),s=n(1709);const i=l.forwardRef(function({children:e,size:t=16,...n},o){return l.createElement(s.A,{width:t,height:t,ref:o,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},a||(a=l.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L6.69,15H18v2H6.69L4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Z"})),e)});var c=n(4013),u=n(4452),m=n(3210),d=n(4629),p=n(3981),C=(n(1200),n(1523)),_=n(3192),h=n(4574),A=n(404),E=n(6543);const f=(0,C.dI)({elem:"svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:16,height:16},content:[{elem:"path",attrs:{d:"M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M11,10c0,0.6-0.4,1-1,1H6c-0.6,0-1-0.4-1-1V6c0-0.6,0.4-1,1-1h4\tc0.6,0,1,0.4,1,1V10z"}}],name:"stop--filled",size:16});var S=n(9890),g=n(619);class b extends _.WF{_handleOnClick(){this.onClick()}}b.styles=_.AH`
    ${(0,_.iz)(".cds--aichat-stop-icon svg{\n  fill:var(--cds-icon-disabled, rgba(22, 22, 22, 0.25));\n}")}
  `,(0,d.Cg)([(0,g.MZ)({type:String,attribute:"label"})],b.prototype,"label",void 0),(0,d.Cg)([(0,g.MZ)({type:String,attribute:"tooltip-alignment"})],b.prototype,"tooltipAlignment",void 0),(0,d.Cg)([(0,g.MZ)({type:Boolean,attribute:"disabled"})],b.prototype,"disabled",void 0),(0,d.Cg)([(0,g.MZ)({type:Object})],b.prototype,"onClick",void 0),(0,d.Cg)([S.oI],b.prototype,"_handleOnClick",null);let v=class extends b{render(){return function({label:e,disabled:t,tooltipAlignment:n,onClick:a}){return _.qy`
    <cds-custom-icon-button
      class="${A.o}-stop-streaming-button"
      align="${n}"
      kind="${E.wQ.GHOST}"
      size="${E.Ni.SMALL}"
      ?disabled=${t}
      @click="${a}"
    >
      <span
        class="${t?`${A.o}-stop-icon`:""}"
        slot="icon"
        >${(0,h.T)(f)}</span
      >
      <span slot="tooltip-content">${e}</span>
    </cds-custom-icon-button>
  `}(this)}};v=(0,d.Cg)([(0,p.Q)("cds-aichat-stop-streaming-button")],v);const w=(0,m.a)({tagName:"cds-aichat-stop-streaming-button",elementClass:v,react:l});var N=n(7113),H=n(1748),R=n(9049),I=n(5230),T=n(7338),W=n(6753);class L{constructor(){this.listeners=[]}addListener(e){this.listeners=[...this.listeners,e]}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}fireListeners(...e){this.listeners.length&&this.listeners.forEach(t=>t(...e))}}var x=n(2870);class B extends l.PureComponent{constructor(){super(...arguments),this.textAreaRef=l.createRef()}getHTMLElement(){return this.textAreaRef.current}takeFocus(){(0,T.Ht)(this.textAreaRef,!1,!0)}doBlur(){this.textAreaRef.current.blur()}render(){const{isRequired:e,name:t,id:n,onFocus:a,onBlur:o,onClick:r,onChange:s,onKeyDown:i,rows:c,value:m,autoSize:d,maxLength:p,disabled:C,placeholder:_,ariaLabel:h,testId:A,onSelect:E}=this.props;return l.createElement("div",{className:u("WAC__TextArea",{"WAC__TextArea--autoSize":d,"WAC__TextArea--disabled":C})},l.createElement("textarea",{ref:this.textAreaRef,"aria-label":h,"aria-required":e,className:"WAC__TextArea-textarea",disabled:C,id:n||A,maxLength:p,name:t,onFocus:a,onBlur:o,onClick:r,onChange:s,onKeyDown:i,onSelect:E,placeholder:_,rows:c,value:m||"","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false","data-testid":A}),d&&l.createElement("div",{className:"WAC__TextArea-sizer"},m||_||" "))}}B.defaultProps={isRequired:!1,maxLength:1e4};var y=n(5505),M=n(2566),k=n(6895),O=n(577);function U(e,t){const{isInputVisible:n,placeholder:a,disableInput:s,disableSend:m,disableUploadButton:d,pendingUploads:p,allowedFileUploadTypes:C,allowMultipleFileUploads:_,showUploadButton:h,onFilesSelectedForUpload:A,onSendInput:f,blurOnSend:S,serviceManager:g,onUserTyping:b,languagePack:v,isStopStreamingButtonVisible:U,isStopStreamingButtonDisabled:F,testIdPrefix:P}=e,z=`${g.namespace.suffix}-${(0,N.I)()}`,[D,$]=(0,l.useState)(!1),[Z,K]=(0,l.useState)(""),V=(0,l.useRef)(!0),G=(0,l.useRef)(null),Q=(0,l.useRef)(),q=(0,l.useRef)(),j=(0,l.useRef)(new L),Y=(0,l.useRef)(""),J=(0,l.useRef)({getHTMLElement:()=>Q?.current?.getHTMLElement(),setValue:e=>K(e),setEnableEnterKey:e=>{V.current=e},addChangeListener:e=>j.current.addListener(e),removeChangeListener:e=>j.current.removeListener(e)});function X(){G.current&&(clearTimeout(G.current),G.current=null,b?.(!1))}function ee(e){if(ne()){e.preventDefault(),X();const t=Z.trim();f(t),K(""),S?Q.current.doBlur():Q.current.takeFocus()}}function te(){!I.yS&&n&&Q.current.takeFocus()}function ne(){const e=Boolean(p?.length);return(!e||!p.find(e=>!(0,x.tk)(e)))&&(Boolean(Z.trim())||e)}D&&s&&$(!1),(0,l.useImperativeHandle)(t,()=>({takeFocus:te,getMessageInput:()=>J.current}));const{input_buttonLabel:ae,input_placeholder:oe,input_ariaLabel:re,input_uploadButtonLabel:le,input_stopResponse:se}=v,ie=s?"":Z,ce=ne(),ue=!ce||s||m,me=d||s,de=`WACInputContainer__UploadInput-${z}`,pe="rtl"===document.dir,Ce=a||(s?void 0:oe);return Y.current!==Z&&(Y.current=Z,j.current.fireListeners(Z)),n&&l.createElement("div",{className:"WACInputAndCompletions"},l.createElement("div",{className:u("WACInputContainer",{"WACInputContainer--hasFocus":D,"WACInputContainer--showUploadButton":h})},l.createElement("div",{className:"WACInputContainer__LeftContainer"},l.createElement("div",{className:"WACInputContainer__TextAndUpload"},h&&l.createElement("div",{className:"WACInputContainer__UploadButtonContainer"},l.createElement("input",{ref:q,accept:C,id:de,className:"WACVisuallyHidden WACInputContainer__UploadInput",type:"file","aria-label":le,onChange:function(e){const t=(0,R.PK)(g.store.getState()),{dispatch:n}=g.store,{files:a}=e.target,o=[];for(let e=0;e<a.length;e++){const r={id:(0,W.u)(O.y.FILE),status:k.aT.EDIT,file:a[e]};o.push(r),n(H.Ay.addInputFile(r,t))}A?.(o),q.current.value=null},multiple:_,disabled:me}),l.createElement("label",{className:u("WACInputContainer__UploadButton",{"WACInputContainer__UploadButton--disabled":me}),htmlFor:de},l.createElement(o.A,null))),l.createElement(B,{autoSize:!0,ariaLabel:re,disabled:s,maxLength:2048,onChange:function(e){const t=e.target.value;b&&(G.current?clearTimeout(G.current):b(!0),G.current=setTimeout(X,5e3)),K(t)},onKeyDown:function(e){(0,T.Ci)(e)&&(m||!V.current?e.preventDefault():ee(e))},placeholder:Ce,value:ie,ref:Q,onFocus:function(){$(!0)},onBlur:function(){$(!1)},testId:(0,M.W)(M.g.INPUT,P)})),Boolean(p?.length)&&l.createElement("div",{className:"WACInputContainer__FilesContainer"},p.map((e,t)=>l.createElement(c.ssm,{key:t,iconDescription:v.fileSharing_removeButtonTitle,name:e.file.name,status:k.aT.EDIT,errorSubject:e.errorMessage,invalid:e.isError,size:E.Ni.SMALL,onDelete:()=>function(e){const t=(0,R.PK)(g.store.getState());g.store.dispatch(H.Ay.removeFileUpload(e,t)),Q.current.takeFocus()}(e.id)})))),l.createElement("div",{className:"WACInputContainer__SendButtonContainer"},U&&l.createElement(w,{label:se,disabled:F,tooltipAlignment:"top",onClick:()=>{const{store:e}=g;e.dispatch(H.Ay.setStopStreamingButtonDisabled(!0)),g.fire({type:y.xp.STOP_STREAMING})}}),l.createElement(c.$nd,{className:"WACInputContainer__SendButton",kind:E.wQ.GHOST,size:E.Ni.SMALL,type:"button",onClick:ee,"aria-label":ae,disabled:ue,renderIcon:ce?i:r.A,iconDescription:ae,tooltipAlignment:pe?"start":"end",tooltipPosition:"top",hasIconOnly:!0,"data-testid":(0,M.W)(M.g.INPUT_SEND,P)}))))}const F=l.memo((0,l.forwardRef)(U))},6854:function(e,t,n){n.d(t,{A:function(){return l}});var a,o=n(3696),r=n(1709);const l=o.forwardRef(function({children:e,size:t=16,...n},l){return o.createElement(r.A,{width:t,height:t,ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",...n},a||(a=o.createElement("path",{d:"M27.45,15.11l-22-11a1,1,0,0,0-1.08.12,1,1,0,0,0-.33,1L7,16,4,26.74A1,1,0,0,0,5,28a1,1,0,0,0,.45-.11l22-11a1,1,0,0,0,0-1.78Zm-20.9,10L8.76,17H18V15H8.76L6.55,6.89,24.76,16Z"})),e)})},7113:function(e,t,n){n.d(t,{I:function(){return r}});var a=n(3696);let o=1;function r(){const e=(0,a.useRef)();return void 0===e.current&&(e.current=o++),e.current}}}]);
//# sourceMappingURL=2223.bundle.js.map